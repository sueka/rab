"use strict";(self.webpackChunkrap=self.webpackChunkrap||[]).push([[1003],{93755:function(e,t,n){n.r(t),n.d(t,{default:function(){return T}});var l=n(28889),a=n(41749),r=n(22318),o=n(67294),s=n(64593),c=n(31753),u=n(97127),i=n(13833),d=n(87462),m=n(66283),p=n(8286),v=n(65616),f=n.n(v),E=n(46121),g=n(45733),Z=n(38606),C=n(85315),A=(0,C.vU)({noFileSelected:{id:"src.components.QrCodeDecoder.noFileSelected",defaultMessage:"No file selected."},decoding:{id:"src.components.QrCodeDecoder.decoding",defaultMessage:"Decoding…"},decodedSuccessfully:{id:"src.components.QrCodeDecoder.decodedSuccessfully",defaultMessage:"Decoded successfully."}});const h=e=>{let{value:t,...n}=e;const l=(0,o.useRef)(null);return o.createElement(p.Z,(0,d.Z)({value:t,inputRef:l,InputProps:{endAdornment:o.createElement(m.Z,{position:"end"},o.createElement(Z.Z,{inputFor:l}))}},n))};var b=()=>{const e=(0,o.useMemo)((()=>document.createElement("canvas")),[]),t=(0,o.useMemo)((()=>e.getContext("2d")),[e]),[n,l]=(0,o.useState)(),[r,s]=(0,o.useState)(),c=(0,o.useCallback)((n=>{let{currentTarget:l}=n;(0,E.s)(t);const a=l.height,r=l.width;e.height=a,e.width=r,t.drawImage(l,0,0);const o=t.getImageData(0,0,r,a),c=f()(o.data,r,a,{inversionAttempts:"dontInvert"});s((()=>null==c?void 0:c.data))}),[e,t]),i=(0,o.useCallback)((e=>{var t;if(l(null!==(t=e.target.files)&&void 0!==t?t:void 0),null===e.target.files||0===e.target.files.length)return;(0,E.s)(e.target.files[0]);const n=e.target.files[0],a=URL.createObjectURL(n),r=new Image;r.onload=c,r.src=a,URL.revokeObjectURL(a)}),[c]),d=(0,o.useMemo)((()=>void 0===n||0===n.length?o.createElement(u.Z,A.noFileSelected):void 0===r?o.createElement(u.Z,A.decoding):o.createElement(u.Z,A.decodedSuccessfully)),[n,r]);return o.createElement(a.Z,{container:!0,spacing:2},o.createElement(a.Z,{item:!0,xs:12,sm:6},o.createElement(g.Z,{accept:"image/*",resultMessage:d,onChange:i})),o.createElement(a.Z,{item:!0,xs:12,sm:6},o.createElement(h,{multiline:!0,fullWidth:!0,maxRows:10,value:null!=r?r:""})))},F=n(96394),x=n(110),k=n(92592),M=n(44586),U=n(43587),y=(0,C.vU)({errorCorrectionLevel:{id:"src.components.QrCodeEncoder.errorCorrectionLevel",defaultMessage:"Error correction level"},maskPattern:{id:"src.components.QrCodeEncoder.maskPattern",defaultMessage:"Mask pattern"},default:{id:"src.components.QrCodeEncoder.default",defaultMessage:"Default"}});const S=["L","M","Q","H"],B=[0,1,2,3,4,5,6,7];var _=e=>{let{...t}=e;const n=(0,o.useRef)(null),l=(0,o.useRef)(null),r=(0,o.useMemo)(M.Z,[]),s=(0,o.useMemo)(M.Z,[]),i=(0,o.useRef)(null),{formatMessage:m}=(0,c.Z)(),[v,f]=(0,o.useState)("M"),[g,Z]=(0,o.useState)(),C=(0,o.useCallback)((e=>{""!==e.currentTarget.value&&k.toCanvas(l.current,e.currentTarget.value,{errorCorrectionLevel:v,maskPattern:g})}),[l,v,g]),A=(0,o.useCallback)((e=>{var t,a;if(!(0,U.gB)(...S)(e.target.value))throw new Error;const r=e.target.value;f(r),(0,E.s)(null===(t=n.current)||void 0===t?void 0:t.value),k.toCanvas(l.current,null===(a=n.current)||void 0===a?void 0:a.value,{errorCorrectionLevel:r,maskPattern:g})}),[g]),h=(0,o.useCallback)((e=>{var t,a;if(!(0,U.gB)(...B.map((e=>`${e}`)),"default")(e.target.value))throw new Error;const r="default"!==e.target.value?Number(e.target.value):void 0;Z(r),(0,E.s)(null===(t=n.current)||void 0===t?void 0:t.value),k.toCanvas(l.current,null===(a=n.current)||void 0===a?void 0:a.value,{errorCorrectionLevel:v,maskPattern:r})}),[v]);return(0,o.useEffect)((()=>{var e;null!==(e=n.current)&&void 0!==e&&e.value&&k.toCanvas(l.current,n.current.value)}),[n,l]),o.createElement(a.Z,{container:!0,spacing:2,direction:"row"},o.createElement(a.Z,{item:!0,xs:12,sm:6,container:!0,spacing:2,alignContent:"flex-start"},o.createElement(a.Z,{item:!0,xs:12},o.createElement(p.Z,(0,d.Z)({fullWidth:!0,multiline:!0,inputRef:n,onChange:C},t))),o.createElement(a.Z,{item:!0,xs:6},o.createElement(F.Z,{ref:i,htmlFor:r},o.createElement(u.Z,y.errorCorrectionLevel)),o.createElement(x.Z,{native:!0,onChange:A,id:r,value:v},S.map(((e,t)=>o.createElement("option",{key:t,value:e},e))))),o.createElement(a.Z,{item:!0,xs:6},o.createElement(F.Z,{ref:i,htmlFor:s},o.createElement(u.Z,y.maskPattern)),o.createElement(x.Z,{native:!0,onChange:h,id:s,value:null!=g?g:"default"},o.createElement("option",{value:"default"},m(y.default)),B.map(((e,t)=>o.createElement("option",{key:t,value:e},e)))))),o.createElement(a.Z,{item:!0,xs:12,sm:6},o.createElement("canvas",{ref:l})))},w=(0,C.vU)({qrCodeTools:{id:"src.components.App.QrCodeToolsPage.qrCodeTools",defaultMessage:"QR code tools"},encoder:{id:"src.components.App.QrCodeToolsPage.encoder",defaultMessage:"Encoder"},decoder:{id:"src.components.App.QrCodeToolsPage.decoder",defaultMessage:"Decoder"}});var T=(0,i.D)((()=>{const{formatMessage:e}=(0,c.Z)();return o.createElement(o.Fragment,null,o.createElement(s.Z,{title:e(w.qrCodeTools)}),o.createElement(l.Z,null,o.createElement(l.Z,{padding:2},o.createElement(a.Z,{container:!0,spacing:2},o.createElement(a.Z,{item:!0,xs:12},o.createElement(r.Z,{variant:"h3"},o.createElement(u.Z,w.encoder))),o.createElement(a.Z,{item:!0,xs:12},o.createElement(_,{defaultValue:"https://sueka.me"})))),o.createElement(l.Z,{padding:2},o.createElement(a.Z,{container:!0,spacing:2},o.createElement(a.Z,{item:!0,xs:12},o.createElement(r.Z,{variant:"h3"},o.createElement(u.Z,w.decoder))),o.createElement(a.Z,{item:!0,xs:12},o.createElement(b,null))))))}))},38606:function(e,t,n){n.d(t,{Z:function(){return E}});var l=n(87462),a=n(17812),r=n(3380),o=n(92680),s=n(20640),c=n.n(s),u=n(94546),i=n(67294),d=n(31753),m=n(97127),p=n(46121),v=(0,n(85315).vU)({textCopied:{id:"src.components.CopyTextButton.textCopied",defaultMessage:"Text copied."},copyText:{id:"src.components.CopyTextButton.copyText",defaultMessage:"Copy text"}});const f=e=>{let{style:t,...n}=e;if(void 0===t)return i.createElement(o.Z,(0,l.Z)({style:{transform:"scaleY(-1)"}},n));const{transform:a,...r}=t;if(void 0!==a)throw new Error;return i.createElement(o.Z,(0,l.Z)({style:{transform:"scaleY(-1)",...r}},n))};var E=e=>{let{inputFor:t}=e;const{formatMessage:n}=(0,d.Z)(),{enqueueSnackbar:l}=(0,u.Ds)(),o=(0,i.useCallback)((()=>{(0,p.s)(t.current),""!==t.current.value&&(c()(t.current.value),l(i.createElement(m.Z,v.textCopied)))}),[l,t]),[s,E]=(0,i.useState)(!0);return(0,i.useEffect)((()=>{E(null===t.current||""===t.current.value||t.current.disabled)})),i.createElement(r.ZP,{title:n(v.copyText),disableFocusListener:s,disableHoverListener:s,disableTouchListener:s},i.createElement("span",null,i.createElement(a.Z,{onClick:o,disabled:s},i.createElement(f,null))))}},45733:function(e,t,n){n.d(t,{Z:function(){return B}});var l=n(87462),a=n(282),r=n(96019),o=n(51206),s=n.n(o),c=n(94184),u=n.n(c),i=n(67294),d=n(97127),m=n(46121),p=n(93379),v=n.n(p),f=n(7795),E=n.n(f),g=n(90569),Z=n.n(g),C=n(3565),A=n.n(C),h=n(19216),b=n.n(h),F=n(44589),x=n.n(F),k=n(58995),M={};M.styleTagTransform=x(),M.setAttributes=A(),M.insert=Z().bind(null,"head"),M.domAPI=E(),M.insertStyleElement=b();v()(k.Z,M);var U=k.Z&&k.Z.locals?k.Z.locals:void 0,y=n(44140);const S=s().getParser(navigator.userAgent).is("Safari");var B=e=>{var t,n;let{className:o,disabled:s,multiple:c,onClick:p,onChange:v,buttonLabel:f=i.createElement(d.Z,y.Z.browse),resultMessage:E,classes:g,component:Z=r.Z,ButtonProps:C,...A}=e;const h=(0,i.useMemo)((()=>u()(o,null==g?void 0:g.root,U.FileUpload,{[U.Safari]:S})),[o,null==g?void 0:g.root]),b=(0,i.useMemo)((()=>u()(null==g?void 0:g.button,U.Button,null==C?void 0:C.className)),[null==g?void 0:g.button,null==C?void 0:C.className]),F=(0,i.useRef)(null),x=null!==(t=null===(n=F.current)||void 0===n?void 0:n.files)&&void 0!==t?t:null,k=(0,i.useMemo)((()=>{if(null==E)return null===x||0===x.length?i.createElement(d.Z,y.Z.noFileSelected):1===x.length?x[0].name:i.createElement(d.Z,(0,l.Z)({},y.Z.nFilesSelected,{values:{n:x.length}}))}),[E,x]),M=(0,i.useCallback)((()=>{(0,m.s)(F.current),F.current.dispatchEvent(new MouseEvent("click"))}),[F]),B=(0,i.useCallback)((e=>{null==p||p(e),e.isDefaultPrevented()||M(e)}),[p,M]);return i.createElement(Z,{className:h,tabIndex:S?-1:0},i.createElement(a.Z,(0,l.Z)({disabled:s,onClick:B},C,{className:b,tabIndex:-1}),f),null!=E?E:k,i.createElement("input",(0,l.Z)({className:U.Input,type:"file",disabled:s,multiple:c,onChange:v,ref:F},A)))}},44140:function(e,t,n){var l=n(85315);t.Z=(0,l.vU)({browse:{id:"src.components.FileUpload.browse",defaultMessage:"Browse…"},noFileSelected:{id:"src.components.FileUpload.noFileSelected",defaultMessage:"No file selected."},nFilesSelected:{id:"src.components.FileUpload.nFilesSelected",defaultMessage:"{ n } files selected."}})},58995:function(e,t,n){var l=n(87537),a=n.n(l),r=n(23645),o=n.n(r)()(a());o.push([e.id,".src-components-FileUpload-classes__FileUpload--zcA60 {\n  display: inline-block; /* TODO: polyfill */\n  display: inline flow-root;\n  cursor: pointer;\n}\n\n.src-components-FileUpload-classes__FileUpload--zcA60.src-components-FileUpload-classes__Safari--xNS3H:focus {\n  outline: none;\n}\n\n.src-components-FileUpload-classes__Button--_x92h.src-components-FileUpload-classes__Button--_x92h {\n  text-transform: none;\n  cursor: unset;\n}\n\n.src-components-FileUpload-classes__Input--HY1r1 {\n  display: none;\n}\n","",{version:3,sources:["webpack://./src/components/FileUpload/classes.css"],names:[],mappings:"AAAA;EACE,qBAAqB,EAAE,mBAAmB;EAC1C,yBAAyB;EACzB,eAAe;AACjB;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,oBAAoB;EACpB,aAAa;AACf;;AAEA;EACE,aAAa;AACf",sourcesContent:[".FileUpload {\n  display: inline-block; /* TODO: polyfill */\n  display: inline flow-root;\n  cursor: pointer;\n}\n\n.FileUpload.Safari:focus {\n  outline: none;\n}\n\n.Button.Button {\n  text-transform: none;\n  cursor: unset;\n}\n\n.Input {\n  display: none;\n}\n"],sourceRoot:""}]),o.locals={FileUpload:"src-components-FileUpload-classes__FileUpload--zcA60",Safari:"src-components-FileUpload-classes__Safari--xNS3H",Button:"src-components-FileUpload-classes__Button--_x92h",Input:"src-components-FileUpload-classes__Input--HY1r1"},t.Z=o}}]);
//# sourceMappingURL=qrCodeTools.deda97f7.js.map