{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/lib/validators/intlValidators.ts","webpack:///./src/redux/modules/localeSelector.ts","webpack:///./src/lib/delay.ts","webpack:///./src/lib/typed.ts","webpack:///./src/redux/index.ts","webpack:///./src/lib/UrlOrPathAbempty.ts","webpack:///./src/lib/fetch.ts","webpack:///./src/lib/extensions/Record/mapValues.ts","webpack:///./src/lib/guards/commonGuards.ts","webpack:///./src/redux/modules/chess.ts","webpack:///./src/redux/modules/counter.ts","webpack:///./src/redux/modules/io.ts","webpack:///./src/redux/modules/reminder.ts","webpack:///./src/domain/vo/Id.ts","webpack:///./src/domain/vo/ValueObject.ts","webpack:///./src/domain/vo/TaskId.ts","webpack:///./src/domain/entity/Entity.ts","webpack:///./src/domain/entity/Task.ts","webpack:///./src/lib/extensions/Unknown/yieldThis.ts","webpack:///./src/domain/vo/Coordinates.ts","webpack:///./src/lib/extensions/Number/hashCode.ts","webpack:///./src/components/Nav/classes.css","webpack:///./src/components/LocaleSelect/messages.ts","webpack:///./src/components/LocaleSelect/index.tsx","webpack:///./src/lib/languageNameSolver/index.ts","webpack:///./src/lib/components/Link/index.tsx","webpack:///./src/lib/components/MenuItemLink/index.tsx","webpack:///./src/components/Nav/messages.ts","webpack:///./src/components/Nav/index.tsx","webpack:///./src/lib/components/ErrorBoundary/index.ts","webpack:///./src/lib/components/Route/index.tsx","webpack:///./src/components/App/messages.ts","webpack:///./src/components/App/index.tsx","webpack:///./src/lib/components/IntlProvider/index.tsx","webpack:///./src/components/IntlProvider/index.tsx","webpack:///./src/configureTheme.ts","webpack:///./src/configureStore.ts","webpack:///./src/createProvider.tsx","webpack:///./src/lib/extensions/Boolean/Boolean.prototype.hashCode.ts","webpack:///./src/lib/extensions/Boolean/hashCode.ts","webpack:///./src/lib/extensions/Number/Number.prototype.hashCode.ts","webpack:///./src/lib/extensions/String/String.prototype.hashCode.ts","webpack:///./src/lib/extensions/String/hashCode.ts","webpack:///./src/index.tsx","webpack:///./src/lib/validators/ValidationError.ts","webpack:///./src/lib/errors.ts","webpack:///./src/lib/boni/redux-saga/effects/takeEvery.ts","webpack:///./src/lib/extensions/Array/conj.ts","webpack:///./src/lib/extensions/String/stripMargin.ts","webpack:///./src/lib/extensions/String/trimEols.ts","webpack:///./src/lib/validators/commonValidators.ts","webpack:///./src/lib/trait/Eq.ts","webpack:///./src/lib/trait/Hashable.ts","webpack:///./src/components/Nav/classes.css?5ee4","webpack:///./src/lib/extensions/Iterable/zipIterables.ts","webpack:///./src/lib/extensions/Iterator/zipIterators.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","5","exports","module","l","e","promises","installedChunkData","promise","Promise","resolve","reject","onScriptComplete","script","document","createElement","charset","timeout","nc","setAttribute","src","p","jsonpScriptSrc","error","Error","event","onerror","onload","clearTimeout","chunk","errorType","type","realSrc","target","message","name","request","undefined","setTimeout","head","appendChild","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","err","console","jsonpArray","window","oldJsonpFunction","slice","asFormats","asObject","input","number","optional","recordOf","asIntlNumberFormatOptions","date","asIntlDateTimeFormatOptions","time","localeMatcher","asUnionOf","style","currency","asString","currencyDisplay","useGrouping","asBoolean","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","unionOf","SELECT_LOCALE","SET_LOCALE","SET_FORMATS","SET_MESSAGES","PUSH_ERROR","localeSelectorActionTypes","isLocaleSelectorAction","action","includes","selectLocale","locale","payload","setLocale","setFormats","formats","setMessages","messages","createLocaleSelectorReducer","initialState","state","errors","LocaleSelectorService","injectable","config","inject","fetch","method","parameterizedEndpoint","typed","this","params","body","put","TypeError","String","takeEvery","selectLocaleSaga","delay","ms","res","template","substitutions","zipIterables","substitution","segment","Service","chessService","counterService","ioService","localeSelectorService","reminderService","fork","rootSaga","createReducer","history","combineReducers","router","connectRouter","chess","createChessReducer","counter","createCounterReducer","io","createIoReducer","localeSelector","reminder","createReminderReducer","dropDummyOrigin","x","RegExp","exec","isUrl","URL","_error","PathAbempty","pathAbempty","restArgs","_url","toJSON","hash","href","origin","pathname","search","searchParams","UrlOrPathAbempty","_instance","args","urlOrPathAbempty","host","hostname","password","port","protocol","username","toRecord","entries","reduce","toJson","Array","isArray","map","json","f","mapValues","buildRequestInfo","query","url","keys","pathToRegexp","urlSearchParams","URLSearchParams","forEach","append","toString","buildRequestInit","headers","formData","FormData","a","requestInfo","requestInit","globalThis","response","isOneOf","options","some","option","isT","RESET_BOARD","HALF_MOVE","PUT_CHESSMAN","REMOVE_CHESSMAN","chessActionTypes","isChessAction","resetBoard","halfMove","chessman","source","putChessman","board","chessmen","Map","Coordinates","rank","file","symbol","hasAdvancedTwoSquares","set","coord","ChessService","halfMoveSaga","RESET","INCREMENT_IF_ODD","INCREMENT_ASYNC","INCREMENT","DECREMENT","counterActionTypes","isCounterAction","reset","incrementIfOdd","incrementAsync","increment","decrement","count","selectCount","CounterService","select","incrementIfOddSaga","incrementAsyncSaga","UPDATE_NOW","START_CLOCK","STOP_CLOCK","SET_NOW","ioActionTypes","isIoAction","updateNow","now","IoService","startClockTask","Date","getMilliseconds","cancel","startClockSaga","updateNowSaga","stopClockSaga","ADD_TASK_ASYNC","CHANGE_TASK_CONTENT_ASYNC","MARK_TASK_AS_DONE_ASYNC","MARK_TASK_AS_UNDONE_ASYNC","DELETE_TASK_ASYNC","MOVE_TASK","PUSH_TASK","REMOVE_TASK","CHECK_TASK","REMOVE_ERROR","reminderActionTypes","isReminderAction","addTaskAsync","changeTaskContentAsync","taskId","content","markTaskAsDoneAsync","markTaskAsUndoneAsync","deleteTaskAsync","moveTask","sourceIndex","targetIndex","pushTask","task","removeTask","checkTask","pushError","errorId","tasks","findIndex","id","equals","done","restTasks","restErrors","selectTasks","ReminderService","taskRepository","Task","store","findById","v4","remove","stateTasks","stateTask","find","LogicError","addTaskAsyncSaga","changeTaskContentAsyncSaga","markTaskAsDoneAsyncSaga","markTaskAsUndoneAsyncSaga","deleteTaskAsyncSaga","checkTaskSaga","Id","test","hashCode","serialized","checkInvariant","ValidationError","Hashable","TaskId","Entity","asIdSerializedTask","_content","_done","JSON","stringify","serialize","that","parse","deserialize","decorate","buf","v","Buffer","allocUnsafe","writeDoubleBE","readUInt32BE","___CSS_LOADER_API_IMPORT___","locals","defineMessages","languages","mapDispatchToProps","connect","availableLocales","classes","FormControlProps","useState","labelWidth","setLabelWidth","inputId","useMemo","theme","useTheme","variant","props","MuiFormControl","rootClassName","classnames","root","className","labelClassName","label","inputClassName","selectIconClassName","selectIcon","inputUnderlineClassName","inputUnderline","inputLabel","useCallback","node","offsetWidth","handleChange","tag","tagNativeNameMap","FormControl","InputLabel","ref","htmlFor","Select","icon","native","onChange","inputProps","standard","Input","underline","outlined","OutlinedInput","filled","FilledInput","availableLocale","isTypographyColor","RouterLinkWithRef","React","forwardRef","innerRef","Link","color","restProps","component","warn","Component","MenuItemLink","menuItem","to","button","menuItemProps","LinkWithRef","linkProps","link","MenuItem","home","info","Nav","anchorEl","setAnchorEl","openMenu","currentTarget","closeMenu","AppBar","position","Toolbar","IconButton","edge","onClick","Spacer","LocaleSelectLabel","LocaleSelectInput","LocaleSelectSelectIcon","LocaleSelectInputUnderline","Menu","open","onClose","ErrorBoundary","hasError","renderError","children","getDerivedStateFromError","withErrorBoundary","withSuspense","Suspense","fallback","CircularProgress","withHelmet","helmetProps","Route","HomePage","lazy","ChessPage","CounterPage","InfoPage","ReminderPage","NoMatch","hot","formatMessage","useIntl","CssBaseline","titleTemplate","defaultTitle","exact","strict","sensitive","path","title","IntlProvider","textComponent","Fragment","configureTheme","dark","createMuiTheme","typography","fontFamily","MuiLink","MuiButton","palette","primary","teal","secondary","indigo","composeEnhancers","createLogger","diff","compose","createProvider","reducer","saga","recursionDepth","handleError","cause","setState","sagaMiddlewareOptions","sagaMiddleware","createSagaMiddleware","storeEnhancers","applyMiddleware","routerMiddleware","createStore","configureStore","UnreachableError","onError","run","toPromise","Boolean","Number","charCodeAt","containerImport","Main","container","useMediaQuery","Provider","service","DndProvider","backend","HTML5Backend","then","basename","location","process","createBrowserHistory","ReactDOM","render","getElementById","values","AbstractError","setPrototypeOf","pattern","ctx","worker","originalTakeEvery","conj","xs","separator","lastSeparator","lastX","pop","join","generateLineWithEolIterator","eols","eolPattern","eolCharPattern","eol","stripMargin","marginChar","stripMargin2","stripMargin1","line","matches","groups","marginCharCandidate","stripped","cs","lineBuffer","eolBuffer","startsWith","trimEols","replace","trimTrailingEols","trimLeadingEols","failSafe","asT","right","left","leftOnly","isLeft","named","asU","u","isRight","output","Eq","api","default","exported","ys","iterator","genIt","next","y","zipIterators"],"mappings":"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","file":"assets/scripts/main~c98f95f3.901ba15d.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t5: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"assets/scripts/\" + ({\"0\":\"vendors~chess~reminder~253ae210\",\"1\":\"chess~21833f8f\",\"2\":\"counter~31ecd969\",\"3\":\"home~31ecd969\",\"4\":\"info~31ecd969\",\"6\":\"noMatch~aa0c804c\",\"7\":\"reminder~21833f8f\",\"11\":\"vendors~reminder~253ae210\"}[chunkId]||chunkId) + \".\" + \"901ba15d\" + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([297,8,9,10]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import { asBoolean, asObject, asString, asUnionOf, optional, recordOf, unionOf } from './commonValidators'\n\nexport const asFormats = asObject<Formats>('a Formats', (input) => ({\n  number: optional(recordOf(asIntlNumberFormatOptions))(input.number),\n  date: optional(recordOf(asIntlDateTimeFormatOptions))(input.date),\n  time: optional(recordOf(asIntlDateTimeFormatOptions))(input.time),\n}))\n\nconst asIntlNumberFormatOptions = asObject<Intl.NumberFormatOptions>('an Intl.NumberFormatOptions', (input) => ({\n  localeMatcher: optional(asUnionOf('lookup', 'best fit'))(input.localeMatcher),\n  style: optional(asUnionOf('decimal', 'currency', 'percent'))(input.style),\n  currency: optional(asString)(input.currency), // ISO 4217 currency code\n  currencyDisplay: optional(asUnionOf('symbol', 'code', 'name'))(input.currencyDisplay),\n  useGrouping: optional(asBoolean)(input.useGrouping),\n  minimumIntegerDigits: optional(asUnionOf(1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21))(input.minimumIntegerDigits),\n  minimumFractionDigits: optional(asUnionOf(0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20))(input.minimumFractionDigits),\n  maximumFractionDigits: optional(asUnionOf(0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20))(input.maximumFractionDigits),\n  minimumSignificantDigits: optional(asUnionOf(1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21))(input.minimumSignificantDigits),\n  maximumSignificantDigits: optional(asUnionOf(1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21))(input.maximumSignificantDigits),\n}))\n\nconst asIntlDateTimeFormatOptions = asObject<Intl.DateTimeFormatOptions>('an Intl.DateTimeFormatOptions', (input) => ({\n  localeMatcher: optional(asUnionOf('lookup', 'best fit'))(input.localeMatcher),\n  weekday: optional(asUnionOf('narrow', 'short', 'long'))(input.weekday),\n  era: optional(asUnionOf('narrow', 'short', 'long'))(input.era),\n  year: optional(asUnionOf('numeric', '2-digit'))(input.year),\n  month: optional(asUnionOf('numeric', '2-digit', 'narrow', 'short', 'long'))(input.month),\n  day: optional(asUnionOf('numeric', '2-digit'))(input.day),\n  hour: optional(asUnionOf('numeric', '2-digit'))(input.hour),\n  minute: optional(asUnionOf('numeric', '2-digit'))(input.minute),\n  second: optional(asUnionOf('numeric', '2-digit'))(input.second),\n  timeZoneName: optional(asUnionOf('short', 'long'))(input.timeZoneName),\n  formatMatcher: optional(asUnionOf('basic', 'best fit'))(input.formatMatcher),\n  hour12: optional(asBoolean)(input.hour12),\n  timeZone: optional(unionOf(asUnionOf('UTC'), asString))(input.localeMatcher), // tz timezone\n}))\n","import { inject, injectable } from 'inversify'\nimport { Action, Reducer } from 'redux'\nimport { SagaIterator } from 'redux-saga'\nimport { call, put } from 'redux-saga/effects'\n\nimport ConfigRegistry from '~/config/ConfigRegistry'\nimport { takeEvery } from '~/lib/boni/redux-saga/effects'\nimport fetch from '~/lib/fetch'\nimport { Tag } from '~/lib/languageNameSolver'\nimport typed from '~/lib/typed'\nimport { asString, recordOf } from '~/lib/validators/commonValidators'\nimport { asFormats } from '~/lib/validators/intlValidators'\n\n//\n//             _|                  _|\n//   _|_|_|  _|_|_|_|    _|_|_|  _|_|_|_|    _|_|\n// _|_|        _|      _|    _|    _|      _|_|_|_|\n//     _|_|    _|      _|    _|    _|      _|\n// _|_|_|        _|_|    _|_|_|      _|_|    _|_|_|\n//\n//\n\nexport interface LocaleSelectorState {\n  availableLocales: Tag[]\n  locale: Tag\n  formats: Formats\n  messages: Record<string, string>\n  errors: Error[]\n}\n\n//\n//                       _|      _|\n//   _|_|_|    _|_|_|  _|_|_|_|        _|_|    _|_|_|\n// _|    _|  _|          _|      _|  _|    _|  _|    _|\n// _|    _|  _|          _|      _|  _|    _|  _|    _|\n//   _|_|_|    _|_|_|      _|_|  _|    _|_|    _|    _|\n//\n//\n//\n//   _|\n// _|_|_|_|  _|    _|  _|_|_|      _|_|      _|_|_|\n//   _|      _|    _|  _|    _|  _|_|_|_|  _|_|\n//   _|      _|    _|  _|    _|  _|            _|_|\n//     _|_|    _|_|_|  _|_|_|      _|_|_|  _|_|_|\n//                 _|  _|\n//             _|_|    _|\n\nexport /* for testing */ const SELECT_LOCALE = '@@react-app-prototype/localeSelector/SELECT_LOCALE'\nexport /* for testing */ const SET_LOCALE = '@@react-app-prototype/localeSelector/SET_LOCALE'\nexport /* for testing */ const SET_FORMATS = '@@react-app-prototype/localeSelector/SET_FORMATS'\nexport /* for testing */ const SET_MESSAGES = '@@react-app-prototype/localeSelector/SET_MESSAGES'\nexport /* for testing */ const PUSH_ERROR = '@@react-app-prototype/localeSelector/PUSH_ERROR'\n\nconst localeSelectorActionTypes = [\n  SELECT_LOCALE,\n  SET_LOCALE,\n  SET_FORMATS,\n  SET_MESSAGES,\n  PUSH_ERROR,\n]\n\ninterface SelectLocaleAction extends Action<typeof SELECT_LOCALE> {\n  payload: {\n    locale: Tag\n  }\n}\n\ninterface SetLocaleAction extends Action<typeof SET_LOCALE> {\n  payload: {\n    locale: Tag\n  }\n}\n\ninterface SetFormatsAction extends Action<typeof SET_FORMATS> {\n  payload: {\n    formats: Formats\n  }\n}\n\ninterface SetMessagesAction extends Action<typeof SET_MESSAGES> {\n  payload: {\n    messages: Record<string, string>\n  }\n}\n\ninterface PushErrorAction extends Action<typeof PUSH_ERROR> {\n  payload: {\n    error: Error\n  }\n}\n\nexport type LocaleSelectorAction =\n  | SelectLocaleAction\n  | SetLocaleAction\n  | SetFormatsAction\n  | SetMessagesAction\n  | PushErrorAction\n\nfunction isLocaleSelectorAction(action: Action): action is LocaleSelectorAction {\n  return localeSelectorActionTypes.includes(action.type)\n}\n\n//\n//                       _|      _|\n//   _|_|_|    _|_|_|  _|_|_|_|        _|_|    _|_|_|\n// _|    _|  _|          _|      _|  _|    _|  _|    _|\n// _|    _|  _|          _|      _|  _|    _|  _|    _|\n//   _|_|_|    _|_|_|      _|_|  _|    _|_|    _|    _|\n//\n//\n//\n//                                           _|\n//   _|_|_|  _|  _|_|    _|_|      _|_|_|  _|_|_|_|    _|_|    _|  _|_|    _|_|_|\n// _|        _|_|      _|_|_|_|  _|    _|    _|      _|    _|  _|_|      _|_|\n// _|        _|        _|        _|    _|    _|      _|    _|  _|            _|_|\n//   _|_|_|  _|          _|_|_|    _|_|_|      _|_|    _|_|    _|        _|_|_|\n//\n//\n\nexport const selectLocale = (locale: Tag): SelectLocaleAction => ({\n  type: SELECT_LOCALE,\n  payload: {\n    locale,\n  },\n})\n\nexport /* for testing */ const setLocale = (locale: Tag): SetLocaleAction => ({\n  type: SET_LOCALE,\n  payload: {\n    locale,\n  },\n})\n\nexport /* for testing */ const setFormats = (formats: Formats): SetFormatsAction => ({\n  type: SET_FORMATS,\n  payload: {\n    formats,\n  },\n})\n\nexport /* for testing */ const setMessages = (messages: Record<string, string>): SetMessagesAction => ({\n  type: SET_MESSAGES,\n  payload: {\n    messages,\n  },\n})\n\nexport /* for testing */ const pushError = (error: Error): PushErrorAction => ({\n  type: PUSH_ERROR,\n  payload: {\n    error,\n  },\n})\n\n//\n//                           _|\n// _|  _|_|    _|_|      _|_|_|  _|    _|    _|_|_|    _|_|    _|  _|_|\n// _|_|      _|_|_|_|  _|    _|  _|    _|  _|        _|_|_|_|  _|_|\n// _|        _|        _|    _|  _|    _|  _|        _|        _|\n// _|          _|_|_|    _|_|_|    _|_|_|    _|_|_|    _|_|_|  _|\n//\n//\n\nexport const createLocaleSelectorReducer: (initialState: LocaleSelectorState) => Reducer<LocaleSelectorState, Action> = (initialState) => (state = initialState, action) => {\n  if (!isLocaleSelectorAction(action)) {\n    return state\n  }\n\n  switch (action.type) {\n    case SELECT_LOCALE: return state\n    case SET_LOCALE: return {\n      ...state,\n      locale: action.payload.locale,\n    }\n    case SET_FORMATS: return {\n      ...state,\n      formats: action.payload.formats,\n    }\n    case SET_MESSAGES: return {\n      ...state,\n      messages: action.payload.messages,\n    }\n    case PUSH_ERROR: return {\n      ...state,\n      errors: [\n        ...state.errors,\n        action.payload.error,\n      ],\n    }\n  }\n}\n\n//\n//                                           _|\n//   _|_|_|    _|_|    _|  _|_|  _|      _|        _|_|_|    _|_|\n// _|_|      _|_|_|_|  _|_|      _|      _|  _|  _|        _|_|_|_|\n//     _|_|  _|        _|          _|  _|    _|  _|        _|\n// _|_|_|      _|_|_|  _|            _|      _|    _|_|_|    _|_|_|\n//\n//\n\n@injectable()\nexport class LocaleSelectorService {\n  constructor(\n    @inject('EnvVarConfig') private config: ConfigRegistry\n  ) {}\n\n  public /* for testing */ *selectLocaleSaga({ payload: { locale } }: SelectLocaleAction): SagaIterator {\n    try {\n      const { body: formats }: ResultType<ReturnType<typeof fetch>> = yield call(fetch, {\n        method: 'GET',\n        parameterizedEndpoint: typed<[string]>`${ this.config.get('BASE_URL') }/formats/:locale.json`,\n        params: { locale },\n      })\n\n      const { body: messages }: ResultType<ReturnType<typeof fetch>> = yield call(fetch, {\n        method: 'GET',\n        parameterizedEndpoint: typed<[string]>`${ this.config.get('BASE_URL') }/messages/:locale.json`,\n        params: { locale },\n      })\n\n      // TODO: cache\n\n      yield put(setFormats(asFormats(formats)))\n      yield put(setMessages(recordOf(asString)(messages)))\n      yield put(setLocale(locale))\n    } catch (error) {\n      if (error instanceof Error) {\n        yield put(pushError(error))\n\n        return\n      }\n\n      throw new TypeError(typed<[string]>`${ String(error) } is not an error.`)\n    }\n  }\n\n  public *rootSaga(): SagaIterator {\n    yield takeEvery(SELECT_LOCALE, [this, this.selectLocaleSaga])\n  }\n}\n","const delay = (ms: number) => new Promise((res) => { setTimeout(res, ms) })\n\nexport default delay\n","import zipIterables from './extensions/Iterable/zipIterables'\n\n/**\n * Type substitutions of a template literal.  It is often used as a tag function.\n *\n * @returns a string of alternate elements of template and substitutions.\n */\nexport default function typed<T extends unknown[]>(template: TemplateStringsArray, ...substitutions: T): string {\n  // tslint:disable-next-line:no-let\n  let result = template[0]\n\n  // tslint:disable-next-line:no-loop-statement\n  for (const [substitution, segment] of zipIterables(substitutions, template.slice(1))) {\n    result += String(substitution)\n    result += segment\n  }\n\n  return result\n}\n","import { LocationChangeAction, RouterState, connectRouter } from 'connected-react-router'\nimport { History } from 'history'\nimport { inject, injectable } from 'inversify'\nimport { Action as AnyAction, Reducer, combineReducers } from 'redux'\nimport { SagaIterator } from 'redux-saga'\nimport { fork } from 'redux-saga/effects'\n\nimport { ChessAction, ChessService, ChessState, createChessReducer } from './modules/chess'\nimport { CounterAction, CounterService, CounterState, createCounterReducer } from './modules/counter'\nimport { IoAction, IoService, IoState, createIoReducer } from './modules/io'\nimport { LocaleSelectorAction, LocaleSelectorService, LocaleSelectorState, createLocaleSelectorReducer } from './modules/localeSelector'\nimport ReminderService, { ReminderAction, ReminderState, createReminderReducer } from './modules/reminder'\n\nexport interface State {\n  router: RouterState\n  chess: ChessState\n  counter: CounterState\n  io: IoState\n  localeSelector: LocaleSelectorState\n  reminder: ReminderState\n}\n\nexport type Action =\n  | LocationChangeAction\n  | ChessAction\n  | CounterAction\n  | IoAction\n  | LocaleSelectorAction\n  | ReminderAction\n\n@injectable()\nexport default class Service {\n  constructor(\n    @inject('ChessService') private chessService: ChessService,\n    @inject('CounterService') private counterService: CounterService,\n    @inject('IoService') private ioService: IoService,\n    @inject('LocaleSelectorService') private localeSelectorService: LocaleSelectorService,\n    @inject('ReminderService') private reminderService: ReminderService\n  ) {}\n\n  public *rootSaga(): SagaIterator {\n    yield fork([this.chessService, this.chessService.rootSaga])\n    yield fork([this.counterService, this.counterService.rootSaga])\n    yield fork([this.ioService, this.ioService.rootSaga])\n    yield fork([this.localeSelectorService, this.localeSelectorService.rootSaga])\n    yield fork([this.reminderService, this.reminderService.rootSaga])\n  }\n}\n\nexport const createReducer = (history: History, initialState: Alt.Omit<State, 'router'>) => combineReducers<State, Action>({\n  router: connectRouter(history) as Reducer<RouterState, AnyAction>, // TODO\n  chess: createChessReducer(initialState.chess),\n  counter: createCounterReducer(initialState.counter),\n  io: createIoReducer(initialState.io),\n  localeSelector: createLocaleSelectorReducer(initialState.localeSelector),\n  reminder: createReminderReducer(initialState.reminder),\n})\n","import typed from '~/lib/typed'\n\nconst DUMMY_ORIGIN = 'http://example.com'\n\nfunction dropDummyOrigin(x: string): string {\n  const result = new RegExp(typed<[string]>`^${ DUMMY_ORIGIN }(.*)$`).exec(x)\n\n  if (result === null) {\n    throw new Error\n  }\n\n  return result[1]\n}\n\nfunction isUrl(input: string): input is string.Url {\n  try {\n    // tslint:disable-next-line:no-unused-expression\n    new URL(input)\n\n    return true\n  } catch (_error) {\n    return false\n  }\n}\n\n/**\n * URL  origin \n */\nclass PathAbempty implements URL {\n  private readonly _url: URL\n\n  constructor(...[pathAbempty, ...restArgs]: ConstructorParameters<typeof URL>) {\n    this._url = new URL(typed<[string, string]>`${ DUMMY_ORIGIN }${ pathAbempty }`, ...restArgs)\n  }\n\n  get host(): string {\n    throw new Error // TODO:\n  }\n\n  get hostname(): string {\n    throw new Error // TODO:\n  }\n\n  get password(): string {\n    throw new Error // TODO:\n  }\n\n  get port(): string {\n    throw new Error // TODO:\n  }\n\n  get protocol(): string {\n    throw new Error // TODO:\n  }\n\n  get username(): string {\n    throw new Error // TODO:\n  }\n\n  get hash(): string {\n    return this._url.hash\n  }\n\n  get href(): string {\n    return dropDummyOrigin(this._url.href)\n  }\n\n  get origin(): string {\n    return dropDummyOrigin(this._url.origin)\n  }\n\n  get pathname(): string {\n    return this._url.pathname\n  }\n\n  set pathname(value: string) {\n    // tslint:disable-next-line:no-object-mutation\n    this._url.pathname = value\n  }\n\n  get search(): string {\n    return this._url.search\n  }\n\n  set search(value: string) {\n    // tslint:disable-next-line:no-object-mutation\n    this._url.search = value\n  }\n\n  get searchParams(): URLSearchParams {\n    return this._url.searchParams\n  }\n\n  public toJSON() {\n    return dropDummyOrigin(this._url.toJSON())\n  }\n}\n\n// tslint:disable-next-line:max-classes-per-file\nexport default class UrlOrPathAbempty implements URL {\n  private readonly _instance: URL | PathAbempty\n\n  constructor(...args: ConstructorParameters<typeof URL>) {\n    const [urlOrPathAbempty] = args\n\n    if (isUrl(urlOrPathAbempty)) {\n      this._instance = new URL(...args)\n    } else {\n      this._instance = new PathAbempty(...args)\n    }\n  }\n\n  get hash(): string {\n    return this._instance.hash\n  }\n\n  get host(): string {\n    return this._instance.host\n  }\n\n  get hostname(): string {\n    return this._instance.hostname\n  }\n\n  get href(): string {\n    return this._instance.href\n  }\n\n  get origin(): string {\n    return this._instance.origin\n  }\n\n  get password(): string {\n    return this._instance.password\n  }\n\n  get pathname(): string {\n    return this._instance.pathname\n  }\n\n  set pathname(value: string) {\n    // tslint:disable-next-line:no-object-mutation\n    this._instance.pathname = value\n  }\n\n  get port(): string {\n    return this._instance.port\n  }\n\n  get protocol(): string {\n    return this._instance.protocol\n  }\n\n  get search(): string {\n    return this._instance.search\n  }\n\n  set search(value: string) {\n    // tslint:disable-next-line:no-object-mutation\n    this._instance.search = value\n  }\n\n  get searchParams(): URLSearchParams {\n    return this._instance.searchParams\n  }\n\n  get username(): string {\n    return this._instance.username\n  }\n\n  public toJSON() {\n    return this._instance.toJSON()\n  }\n}\n","/**\n * src/lib/fetch.ts\n */\n\nimport * as pathToRegexp from 'path-to-regexp'\n\nimport UrlOrPathAbempty from './UrlOrPathAbempty'\nimport mapValues from './extensions/Record/mapValues'\nimport typed from './typed'\n\ntype Method = 'GET' | 'POST'\n\ninterface RequestParams {\n  method: Method\n  parameterizedEndpoint: string\n  params?: Record<string, string>\n  headers?: Record<string, string>\n  query?: Record<string, string>\n}\n\ninterface ResponseParams {\n  response: Response\n  body: Json\n}\n\nfunction isEmpty<T extends {}>(object: T): object is EmptyRecord<T> {\n  return Object.keys(object).length === 0\n}\n\nfunction toRecord(input: {}): Record<string, unknown> {\n  return Object.entries(input).reduce((result, [i, x]) => ({ ...result, [i]: x }), {})\n}\n\nfunction toJson(input: unknown): Json {\n  if (typeof input === 'boolean' || typeof input === 'number' || typeof input === 'string') {\n    return input\n  }\n\n  if (Array.isArray(input)) {\n    return input.map((json) => toJson(json))\n  }\n\n  if (typeof input === 'object') {\n    if (input === null) {\n      return input\n    }\n\n    return mapValues(toRecord(input), (json) => toJson(json))\n  }\n\n  throw new Error(typed<[string]>`${ String(input) } is not a Json.`)\n}\n\nfunction buildRequestInfo({ method, parameterizedEndpoint, params = {}, query = {} }: RequestParams): RequestInfo {\n  const url = new UrlOrPathAbempty(parameterizedEndpoint)\n\n  // tslint:disable-next-line:no-object-mutation\n  url.pathname = isEmpty(params) ? url.pathname : pathToRegexp.compile(url.pathname)(params)\n\n  if (method === 'GET') {\n    const urlSearchParams = new URLSearchParams(url.search)\n\n    Object.entries(query).forEach(([key, value]) => {\n      urlSearchParams.append(key, value)\n    })\n\n    // tslint:disable-next-line:no-object-mutation\n    url.search = urlSearchParams.toString()\n  }\n\n  return url.href\n}\n\nfunction buildRequestInit({ method, headers = {}, query = {} }: RequestParams): RequestInit {\n  switch (method) {\n    case 'GET':\n      return {\n        method,\n        headers,\n      }\n    case 'POST':\n      const formData = new FormData\n\n      Object.entries(query).forEach(([key, value]) => {\n        formData.append(key, value)\n      })\n\n      return {\n        method,\n        body: formData,\n        headers,\n      }\n  }\n}\n\nexport default async function fetch(request: RequestParams): Promise<ResponseParams> {\n  const requestInfo = buildRequestInfo(request)\n  const requestInit = buildRequestInit(request)\n  const response = await globalThis.fetch(requestInfo, requestInit)\n\n  const body = toJson(await response.json())\n\n  return { response, body }\n}\n","export default function mapValues<K extends Index, T, U>(object: Record<K, T>, f: (x: T) => U): Record<K, U> {\n  const result: Partial<Record<K, U>> = {}\n\n  // tslint:disable-next-line:no-loop-statement\n  for (const [i, x] of Object.entries(object)) {\n    // tslint:disable-next-line:no-object-mutation\n    result[i] = f(x)\n  }\n\n  return result as Record<K, U>\n}\n","import identity from '~/lib/identity'\n\nexport const isOneOf = <T extends readonly Json[]>(...options: T) => (input: unknown): input is T[number] => options.some((option) => option === input)\n\nexport const optional = <T extends unknown>(isT: (input: unknown) => input is T) => (input: unknown | undefined): input is T | undefined => {\n  if (input === undefined) {\n    return true\n  }\n\n  return isT(input)\n}\n\nexport const isObject = <A extends B, T extends A, B = A>(isT: (input: B) => Record<keyof A, boolean>) => (input: A): input is T => {\n  return Object.values<boolean>(isT(input)).every(identity)\n}\n","import { Map } from 'immutable'\nimport { injectable } from 'inversify'\nimport { Action, Reducer } from 'redux'\nimport { SagaIterator } from 'redux-saga'\nimport { put } from 'redux-saga/effects'\n\nimport Coordinates from '~/domain/vo/Coordinates'\nimport { takeEvery } from '~/lib/boni/redux-saga/effects'\n\n//\n//             _|                  _|\n//   _|_|_|  _|_|_|_|    _|_|_|  _|_|_|_|    _|_|\n// _|_|        _|      _|    _|    _|      _|_|_|_|\n//     _|_|    _|      _|    _|    _|      _|\n// _|_|_|        _|_|    _|_|_|      _|_|    _|_|_|\n//\n//\n\nexport interface ChessState {\n  board: Chess.Chessboard\n}\n\n//\n//                       _|      _|\n//   _|_|_|    _|_|_|  _|_|_|_|        _|_|    _|_|_|\n// _|    _|  _|          _|      _|  _|    _|  _|    _|\n// _|    _|  _|          _|      _|  _|    _|  _|    _|\n//   _|_|_|    _|_|_|      _|_|  _|    _|_|    _|    _|\n//\n//\n//\n//   _|\n// _|_|_|_|  _|    _|  _|_|_|      _|_|      _|_|_|\n//   _|      _|    _|  _|    _|  _|_|_|_|  _|_|\n//   _|      _|    _|  _|    _|  _|            _|_|\n//     _|_|    _|_|_|  _|_|_|      _|_|_|  _|_|_|\n//                 _|  _|\n//             _|_|    _|\n\nexport /* for testing */ const RESET_BOARD = '@@react-app-base/chess/RESET_BOARD'\nexport /* for testing */ const HALF_MOVE = '@@react-app-base/chess/HALF_MOVE' // neither castle nor capture pawn en passant\nexport /* for testing */ const PUT_CHESSMAN = '@@react-app-base/chess/PUT_CHESSMAN'\nexport /* for testing */ const REMOVE_CHESSMAN = '@@react-app-base/chess/REMOVE_CHESSMAN'\n\nconst chessActionTypes = [\n  RESET_BOARD,\n  HALF_MOVE,\n  PUT_CHESSMAN,\n  REMOVE_CHESSMAN,\n]\n\ninterface ResetBoardAction extends Action<typeof RESET_BOARD> {} // TODO: chess 960\n\ninterface HalfMoveAction extends Action<typeof HALF_MOVE> {\n  payload: {\n    chessman: Chess.Chessman\n    source: Chess.Coordinates\n    target: Chess.Coordinates\n  }\n}\n\ninterface PutChessmanAction extends Action<typeof PUT_CHESSMAN> {\n  payload: {\n    chessman: Chess.Chessman\n    target: Chess.Coordinates\n  }\n}\n\ninterface RemoveChessmanAction extends Action<typeof REMOVE_CHESSMAN> {\n  payload: {\n    coord: Chess.Coordinates\n  }\n}\n\nexport type ChessAction =\n  | ResetBoardAction\n  | HalfMoveAction\n  | PutChessmanAction\n  | RemoveChessmanAction\n\nfunction isChessAction(action: Action): action is ChessAction {\n  return chessActionTypes.includes(action.type)\n}\n\n//\n//                       _|      _|\n//   _|_|_|    _|_|_|  _|_|_|_|        _|_|    _|_|_|\n// _|    _|  _|          _|      _|  _|    _|  _|    _|\n// _|    _|  _|          _|      _|  _|    _|  _|    _|\n//   _|_|_|    _|_|_|      _|_|  _|    _|_|    _|    _|\n//\n//\n//\n//                                           _|\n//   _|_|_|  _|  _|_|    _|_|      _|_|_|  _|_|_|_|    _|_|    _|  _|_|    _|_|_|\n// _|        _|_|      _|_|_|_|  _|    _|    _|      _|    _|  _|_|      _|_|\n// _|        _|        _|        _|    _|    _|      _|    _|  _|            _|_|\n//   _|_|_|  _|          _|_|_|    _|_|_|      _|_|    _|_|    _|        _|_|_|\n//\n//\n\nexport const resetBoard = (): ResetBoardAction => ({\n  type: RESET_BOARD,\n})\n\nexport const halfMove = (chessman: Chess.Chessman, source: Chess.Coordinates, target: Chess.Coordinates): HalfMoveAction => ({\n  type: HALF_MOVE,\n  payload: {\n    chessman,\n    source,\n    target,\n  },\n})\n\nexport const putChessman = (chessman: Chess.Chessman, target: Chess.Coordinates): PutChessmanAction => ({\n  type: PUT_CHESSMAN,\n  payload: {\n    chessman,\n    target,\n  },\n})\n\nexport const removeChessman = (coord: Chess.Coordinates): RemoveChessmanAction => ({\n  type: REMOVE_CHESSMAN,\n  payload: {\n    coord,\n  },\n})\n\n//\n//                           _|\n// _|  _|_|    _|_|      _|_|_|  _|    _|    _|_|_|    _|_|    _|  _|_|\n// _|_|      _|_|_|_|  _|    _|  _|    _|  _|        _|_|_|_|  _|_|\n// _|        _|        _|    _|  _|    _|  _|        _|        _|\n// _|          _|_|_|    _|_|_|    _|_|_|    _|_|_|    _|_|_|  _|\n//\n//\n\nexport const createChessReducer: (initialState: ChessState) => Reducer<ChessState, Action> = (initialState) => (state = initialState, action) => {\n  if (!isChessAction(action)) {\n    return state\n  }\n\n  switch (action.type) {\n    case RESET_BOARD: return {\n      ...state,\n      board: {\n        chessmen: Map([\n          [new Coordinates({ rank: 1, file: 1 }), { symbol: '' }],\n          [new Coordinates({ rank: 1, file: 2 }), { symbol: '' }],\n          [new Coordinates({ rank: 1, file: 3 }), { symbol: '' }],\n          [new Coordinates({ rank: 1, file: 4 }), { symbol: '' }],\n          [new Coordinates({ rank: 1, file: 5 }), { symbol: '' }],\n          [new Coordinates({ rank: 1, file: 6 }), { symbol: '' }],\n          [new Coordinates({ rank: 1, file: 7 }), { symbol: '' }],\n          [new Coordinates({ rank: 1, file: 8 }), { symbol: '' }],\n          [new Coordinates({ rank: 2, file: 1 }), { symbol: '', hasAdvancedTwoSquares: false }],\n          [new Coordinates({ rank: 2, file: 2 }), { symbol: '', hasAdvancedTwoSquares: false }],\n          [new Coordinates({ rank: 2, file: 3 }), { symbol: '', hasAdvancedTwoSquares: false }],\n          [new Coordinates({ rank: 2, file: 4 }), { symbol: '', hasAdvancedTwoSquares: false }],\n          [new Coordinates({ rank: 2, file: 5 }), { symbol: '', hasAdvancedTwoSquares: false }],\n          [new Coordinates({ rank: 2, file: 6 }), { symbol: '', hasAdvancedTwoSquares: false }],\n          [new Coordinates({ rank: 2, file: 7 }), { symbol: '', hasAdvancedTwoSquares: false }],\n          [new Coordinates({ rank: 2, file: 8 }), { symbol: '', hasAdvancedTwoSquares: false }],\n          [new Coordinates({ rank: 7, file: 1 }), { symbol: '', hasAdvancedTwoSquares: false }],\n          [new Coordinates({ rank: 7, file: 2 }), { symbol: '', hasAdvancedTwoSquares: false }],\n          [new Coordinates({ rank: 7, file: 3 }), { symbol: '', hasAdvancedTwoSquares: false }],\n          [new Coordinates({ rank: 7, file: 4 }), { symbol: '', hasAdvancedTwoSquares: false }],\n          [new Coordinates({ rank: 7, file: 5 }), { symbol: '', hasAdvancedTwoSquares: false }],\n          [new Coordinates({ rank: 7, file: 6 }), { symbol: '', hasAdvancedTwoSquares: false }],\n          [new Coordinates({ rank: 7, file: 7 }), { symbol: '', hasAdvancedTwoSquares: false }],\n          [new Coordinates({ rank: 7, file: 8 }), { symbol: '', hasAdvancedTwoSquares: false }],\n          [new Coordinates({ rank: 8, file: 1 }), { symbol: '' }],\n          [new Coordinates({ rank: 8, file: 2 }), { symbol: '' }],\n          [new Coordinates({ rank: 8, file: 3 }), { symbol: '' }],\n          [new Coordinates({ rank: 8, file: 4 }), { symbol: '' }],\n          [new Coordinates({ rank: 8, file: 5 }), { symbol: '' }],\n          [new Coordinates({ rank: 8, file: 6 }), { symbol: '' }],\n          [new Coordinates({ rank: 8, file: 7 }), { symbol: '' }],\n          [new Coordinates({ rank: 8, file: 8 }), { symbol: '' }],\n        ]),\n      },\n    }\n    case HALF_MOVE: return state\n    case PUT_CHESSMAN: return {\n      ...state,\n      board: {\n        ...state.board,\n        chessmen: state.board.chessmen.set(new Coordinates(action.payload.target), action.payload.chessman), // TODO\n      },\n    }\n    case REMOVE_CHESSMAN: return {\n      ...state,\n      board: {\n        ...state.board,\n        chessmen: state.board.chessmen.delete(new Coordinates(action.payload.coord)), // TODO\n      },\n    }\n  }\n}\n\n//\n//                                           _|\n//   _|_|_|    _|_|    _|  _|_|  _|      _|        _|_|_|    _|_|\n// _|_|      _|_|_|_|  _|_|      _|      _|  _|  _|        _|_|_|_|\n//     _|_|  _|        _|          _|  _|    _|  _|        _|\n// _|_|_|      _|_|_|  _|            _|      _|    _|_|_|    _|_|_|\n//\n//\n\n@injectable()\nexport class ChessService {\n  private *halfMoveSaga({ payload: { chessman, source, target } }: HalfMoveAction): SagaIterator {\n    // TODO: check move\n\n    // TODO: castle\n\n    // TODO: remove en passant\n\n    yield put(removeChessman(source))\n    yield put(putChessman(chessman, target))\n\n    // TODO: turn\n  }\n\n  public *rootSaga(): SagaIterator {\n    yield takeEvery(HALF_MOVE, [this, this.halfMoveSaga])\n  }\n}\n","import { injectable } from 'inversify'\nimport { Action, Reducer } from 'redux'\nimport { SagaIterator } from 'redux-saga'\nimport { call, put, select } from 'redux-saga/effects'\n\nimport { takeEvery } from '~/lib/boni/redux-saga/effects'\nimport delay from '~/lib/delay'\nimport { State } from '~/redux'\n\n//\n//             _|                  _|\n//   _|_|_|  _|_|_|_|    _|_|_|  _|_|_|_|    _|_|\n// _|_|        _|      _|    _|    _|      _|_|_|_|\n//     _|_|    _|      _|    _|    _|      _|\n// _|_|_|        _|_|    _|_|_|      _|_|    _|_|_|\n//\n//\n\nexport interface CounterState {\n  count: number\n}\n\n//\n//                       _|      _|\n//   _|_|_|    _|_|_|  _|_|_|_|        _|_|    _|_|_|\n// _|    _|  _|          _|      _|  _|    _|  _|    _|\n// _|    _|  _|          _|      _|  _|    _|  _|    _|\n//   _|_|_|    _|_|_|      _|_|  _|    _|_|    _|    _|\n//\n//\n//\n//   _|\n// _|_|_|_|  _|    _|  _|_|_|      _|_|      _|_|_|\n//   _|      _|    _|  _|    _|  _|_|_|_|  _|_|\n//   _|      _|    _|  _|    _|  _|            _|_|\n//     _|_|    _|_|_|  _|_|_|      _|_|_|  _|_|_|\n//                 _|  _|\n//             _|_|    _|\n\nexport /* for testing */ const RESET = '@@react-app-prototype/counter/RESET'\nexport /* for testing */ const INCREMENT_IF_ODD = '@@react-app-prototype/counter/INCREMENT_IF_ODD'\nexport /* for testing */ const INCREMENT_ASYNC = '@@react-app-prototype/counter/INCREMENT_ASYNC'\nexport /* for testing */ const INCREMENT = '@@react-app-prototype/counter/INCREMENT'\nexport /* for testing */ const DECREMENT = '@@react-app-prototype/counter/DECREMENT'\n\nconst counterActionTypes = [\n  RESET,\n  INCREMENT_IF_ODD,\n  INCREMENT_ASYNC,\n  INCREMENT,\n  DECREMENT,\n]\n\ninterface ResetAction extends Action<typeof RESET> {}\n\ninterface IncrementIfOddAction extends Action<typeof INCREMENT_IF_ODD> {}\n\ninterface IncrementAsyncAction extends Action<typeof INCREMENT_ASYNC> {\n  payload: {\n    ms: number\n  }\n}\n\ninterface IncrementAction extends Action<typeof INCREMENT> {}\n\ninterface DecrementAction extends Action<typeof DECREMENT> {}\n\nexport type CounterAction =\n  | ResetAction\n  | IncrementIfOddAction\n  | IncrementAsyncAction\n  | IncrementAction\n  | DecrementAction\n\nfunction isCounterAction(action: Action): action is CounterAction {\n  return counterActionTypes.includes(action.type)\n}\n\n//\n//                       _|      _|\n//   _|_|_|    _|_|_|  _|_|_|_|        _|_|    _|_|_|\n// _|    _|  _|          _|      _|  _|    _|  _|    _|\n// _|    _|  _|          _|      _|  _|    _|  _|    _|\n//   _|_|_|    _|_|_|      _|_|  _|    _|_|    _|    _|\n//\n//\n//\n//                                           _|\n//   _|_|_|  _|  _|_|    _|_|      _|_|_|  _|_|_|_|    _|_|    _|  _|_|    _|_|_|\n// _|        _|_|      _|_|_|_|  _|    _|    _|      _|    _|  _|_|      _|_|\n// _|        _|        _|        _|    _|    _|      _|    _|  _|            _|_|\n//   _|_|_|  _|          _|_|_|    _|_|_|      _|_|    _|_|    _|        _|_|_|\n//\n//\n\nexport const reset = (): ResetAction => ({\n  type: RESET,\n})\n\nexport const incrementIfOdd = (): IncrementIfOddAction => ({\n  type: INCREMENT_IF_ODD,\n})\n\nexport const incrementAsync = (ms: number): IncrementAsyncAction => ({\n  type: INCREMENT_ASYNC,\n  payload: {\n    ms,\n  },\n})\n\nexport const increment = (): IncrementAction => ({\n  type: INCREMENT,\n})\n\nexport const decrement = (): DecrementAction => ({\n  type: DECREMENT,\n})\n\n//\n//                           _|\n// _|  _|_|    _|_|      _|_|_|  _|    _|    _|_|_|    _|_|    _|  _|_|\n// _|_|      _|_|_|_|  _|    _|  _|    _|  _|        _|_|_|_|  _|_|\n// _|        _|        _|    _|  _|    _|  _|        _|        _|\n// _|          _|_|_|    _|_|_|    _|_|_|    _|_|_|    _|_|_|  _|\n//\n//\n\nexport const createCounterReducer: (initialState: CounterState) => Reducer<CounterState, Action> = (initialState) => (state = initialState, action) => {\n  if (!isCounterAction(action)) {\n    return state\n  }\n\n  switch (action.type) {\n    case RESET: return initialState\n    case INCREMENT_IF_ODD:\n    case INCREMENT_ASYNC: return state\n    case INCREMENT: return {\n      ...state,\n      count: state.count + 1,\n    }\n    case DECREMENT: return {\n      ...state,\n      count: state.count - 1,\n    }\n  }\n}\n\n//\n//                     _|                        _|\n//   _|_|_|    _|_|    _|    _|_|      _|_|_|  _|_|_|_|    _|_|    _|  _|_|    _|_|_|\n// _|_|      _|_|_|_|  _|  _|_|_|_|  _|          _|      _|    _|  _|_|      _|_|\n//     _|_|  _|        _|  _|        _|          _|      _|    _|  _|            _|_|\n// _|_|_|      _|_|_|  _|    _|_|_|    _|_|_|      _|_|    _|_|    _|        _|_|_|\n//\n//\n\nexport /* for testing */ const selectCount = ({ counter: { count } }: State) => count\n\n//\n//                                           _|\n//   _|_|_|    _|_|    _|  _|_|  _|      _|        _|_|_|    _|_|\n// _|_|      _|_|_|_|  _|_|      _|      _|  _|  _|        _|_|_|_|\n//     _|_|  _|        _|          _|  _|    _|  _|        _|\n// _|_|_|      _|_|_|  _|            _|      _|    _|_|_|    _|_|_|\n//\n//\n\n@injectable()\nexport class CounterService {\n  public /* for testing */ *incrementIfOddSaga(): SagaIterator {\n    const count: ReturnType<typeof selectCount> = yield select(selectCount)\n\n    if (count % 2 !== 0) {\n      yield put(increment())\n    }\n  }\n\n  public /* for testing */ *incrementAsyncSaga({ payload: { ms } }: IncrementAsyncAction): SagaIterator {\n    yield call(delay, ms)\n    yield put(increment())\n  }\n\n  public *rootSaga(): SagaIterator {\n    yield takeEvery(INCREMENT_IF_ODD, [this, this.incrementIfOddSaga])\n    yield takeEvery(INCREMENT_ASYNC, [this, this.incrementAsyncSaga])\n  }\n}\n","import { injectable } from 'inversify'\nimport { Action, Reducer } from 'redux'\nimport { SagaIterator, Task } from 'redux-saga'\nimport { ForkEffect, call, cancel, put } from 'redux-saga/effects'\n\nimport { takeEvery } from '~/lib/boni/redux-saga/effects'\nimport delay from '~/lib/delay'\n\n//\n//             _|                  _|\n//   _|_|_|  _|_|_|_|    _|_|_|  _|_|_|_|    _|_|\n// _|_|        _|      _|    _|    _|      _|_|_|_|\n//     _|_|    _|      _|    _|    _|      _|\n// _|_|_|        _|_|    _|_|_|      _|_|    _|_|_|\n//\n//\n\nexport interface IoState {\n  now: Date\n}\n\n//\n//                       _|      _|\n//   _|_|_|    _|_|_|  _|_|_|_|        _|_|    _|_|_|\n// _|    _|  _|          _|      _|  _|    _|  _|    _|\n// _|    _|  _|          _|      _|  _|    _|  _|    _|\n//   _|_|_|    _|_|_|      _|_|  _|    _|_|    _|    _|\n//\n//\n//\n//   _|\n// _|_|_|_|  _|    _|  _|_|_|      _|_|      _|_|_|\n//   _|      _|    _|  _|    _|  _|_|_|_|  _|_|\n//   _|      _|    _|  _|    _|  _|            _|_|\n//     _|_|    _|_|_|  _|_|_|      _|_|_|  _|_|_|\n//                 _|  _|\n//             _|_|    _|\n\nexport /* for testing */ const UPDATE_NOW = '@@react-app-prototype/io/UPDATE_NOW' // TODO: rename\nexport /* for testing */ const START_CLOCK = '@@react-app-prototype/io/START_CLOCK'\nconst STOP_CLOCK = '@@react-app-prototype/io/STOP_CLOCK'\nexport /* for testing */ const SET_NOW = '@@react-app-prototype/io/SET_NOW'\n\nconst ioActionTypes = [\n  UPDATE_NOW,\n  START_CLOCK,\n  STOP_CLOCK,\n  SET_NOW,\n]\n\ninterface UpdateNowAction extends Action<typeof UPDATE_NOW> {}\n\ninterface StartClockAction extends Action<typeof START_CLOCK> {}\n\ninterface StopClockAction extends Action<typeof STOP_CLOCK> {}\n\nexport /* for testing */ interface SetNowAction extends Action<typeof SET_NOW> {\n  payload: {\n    now: Date\n  }\n}\n\nexport type IoAction =\n  | UpdateNowAction\n  | StartClockAction\n  | StopClockAction\n  | SetNowAction\n\nfunction isIoAction(action: Action): action is IoAction {\n  return ioActionTypes.includes(action.type)\n}\n\n//\n//                       _|      _|\n//   _|_|_|    _|_|_|  _|_|_|_|        _|_|    _|_|_|\n// _|    _|  _|          _|      _|  _|    _|  _|    _|\n// _|    _|  _|          _|      _|  _|    _|  _|    _|\n//   _|_|_|    _|_|_|      _|_|  _|    _|_|    _|    _|\n//\n//\n//\n//                                           _|\n//   _|_|_|  _|  _|_|    _|_|      _|_|_|  _|_|_|_|    _|_|    _|  _|_|    _|_|_|\n// _|        _|_|      _|_|_|_|  _|    _|    _|      _|    _|  _|_|      _|_|\n// _|        _|        _|        _|    _|    _|      _|    _|  _|            _|_|\n//   _|_|_|  _|          _|_|_|    _|_|_|      _|_|    _|_|    _|        _|_|_|\n//\n//\n\nexport const updateNow = (): UpdateNowAction => ({\n  type: UPDATE_NOW,\n})\n\nexport const startClock = (): StartClockAction => ({\n  type: START_CLOCK,\n})\n\nexport const stopClock = (): StopClockAction => ({\n  type: STOP_CLOCK,\n})\n\nexport /* for testing */ const setNow = (now: Date): SetNowAction => ({\n  type: SET_NOW,\n  payload: {\n    now,\n  },\n})\n\n//\n//                           _|\n// _|  _|_|    _|_|      _|_|_|  _|    _|    _|_|_|    _|_|    _|  _|_|\n// _|_|      _|_|_|_|  _|    _|  _|    _|  _|        _|_|_|_|  _|_|\n// _|        _|        _|    _|  _|    _|  _|        _|        _|\n// _|          _|_|_|    _|_|_|    _|_|_|    _|_|_|    _|_|_|  _|\n//\n//\n\nexport const createIoReducer: (initialState: IoState) => Reducer<IoState, Action> = (initialState) => (state = initialState, action) => {\n  if (!isIoAction(action)) {\n    return state\n  }\n\n  switch (action.type) {\n    case UPDATE_NOW: return state\n    case START_CLOCK: return state\n    case STOP_CLOCK: return state\n    case SET_NOW: return {\n      ...state,\n      now: action.payload.now,\n    }\n  }\n}\n\n//\n//                                           _|\n//   _|_|_|    _|_|    _|  _|_|  _|      _|        _|_|_|    _|_|\n// _|_|      _|_|_|_|  _|_|      _|      _|  _|  _|        _|_|_|_|\n//     _|_|  _|        _|          _|  _|    _|  _|        _|\n// _|_|_|      _|_|_|  _|            _|      _|    _|_|_|    _|_|_|\n//\n//\n\n@injectable()\nexport class IoService {\n  private startClockTask: ForkEffect & Task | null = null // NOTE: Redux-Saga  `ForkEffect extends Task`  `cancel(task: ForkEffect): CancelEffect` \n\n  public /* for testing */ *updateNowSaga(): SagaIterator {\n    yield put(setNow(new Date))\n  }\n\n  public /* for testing */ *startClockSaga(): SagaIterator {\n    // tslint:disable-next-line:no-loop-statement\n    while (true) {\n      yield call(delay, 1000 - new Date().getMilliseconds())\n\n      yield put(updateNow())\n    }\n  }\n\n  public /* for testing */ *stopClockSaga(): SagaIterator {\n    if (this.startClockTask !== null) {\n      yield cancel(this.startClockTask)\n\n      // Resume the cancelled task\n      // tslint:disable-next-line:no-object-mutation\n      this.startClockTask = yield takeEvery(START_CLOCK, [this, this.startClockSaga])\n    }\n  }\n\n  public *rootSaga(): SagaIterator {\n    yield takeEvery(UPDATE_NOW, [this, this.updateNowSaga])\n    // tslint:disable-next-line:no-object-mutation\n    this.startClockTask = yield takeEvery(START_CLOCK, [this, this.startClockSaga])\n    yield takeEvery(STOP_CLOCK, [this, this.stopClockSaga])\n  }\n}\n","import assert from 'assert'\nimport { inject, injectable } from 'inversify'\nimport { Action, Reducer } from 'redux'\nimport { SagaIterator } from 'redux-saga'\nimport { call, put, select } from 'redux-saga/effects'\nimport { v4 } from 'uuid'\n\nimport Task from '~/domain/entity/Task'\nimport TaskRepository from '~/domain/repository/TaskRepository'\nimport TaskId from '~/domain/vo/TaskId'\nimport { takeEvery } from '~/lib/boni/redux-saga/effects'\nimport { LogicError } from '~/lib/errors'\nimport typed from '~/lib/typed'\nimport { State } from '~/redux'\n\n//\n//             _|                  _|\n//   _|_|_|  _|_|_|_|    _|_|_|  _|_|_|_|    _|_|\n// _|_|        _|      _|    _|    _|      _|_|_|_|\n//     _|_|    _|      _|    _|    _|      _|\n// _|_|_|        _|_|    _|_|_|      _|_|    _|_|_|\n//\n//\n\nexport interface ReminderState {\n  tasks: Task[]\n  errors: Record<string, Error> // id -> error\n}\n\n//\n//                       _|      _|\n//   _|_|_|    _|_|_|  _|_|_|_|        _|_|    _|_|_|\n// _|    _|  _|          _|      _|  _|    _|  _|    _|\n// _|    _|  _|          _|      _|  _|    _|  _|    _|\n//   _|_|_|    _|_|_|      _|_|  _|    _|_|    _|    _|\n//\n//\n//\n//   _|\n// _|_|_|_|  _|    _|  _|_|_|      _|_|      _|_|_|\n//   _|      _|    _|  _|    _|  _|_|_|_|  _|_|\n//   _|      _|    _|  _|    _|  _|            _|_|\n//     _|_|    _|_|_|  _|_|_|      _|_|_|  _|_|_|\n//                 _|  _|\n//             _|_|    _|\n\nexport /* for testing */ const ADD_TASK_ASYNC = '@@react-app-prototype/reminder/ADD_TASK_ASYNC'\nexport /* for testing */ const CHANGE_TASK_CONTENT_ASYNC = '@@react-app-prototype/reminder/CHANGE_TASK_CONTENT_ASYNC'\nexport /* for testing */ const MARK_TASK_AS_DONE_ASYNC = '@@react-app-prototype/reminder/MARK_TASK_AS_DONE_ASYNC'\nexport /* for testing */ const MARK_TASK_AS_UNDONE_ASYNC = '@@react-app-prototype/reminder/MARK_TASK_AS_UNDONE_ASYNC'\nexport /* for testing */ const DELETE_TASK_ASYNC = '@@react-app-prototype/reminder/DELETE_TASK_ASYNC'\nexport /* for testing */ const MOVE_TASK = '@@react-app-prototype/reminder/MOVE_TASK' // TODO: rename?\nexport /* for testing */ const PUSH_TASK = '@@react-app-prototype/reminder/PUSH_TASK'\nexport /* for testing */ const REMOVE_TASK = '@@react-app-prototype/reminder/REMOVE_TASK'\nexport /* for testing */ const CHECK_TASK = '@@react-app-prototype/reminder/CHECK_TASK'\nexport /* for testing */ const PUSH_ERROR = '@@react-app-prototype/reminder/PUSH_ERROR'\nconst REMOVE_ERROR = '@@react-app-prototype/reminder/REMOVE_ERROR'\n\nconst reminderActionTypes = [\n  ADD_TASK_ASYNC,\n  CHANGE_TASK_CONTENT_ASYNC,\n  MARK_TASK_AS_DONE_ASYNC,\n  MARK_TASK_AS_UNDONE_ASYNC,\n  DELETE_TASK_ASYNC,\n  MOVE_TASK,\n  PUSH_TASK,\n  REMOVE_TASK,\n  CHECK_TASK,\n  PUSH_ERROR,\n  REMOVE_ERROR,\n]\n\ninterface AddTaskAsyncAction extends Action<typeof ADD_TASK_ASYNC> {}\n\ninterface ChangeTaskContentAsyncAction extends Action<typeof CHANGE_TASK_CONTENT_ASYNC> {\n  payload: {\n    taskId: TaskId\n    content: Task['content']\n  }\n}\n\ninterface MarkTaskAsDoneAsyncAction extends Action<typeof MARK_TASK_AS_DONE_ASYNC> {\n  payload: {\n    taskId: TaskId\n  }\n}\n\ninterface MarkTaskAsUndoneAsyncAction extends Action<typeof MARK_TASK_AS_UNDONE_ASYNC> {\n  payload: {\n    taskId: TaskId\n  }\n}\n\ninterface DeleteTaskAsyncAction extends Action<typeof DELETE_TASK_ASYNC> {\n  payload: {\n    taskId: TaskId\n  }\n}\n\ninterface MoveTaskAction extends Action<typeof MOVE_TASK> {\n  payload: {\n    sourceIndex: number\n    targetIndex: number\n  }\n}\n\ninterface PushTaskAction extends Action<typeof PUSH_TASK> {\n  payload: {\n    task: Task\n  }\n}\n\ninterface RemoveTaskAction extends Action<typeof REMOVE_TASK> {\n  payload: {\n    taskId: TaskId\n  }\n}\n\ninterface CheckTaskAction extends Action<typeof CHECK_TASK> {\n  payload: {\n    taskId: TaskId\n    task: Task\n  }\n}\n\ninterface PushErrorAction extends Action<typeof PUSH_ERROR> {\n  payload: {\n    errorId: string\n    error: Error\n  }\n}\n\ninterface RemoveErrorAction extends Action<typeof REMOVE_ERROR> {\n  payload: {\n    errorId: string\n  }\n}\n\nexport type ReminderAction =\n  | AddTaskAsyncAction\n  | ChangeTaskContentAsyncAction\n  | MarkTaskAsDoneAsyncAction\n  | MarkTaskAsUndoneAsyncAction\n  | DeleteTaskAsyncAction\n  | MoveTaskAction\n  | PushTaskAction\n  | RemoveTaskAction\n  | CheckTaskAction\n  | PushErrorAction\n  | RemoveErrorAction\n\nfunction isReminderAction(action: Action): action is ReminderAction {\n  return reminderActionTypes.includes(action.type)\n}\n\n//\n//                       _|      _|\n//   _|_|_|    _|_|_|  _|_|_|_|        _|_|    _|_|_|\n// _|    _|  _|          _|      _|  _|    _|  _|    _|\n// _|    _|  _|          _|      _|  _|    _|  _|    _|\n//   _|_|_|    _|_|_|      _|_|  _|    _|_|    _|    _|\n//\n//\n//\n//                                           _|\n//   _|_|_|  _|  _|_|    _|_|      _|_|_|  _|_|_|_|    _|_|    _|  _|_|    _|_|_|\n// _|        _|_|      _|_|_|_|  _|    _|    _|      _|    _|  _|_|      _|_|\n// _|        _|        _|        _|    _|    _|      _|    _|  _|            _|_|\n//   _|_|_|  _|          _|_|_|    _|_|_|      _|_|    _|_|    _|        _|_|_|\n//\n//\n\nexport const addTaskAsync = (): AddTaskAsyncAction => ({\n  type: ADD_TASK_ASYNC,\n})\n\nexport const changeTaskContentAsync = (taskId: TaskId, content: string): ChangeTaskContentAsyncAction => ({\n  type: CHANGE_TASK_CONTENT_ASYNC,\n  payload: {\n    taskId,\n    content,\n  },\n})\n\nexport const markTaskAsDoneAsync = (taskId: TaskId): MarkTaskAsDoneAsyncAction => ({\n  type: MARK_TASK_AS_DONE_ASYNC,\n  payload: {\n    taskId,\n  },\n})\n\nexport const markTaskAsUndoneAsync = (taskId: TaskId): MarkTaskAsUndoneAsyncAction => ({\n  type: MARK_TASK_AS_UNDONE_ASYNC,\n  payload: {\n    taskId,\n  },\n})\n\nexport const deleteTaskAsync = (taskId: TaskId): DeleteTaskAsyncAction => ({\n  type: DELETE_TASK_ASYNC,\n  payload: {\n    taskId,\n  },\n})\n\nexport const moveTask = (sourceIndex: number, targetIndex: number): MoveTaskAction => ({\n  type: MOVE_TASK,\n  payload: {\n    sourceIndex,\n    targetIndex,\n  },\n})\n\nexport const pushTask = (task: Task): PushTaskAction => ({\n  type: PUSH_TASK,\n  payload: {\n    task,\n  },\n})\n\nexport const removeTask = (taskId: TaskId): RemoveTaskAction => ({\n  type: REMOVE_TASK,\n  payload: {\n    taskId,\n  },\n})\n\nexport const checkTask = (taskId: TaskId, task: Task): CheckTaskAction => ({\n  type: CHECK_TASK,\n  payload: {\n    taskId,\n    task,\n  },\n})\n\nexport /* for testing */ const pushError = (errorId: string, error: Error): PushErrorAction => ({\n  type: PUSH_ERROR,\n  payload: {\n    errorId,\n    error,\n  },\n})\n\nexport const removeError = (errorId: string): RemoveErrorAction => ({\n  type: REMOVE_ERROR,\n  payload: {\n    errorId,\n  },\n})\n\n//\n//                           _|\n// _|  _|_|    _|_|      _|_|_|  _|    _|    _|_|_|    _|_|    _|  _|_|\n// _|_|      _|_|_|_|  _|    _|  _|    _|  _|        _|_|_|_|  _|_|\n// _|        _|        _|    _|  _|    _|  _|        _|        _|\n// _|          _|_|_|    _|_|_|    _|_|_|    _|_|_|    _|_|_|  _|\n//\n//\n\nexport const createReminderReducer: (initialState: ReminderState) => Reducer<ReminderState, Action> = (initialState) => (state = initialState, action) => {\n  if (!isReminderAction(action)) {\n    return state\n  }\n\n  switch (action.type) {\n    case ADD_TASK_ASYNC: return state\n    case CHANGE_TASK_CONTENT_ASYNC: {\n      const i = state.tasks.findIndex((task) => task.id.equals(action.payload.taskId))\n\n      if (i === -1) {\n        throw new Error // TODO:\n      }\n\n      return {\n        ...state,\n        tasks: [\n          ...state.tasks.slice(0, i),\n          state.tasks[i].with({ content: action.payload.content }),\n          ...state.tasks.slice(i + 1),\n        ],\n      }\n    }\n    case MARK_TASK_AS_DONE_ASYNC: {\n      const i = state.tasks.findIndex((task) => task.id.equals(action.payload.taskId))\n\n      if (i === -1) {\n        throw new Error // TODO:\n      }\n\n      return {\n        ...state,\n        tasks: [\n          ...state.tasks.slice(0, i),\n          state.tasks[i].with({ done: true }),\n          ...state.tasks.slice(i + 1),\n        ],\n      }\n    }\n    case MARK_TASK_AS_UNDONE_ASYNC: {\n      const i = state.tasks.findIndex((task) => task.id.equals(action.payload.taskId))\n\n      if (i === -1) {\n        throw new Error // TODO:\n      }\n\n      return {\n        ...state,\n        tasks: [\n          ...state.tasks.slice(0, i),\n          state.tasks[i].with({ done: false }),\n          ...state.tasks.slice(i + 1),\n        ],\n      }\n    }\n    case DELETE_TASK_ASYNC: return state\n    case MOVE_TASK: {\n      const restTasks = [\n        ...state.tasks.slice(0, action.payload.sourceIndex),\n        ...state.tasks.slice(action.payload.sourceIndex + 1),\n      ]\n\n      return {\n        ...state,\n        tasks: [\n          ...restTasks.slice(0, action.payload.targetIndex),\n          state.tasks[action.payload.sourceIndex],\n          ...restTasks.slice(action.payload.targetIndex),\n        ],\n      }\n    }\n    case PUSH_TASK: return {\n      ...state,\n      tasks: [\n        ...state.tasks,\n        action.payload.task,\n      ],\n    }\n    case REMOVE_TASK: {\n      const i = state.tasks.findIndex((task) => task.id.equals(action.payload.taskId))\n\n      if (i === -1) {\n        throw new Error // TODO:\n      }\n\n      return {\n        ...state,\n        tasks: [\n          ...state.tasks.slice(0, i),\n          ...state.tasks.slice(i + 1),\n        ],\n      }\n    }\n    case CHECK_TASK: {\n      assert(action.payload.taskId.equals(action.payload.task.id))\n\n      return state\n    }\n    case PUSH_ERROR: return {\n      ...state,\n      errors: {\n        ...state.errors,\n        [action.payload.errorId]: action.payload.error,\n      },\n    }\n    case REMOVE_ERROR: {\n      if (!(action.payload.errorId in state.errors)) {\n        throw new Error // TODO:\n      }\n\n      const { [action.payload.errorId]: removedError, ...restErrors } = state.errors\n\n      return {\n        ...state,\n        errors: restErrors,\n      }\n    }\n  }\n}\n\n//\n//                     _|                        _|\n//   _|_|_|    _|_|    _|    _|_|      _|_|_|  _|_|_|_|    _|_|    _|  _|_|    _|_|_|\n// _|_|      _|_|_|_|  _|  _|_|_|_|  _|          _|      _|    _|  _|_|      _|_|\n//     _|_|  _|        _|  _|        _|          _|      _|    _|  _|            _|_|\n// _|_|_|      _|_|_|  _|    _|_|_|    _|_|_|      _|_|    _|_|    _|        _|_|_|\n//\n//\n\nconst selectTasks = ({ reminder: { tasks } }: State) => tasks\n\n//\n//                                           _|\n//   _|_|_|    _|_|    _|  _|_|  _|      _|        _|_|_|    _|_|\n// _|_|      _|_|_|_|  _|_|      _|      _|  _|  _|        _|_|_|_|\n//     _|_|  _|        _|          _|  _|    _|  _|        _|\n// _|_|_|      _|_|_|  _|            _|      _|    _|_|_|    _|_|_|\n//\n//\n\n@injectable()\nexport default class ReminderService {\n  constructor(\n    @inject('TaskRepository') public taskRepository: TaskRepository\n  ) {}\n\n  private *addTaskAsyncSaga(): SagaIterator {\n    const task = new Task({})\n\n    yield call(this.taskRepository.store, task)\n    yield put(pushTask(task))\n  }\n\n  private *changeTaskContentAsyncSaga({ payload: { taskId, content } }: ChangeTaskContentAsyncAction): SagaIterator {\n    const task: ResultType<ReturnType<this['taskRepository']['findById']>> = yield call(this.taskRepository.findById, taskId)\n\n    try {\n      task.content = content // tslint:disable-line:no-object-mutation\n    } catch (error) {\n      if (error instanceof Error) {\n        yield put(pushError(v4(), error)) // TODO:\n\n        return\n      }\n\n      throw new TypeError(typed<[string]>`${ String(error) } is not an error.`)\n    }\n\n    yield call(this.taskRepository.store, task)\n    yield put(checkTask(taskId, task))\n  }\n\n  private *markTaskAsDoneAsyncSaga({ payload: { taskId } }: MarkTaskAsDoneAsyncAction): SagaIterator {\n    const task: ResultType<ReturnType<this['taskRepository']['findById']>> = yield call(this.taskRepository.findById, taskId)\n\n    task.done = true // tslint:disable-line:no-object-mutation\n\n    yield call(this.taskRepository.store, task)\n    yield put(checkTask(taskId, task))\n  }\n\n  private *markTaskAsUndoneAsyncSaga({ payload: { taskId } }: MarkTaskAsUndoneAsyncAction): SagaIterator {\n    const task: ResultType<ReturnType<this['taskRepository']['findById']>> = yield call(this.taskRepository.findById, taskId)\n\n    task.done = false // tslint:disable-line:no-object-mutation\n\n    yield call(this.taskRepository.store, task)\n    yield put(checkTask(taskId, task))\n  }\n\n  private *deleteTaskAsyncSaga({ payload: { taskId } }: DeleteTaskAsyncAction): SagaIterator {\n    yield call(this.taskRepository.remove, taskId)\n    yield put(removeTask(taskId))\n  }\n\n  private *checkTaskSaga({ payload: { taskId, task } }: CheckTaskAction): SagaIterator {\n    const stateTasks: ReturnType<typeof selectTasks> = yield select(selectTasks)\n\n    const stateTask = stateTasks.find(({ id }) => id.equals(taskId))\n\n    if (stateTask === undefined) {\n      throw new Error // TODO:\n    }\n\n    if (!stateTask.equals(task)) {\n      yield put(pushError(v4(), new LogicError)) // TODO:\n    }\n  }\n\n  public *rootSaga(): SagaIterator {\n    yield takeEvery(ADD_TASK_ASYNC, [this, this.addTaskAsyncSaga])\n    yield takeEvery(CHANGE_TASK_CONTENT_ASYNC, [this, this.changeTaskContentAsyncSaga])\n    yield takeEvery(MARK_TASK_AS_DONE_ASYNC, [this, this.markTaskAsDoneAsyncSaga])\n    yield takeEvery(MARK_TASK_AS_UNDONE_ASYNC, [this, this.markTaskAsUndoneAsyncSaga])\n    yield takeEvery(DELETE_TASK_ASYNC, [this, this.deleteTaskAsyncSaga])\n    yield takeEvery(CHECK_TASK, [this, this.checkTaskSaga])\n  }\n}\n","import ValueObject from './ValueObject'\n\n// TODO: remove\nfunction seemsLikeUuid(s: string) {\n  return /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/.test(s)\n}\n\nexport default class Id extends ValueObject<string> {\n  public static deserialize(serialized: string): Id {\n    return new Id(serialized)\n  }\n\n  public serialize(): string {\n    return this.value\n  }\n\n  protected checkInvariant() {\n    return seemsLikeUuid(this.value)\n  }\n\n  public hashCode() {\n    // tslint:disable-next-line:no-let\n    let result = 17\n\n    result = 31 * result + this.value.hashCode()\n\n    return result\n  }\n}\n","import { ValidationError } from '~/lib/errors'\nimport Hashable from '~/lib/trait/Hashable'\n\n/**\n * A primitive ValueObject\n */\nexport default abstract class ValueObject<T> extends Hashable implements Class.ValueObject<{ value: T }> {\n  constructor(\n    public readonly value: T\n  ) {\n    super()\n\n    if (!this.checkInvariant()) {\n      throw new ValidationError('Invariant Violation: ValueObject#checkInvariant() must be a tautology.')\n    }\n  }\n\n  protected checkInvariant() {\n    return true\n  }\n}\n","import Id from './Id'\n\nexport default class TaskId extends Id {}\n","import { v4 } from 'uuid'\n\nimport Id from '~/domain/vo/Id'\nimport Eq from '~/lib/trait/Eq'\nimport Hashable from '~/lib/trait/Hashable'\n\n// TODO: move?\ninterface Identifiable {\n  id: Id\n}\n\nexport default abstract class Entity extends Hashable implements Identifiable, Eq {\n  constructor(\n    public readonly id = new Id(v4())\n  ) {\n    super()\n  }\n}\n","import TaskId from '~/domain/vo/TaskId'\nimport yieldThis from '~/lib/extensions/Unknown/yieldThis'\nimport { asBoolean, asObject, asString, optional } from '~/lib/validators/commonValidators'\nimport Entity from './Entity'\n\nconst asIdSerializedTask = asObject('an Id-serialized Task', (input) => ({\n  id: asString(input.id),\n  content: optional(asString)(input.content),\n  done: optional(asBoolean)(input.done),\n}))\n\nexport interface TaskRequest {\n  id?: TaskId\n  content?: string\n  done?: boolean\n}\n\nexport default class Task extends Entity {\n  private _content: string\n  private _done: boolean\n\n  constructor({\n    id,\n    content = '',\n    done = false,\n  }: TaskRequest) {\n    super(id)\n\n    this._content = content\n    this._done = done\n  }\n\n  public static deserialize(serialized: string): Task {\n    const deserialized = yieldThis(asIdSerializedTask(JSON.parse(serialized)), (({ id, content, done }) => ({\n      id: TaskId.deserialize(id),\n      content,\n      done,\n    })))\n\n    return new Task(deserialized)\n  }\n\n  public serialize(): string {\n    return JSON.stringify({\n      id: this.id.serialize(),\n      content: this.content,\n      done: this.done,\n    })\n  }\n\n  public hashCode() {\n    // tslint:disable-next-line:no-let\n    let result = 17\n\n    result = 31 * result + this.id.hashCode()\n    result = 31 * result + this.content.hashCode()\n    result = 31 * result + this.done.hashCode()\n\n    return result\n  }\n\n  public with({\n    id = this.id,\n    content = this.content,\n    done = this.done,\n  }: TaskRequest): Task {\n    return new Task({ id, content, done })\n  }\n\n  get content() {\n    return this._content\n  }\n\n  // TODO: immutable\n  set content(value) {\n    this._content = value // tslint:disable-line:no-object-mutation\n  }\n\n  get done() {\n    return this._done\n  }\n\n  // TODO: immutable\n  set done(value) {\n    this._done = value // tslint:disable-line:no-object-mutation\n  }\n}\n","export default function yieldThis<T extends unknown, U>(that: T, decorate: (that: T) => U): U {\n  return decorate(that)\n}\n","import Hashable from '~/lib/trait/Hashable'\n\nexport default interface Coordinates extends Chess.Coordinates {} // tslint:disable-line:no-empty-interface\n\nexport default class Coordinates extends Hashable implements Class.ValueObject<Chess.Coordinates> {\n  constructor({ file, rank }: Chess.Coordinates) {\n    super()\n\n    this.file = file\n    this.rank = rank\n  }\n\n  public hashCode() {\n    // tslint:disable-next-line:no-let\n    let result = this.file.hashCode()\n\n    result = 31 * result + this.rank.hashCode()\n\n    return result\n  }\n}\n","export default function hashCode(x: number) {\n  const v = doubleToLongBits(x)\n\n  return v ^ (v / 2 ** 32)\n}\n\n// TODO: remove\nfunction doubleToLongBits(value: number): number {\n  const buf = Buffer.allocUnsafe(8)\n\n  buf.writeDoubleBE(value, 0)\n\n  return 2 ** 32 * buf.readUInt32BE(0) + buf.readUInt32BE(4)\n}\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".src-components-Nav-classes__Spacer--36ovl {\\n  flex-grow: 1;\\n}\\n\\n.src-components-Nav-classes__LocaleSelectLabel--3h3DV.src-components-Nav-classes__LocaleSelectLabel--3h3DV {\\n  color: currentColor\\n}\\n\\n.src-components-Nav-classes__LocaleSelectLabel--3h3DV.src-components-Nav-classes__LocaleSelectLabel--3h3DV.Mui-focused {\\n    opacity: 0.618;\\n    color: currentColor;\\n  }\\n\\n.src-components-Nav-classes__LocaleSelectInput--3oNu1.src-components-Nav-classes__LocaleSelectInput--3oNu1 {\\n  color: currentColor;\\n}\\n\\n.src-components-Nav-classes__LocaleSelectSelectIcon--2AyFk.src-components-Nav-classes__LocaleSelectSelectIcon--2AyFk {\\n  color: currentColor;\\n}\\n\\n.src-components-Nav-classes__LocaleSelectInputUnderline--2WFrx.src-components-Nav-classes__LocaleSelectInputUnderline--2WFrx::before,\\n  .src-components-Nav-classes__LocaleSelectInputUnderline--2WFrx.src-components-Nav-classes__LocaleSelectInputUnderline--2WFrx:hover:not(.Mui-disabled)::before,\\n  .src-components-Nav-classes__LocaleSelectInputUnderline--2WFrx.src-components-Nav-classes__LocaleSelectInputUnderline--2WFrx::after {\\n    border-bottom-color: currentColor;\\n  }\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"Spacer\": \"src-components-Nav-classes__Spacer--36ovl\",\n\t\"LocaleSelectLabel\": \"src-components-Nav-classes__LocaleSelectLabel--3h3DV\",\n\t\"LocaleSelectInput\": \"src-components-Nav-classes__LocaleSelectInput--3oNu1\",\n\t\"LocaleSelectSelectIcon\": \"src-components-Nav-classes__LocaleSelectSelectIcon--2AyFk\",\n\t\"LocaleSelectInputUnderline\": \"src-components-Nav-classes__LocaleSelectInputUnderline--2WFrx\"\n};\nmodule.exports = exports;\n","import { defineMessages } from 'react-intl'\n\nexport default defineMessages({\n  languages: 'Languages',\n})\n","import classnames from 'classnames'\nimport React, { useCallback, useMemo, useState } from 'react'\nimport { FormattedMessage } from 'react-intl'\nimport { connect } from 'react-redux'\nimport { v4 } from 'uuid'\n\nimport FilledInput from '@material-ui/core/FilledInput'\nimport FormControl, { FormControlProps } from '@material-ui/core/FormControl'\nimport Input from '@material-ui/core/Input'\nimport InputLabel from '@material-ui/core/InputLabel'\nimport OutlinedInput from '@material-ui/core/OutlinedInput'\nimport Select, { SelectProps } from '@material-ui/core/Select'\nimport { useTheme } from '@material-ui/core/styles'\n\nimport { Tag, getNativeNameByTag, isTag } from '~/lib/languageNameSolver'\nimport { State } from '~/redux'\nimport { selectLocale } from '~/redux/modules/localeSelector'\nimport messages from './messages'\n\ninterface OwnProps {\n  classes?: {\n    root?: string\n    label?: string\n    input?: string\n    selectIcon?: string\n    inputUnderline?: string\n  } | null\n  FormControlProps?: FormControlProps | null\n}\n\ninterface StateProps {\n  availableLocales: Tag[]\n  locale: Tag\n}\n\ninterface DispatchProps {\n  selectLocale(locale: Tag): void\n}\n\ntype Props =\n  & OwnProps\n  & StateProps\n  & DispatchProps\n\nexport /* for testing */ const LocaleSelect: React.FunctionComponent<Props> = ({ classes, FormControlProps, availableLocales, locale, selectLocale }) => {\n  const [labelWidth, setLabelWidth] = useState<number>(0)\n  const inputId = useMemo(v4, [])\n  const theme = useTheme()\n\n  // NOTE: Fortunately, FormControl is nothing but FormControl.\n  const variant = useMemo(() => FormControlProps?.variant ?? theme?.props?.MuiFormControl?.variant ?? 'standard', [FormControlProps?.variant, theme?.props?.MuiFormControl?.variant])\n\n  const rootClassName = useMemo(() => classnames(classes?.root, FormControlProps?.className), [classes?.root, FormControlProps?.className])\n  const labelClassName = useMemo(() => classnames(classes?.label), [classes?.label])\n  const inputClassName = useMemo(() => classnames(classes?.input), [classes?.input])\n  const selectIconClassName = useMemo(() => classnames(classes?.selectIcon), [classes?.selectIcon])\n  const inputUnderlineClassName = useMemo(() => classnames(classes?.inputUnderline), [classes?.inputUnderline])\n\n  const inputLabel = useCallback((node: HTMLLabelElement | null) => { // TODO: type\n    if (node !== null) {\n      setLabelWidth(node.offsetWidth)\n    }\n  }, [])\n\n  const handleChange = useCallback<NonNullable<SelectProps['onChange']>>((event) => {\n    if (isTag(event.target.value)) {\n      selectLocale(event.target.value)\n    }\n  }, [])\n\n  return (\n    <FormControl\n      { ...FormControlProps }\n      className={ rootClassName } // NOTE: override FormControlProps.className\n    >\n      <InputLabel className={ labelClassName } ref={ inputLabel } htmlFor={ inputId }>\n        <FormattedMessage { ...messages.languages } />\n      </InputLabel>\n      <Select\n        classes={ {\n          icon: selectIconClassName,\n        } }\n        native\n        labelWidth={ labelWidth }\n        value={ locale }\n        onChange={ handleChange }\n        id={ inputId }\n        inputProps={ { 'data-testid': 'localeSelect' } }\n        input={ {\n          standard: (\n            <Input\n              className={ inputClassName }\n              classes={ {\n                underline: inputUnderlineClassName,\n              } }\n            />\n          ),\n          outlined: <OutlinedInput className={ inputClassName } labelWidth={ labelWidth } />,\n          filled: <FilledInput className={ inputClassName } />,\n        }[variant] }\n      >\n        { availableLocales.map((availableLocale, i) => (\n          <option key={ i } value={ availableLocale }>{ getNativeNameByTag(availableLocale) }</option>\n        )) }\n      </Select>\n    </FormControl>\n  )\n}\n\n// connect\n\nconst mapStateToProps = ({ localeSelector: { availableLocales, locale } }: State): StateProps => ({\n  availableLocales,\n  locale,\n})\n\nconst mapDispatchToProps: DispatchProps = {\n  selectLocale,\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LocaleSelect)\n","import tagNativeNameMap from './__data__/tagNativeNameMap.json'\n\nexport type Tag = keyof typeof tagNativeNameMap\n\nexport function isTag(tag: unknown): tag is Tag {\n  return typeof tag === 'string' && tag in tagNativeNameMap\n}\n\nexport function getNativeNameByTag(tag: Tag) {\n  return tagNativeNameMap[tag]\n}\n","import React from 'react'\nimport { Link as RouterLink, LinkProps as RouterLinkProps } from 'react-router-dom'\n\nimport MuiLink, { LinkProps as MuiLinkProps } from '@material-ui/core/Link'\n\nimport { isOneOf, optional } from '~/lib/guards/commonGuards'\nimport typed from '~/lib/typed'\n\nexport type Props =\n  & RouterLinkProps\n  & Alt.Omit<MuiLinkProps, 'color' | 'ref'>\n\nconst isTypographyColor = optional(isOneOf('initial', 'inherit', 'primary', 'secondary', 'textPrimary', 'textSecondary', 'error'))\n\n// TODO: delete this; See also https://material-ui.com/guides/composition/#link\nconst RouterLinkWithRef = React.forwardRef<HTMLAnchorElement, RouterLinkProps>((props, ref) => (\n  <RouterLink innerRef={ ref } { ...props } />\n))\n\nexport default class Link extends React.Component<Props> {\n  public render() {\n    const { color, ...restProps } = this.props\n\n    if (!isTypographyColor(color)) {\n      console.warn(typed<[string]>`${ color } is not a Material-UI Typography color.`) // tslint:disable-line:no-console\n\n      return (\n        <MuiLink component={ RouterLinkWithRef } { ...restProps } />\n      )\n    }\n\n    return (\n      <MuiLink component={ RouterLinkWithRef } color={ color } { ...restProps } />\n    )\n  }\n}\n","import * as React from 'react'\n\nimport MenuItem, { MenuItemProps } from '@material-ui/core/MenuItem'\n\nimport Link, { Props as LinkProps } from '~/lib/components/Link'\n\ntype Props = MenuItemProps<typeof Link, { button?: true }>\n\nconst MenuItemLink: React.FunctionComponent<Props> = React.forwardRef<Link, React.PropsWithoutRef<Props>>(({ to, button, innerRef, ...menuItemProps }, menuItem) => {\n  // See https://material-ui.com/guides/composition/#link\n  const LinkWithRef = React.forwardRef<Link, LinkProps>((linkProps, link) => (\n    <Link ref={ link } innerRef={ innerRef } color=\"inherit\" underline=\"none\" { ...linkProps } />\n  ))\n\n  return (\n    <MenuItem button component={ LinkWithRef } to={ to } ref={ menuItem } { ...menuItemProps } />\n  )\n})\n\nexport default MenuItemLink\n","import { defineMessages } from 'react-intl'\n\nexport default defineMessages({\n  home: 'home',\n  chess: 'chess',\n  counter: 'counter',\n  info: 'info',\n  reminder: 'reminder',\n})\n","// import classnames from 'classnames'\nimport React, { useCallback, useState } from 'react'\nimport { FormattedMessage } from 'react-intl'\n\nimport AppBar from '@material-ui/core/AppBar'\nimport IconButton from '@material-ui/core/IconButton'\nimport Menu from '@material-ui/core/Menu'\nimport Toolbar from '@material-ui/core/Toolbar'\n// import { createStyles, makeStyles } from '@material-ui/core/styles'\nimport MenuIcon from '@material-ui/icons/Menu'\n\nimport LocaleSelect from '~/components/LocaleSelect' // TODO\nimport MenuItemLink from '~/lib/components/MenuItemLink'\nimport classes from './classes.css'\nimport messages from './messages'\n\nconst Nav: React.FunctionComponent = () => {\n  const [anchorEl, setAnchorEl] = useState<HTMLButtonElement | null>(null)\n\n  const openMenu = useCallback<React.MouseEventHandler<HTMLButtonElement>>((event) => {\n    setAnchorEl(event.currentTarget)\n  }, [])\n\n  const closeMenu = useCallback(() => {\n    setAnchorEl(null)\n  }, [])\n\n  return (\n    <>\n      <AppBar position=\"sticky\">\n        <Toolbar>\n          <IconButton edge=\"start\" color=\"inherit\" onClick={ openMenu }>\n            <MenuIcon />\n          </IconButton>\n          <div className={ classes.Spacer } />\n          <LocaleSelect\n            classes={ {\n              label: classes.LocaleSelectLabel,\n              input: classes.LocaleSelectInput,\n              selectIcon: classes.LocaleSelectSelectIcon,\n              inputUnderline: classes.LocaleSelectInputUnderline,\n            } }\n            FormControlProps={ {\n              variant: 'standard',\n            } }\n          />\n        </Toolbar>\n      </AppBar>\n      <Menu open={ anchorEl !== null } anchorEl={ anchorEl } onClose={ closeMenu }>\n        <MenuItemLink to=\"/\" onClick={ closeMenu }>\n          <FormattedMessage { ...messages.home } />\n        </MenuItemLink>\n        <MenuItemLink to=\"/chess\" onClick={ closeMenu }>\n          <FormattedMessage { ...messages.chess } />\n        </MenuItemLink>\n        <MenuItemLink to=\"/counter\" onClick={ closeMenu }>\n          <FormattedMessage { ...messages.counter } />\n        </MenuItemLink>\n        <MenuItemLink to=\"/info\" onClick={ closeMenu }>\n          <FormattedMessage { ...messages.info } />\n        </MenuItemLink>\n        <MenuItemLink to=\"/reminder\" onClick={ closeMenu }>\n          <FormattedMessage { ...messages.reminder } />\n        </MenuItemLink>\n      </Menu>\n    </>\n  )\n}\n\nexport default Nav\n","import React from 'react'\n\ninterface Props {\n  /**\n   * @param children that throws {error}\n   */\n  renderError(error: unknown, children: React.ReactNode): React.ReactNode\n}\n\ninterface State {\n  hasError: boolean\n  error?: unknown\n}\n\nclass ErrorBoundary extends React.Component<Props, State> {\n\n  // NOTE: https://github.com/DefinitelyTyped/DefinitelyTyped/blob/826ce0f1ce1d1887d199986283630d6f63075ad5/types/react/index.d.ts#L419  state  null \n  public state: Readonly<State> = {\n    hasError: false,\n  }\n\n  public static getDerivedStateFromError = (error: unknown) => ({\n    hasError: true,\n    error,\n  })\n\n  public render() {\n    const { renderError, children } = this.props\n    const { hasError, error } = this.state\n\n    if (hasError) {\n      return renderError(error, children)\n    }\n\n    return children\n  }\n}\n\nexport default ErrorBoundary\n","import React, { useCallback } from 'react'\nimport Helmet, { HelmetProps } from 'react-helmet'\nimport { Route as OriginalRoute, RouteComponentProps, RouteProps } from 'react-router'\n\nimport CircularProgress from '@material-ui/core/CircularProgress'\n\nimport ErrorBoundary from '~/lib/components/ErrorBoundary'\nimport typed from '~/lib/typed'\n\nconst withErrorBoundary: (Component: React.ComponentType<RouteComponentProps>) => React.ComponentType<RouteComponentProps> = (Component) => (props) => {\n  const renderError = useCallback((error: unknown) => {\n    if (error instanceof Error) {\n      return typed<[string]>`${ String(error) }`\n    }\n\n    throw new TypeError(typed<[string]>`${ String(error) } is not an error.`)\n  }, [])\n\n  return (\n    <ErrorBoundary renderError={ renderError }>\n      <Component { ...props } />\n    </ErrorBoundary>\n  )\n}\n\nconst withSuspense: (Component: React.LazyExoticComponent<React.ComponentType<RouteComponentProps>>) => React.ComponentType<RouteComponentProps> = (Component) => (props) => (\n  <React.Suspense fallback={ <CircularProgress /> }>\n    <Component { ...props } />\n  </React.Suspense>\n)\n\nconst withHelmet: (Component: React.ComponentType<RouteComponentProps>, helmetProps: HelmetProps) => React.ComponentType<RouteComponentProps> = (Component, helmetProps) => (props) => (\n  <>\n    <Helmet { ...helmetProps } />\n    <Component { ...props } />\n  </>\n)\n\ninterface Props extends Alt.Omit<RouteProps, 'render' | 'component' | 'children'> {\n  // TODO: ban mandatory props\n  component?: Required<RouteProps>['component'] | React.LazyExoticComponent<Required<RouteProps>['component']>\n\n  helmetProps?: HelmetProps\n}\n\nconst Route: React.FunctionComponent<Props> = ({ component, helmetProps, ...restProps }) => {\n  if (component === undefined) {\n    return <OriginalRoute { ...restProps } />\n  }\n\n  if ('_result' in component) { // FIXME: if LazyExoticComponent\n    if (helmetProps !== undefined) {\n      return <OriginalRoute component={ withErrorBoundary(withHelmet(withSuspense(component), helmetProps)) } { ...restProps } />\n    } else {\n      return <OriginalRoute component={ withErrorBoundary(withSuspense(component)) } { ...restProps } />\n    }\n  } else {\n    if (helmetProps !== undefined) {\n      return <OriginalRoute component={ withErrorBoundary(withHelmet(component, helmetProps)) } { ...restProps } />\n    } else {\n      return <OriginalRoute component={ withErrorBoundary(component) } { ...restProps } />\n    }\n  }\n}\n\nexport default Route\n","import { defineMessages } from 'react-intl'\n\nexport default defineMessages({\n  home: 'home',\n  chess: 'chess',\n  counter: 'counter',\n  info: 'info',\n  reminder: 'reminder',\n})\n","import React from 'react'\nimport Helmet from 'react-helmet'\nimport { hot } from 'react-hot-loader/root'\nimport { useIntl } from 'react-intl'\nimport { Switch } from 'react-router'\n\nimport CssBaseline from '@material-ui/core/CssBaseline'\n\nimport Nav from '~/components/Nav'\nimport Route from '~/lib/components/Route'\nimport messages from './messages'\n\nexport /* for testing */ const HomePage = React.lazy(() => import(/* webpackChunkName: \"home\" */ './HomePage'))\nexport /* for testing */ const ChessPage = React.lazy(() => import(/* webpackChunkName: \"chess\" */ './ChessPage'))\nexport /* for testing */ const CounterPage = React.lazy(() => import(/* webpackChunkName: \"counter\" */ './CounterPage'))\nexport /* for testing */ const InfoPage = React.lazy(() => import(/* webpackChunkName: \"info\" */ './InfoPage'))\nexport /* for testing */ const ReminderPage = React.lazy(() => import(/* webpackChunkName: \"reminder\" */ './ReminderPage'))\nexport /* for testing */ const NoMatch = React.lazy(() => import(/* webpackChunkName: \"noMatch\" */ './NoMatch'))\n\nconst App: React.FunctionComponent = () => {\n  const { formatMessage } = useIntl()\n\n  return (\n    <>\n      <CssBaseline />\n      <Helmet\n        titleTemplate=\"%s - react-app-prototype\"\n        defaultTitle=\"react-app-prototype\"\n      />\n      <Nav />\n      <Switch>\n        <Route exact strict sensitive path=\"/\" component={ HomePage } helmetProps={ { title: formatMessage(messages.home) } } />\n        <Route exact strict sensitive path=\"/chess\" component={ ChessPage } helmetProps={ { title: formatMessage(messages.chess) } } />\n        <Route exact strict sensitive path=\"/counter\" component={ CounterPage } helmetProps={ { title: formatMessage(messages.counter) } } />\n        <Route exact strict sensitive path=\"/info\" component={ InfoPage } helmetProps={ { title: formatMessage(messages.info) } } />\n        <Route exact strict sensitive path=\"/reminder\" component={ ReminderPage } helmetProps={ { title: formatMessage(messages.reminder) } } />\n        <Route path=\"*\" component={ NoMatch } />\n      </Switch>\n    </>\n  )\n}\n\nexport default hot(App)\n","import React from 'react'\nimport { IntlConfig, IntlProvider as OriginalIntlProvider } from 'react-intl'\n\ntype DefaultIntlConfig = Pick<IntlConfig, 'formats' | 'messages' | 'timeZone' | 'textComponent' | 'defaultLocale' | 'defaultFormats' | 'onError'>\n\ntype OriginalIntlProviderProps = Alt.Omit<IntlConfig, keyof DefaultIntlConfig> & Partial<DefaultIntlConfig>\n\nexport type OwnProps = Alt.Omit<OriginalIntlProviderProps, 'locale' | 'formats' | 'messages'>\n\nexport type StateProps = Pick<OriginalIntlProviderProps, 'locale' | 'formats' | 'messages'>\n\ntype Props = OriginalIntlProviderProps\n\n// TODO: intl context  re-render  https://github.com/formatjs/react-intl/issues/234#issuecomment-163366518 \n// cf. https://github.com/formatjs/react-intl/issues/371#issuecomment-275703796\nconst IntlProvider: React.FunctionComponent<Props> = (props) => (\n  <OriginalIntlProvider key={ props.locale } textComponent={ React.Fragment } { ...props } />\n)\n\nexport default IntlProvider\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport IntlProvider, { OwnProps, StateProps } from '~/lib/components/IntlProvider'\nimport { State } from '~/redux'\n\nconst mapStateToProps = ({ localeSelector: { locale, formats, messages } }: State, {}: React.PropsWithChildren<OwnProps>): StateProps => ({\n  locale,\n  formats,\n  messages,\n})\n\nexport default connect(mapStateToProps)(IntlProvider)\n","import indigo from '@material-ui/core/colors/indigo'\nimport teal from '@material-ui/core/colors/teal'\nimport createMuiTheme from '@material-ui/core/styles/createMuiTheme'\n\ninterface Props {\n  dark: boolean\n}\n\nconst configureTheme = ({ dark }: Props) => createMuiTheme({\n  typography: {\n    fontFamily: 'sans-serif',\n  },\n  props: {\n    MuiLink: {\n      variant: 'body1',\n    },\n    MuiButton: {\n      variant: 'outlined',\n    },\n    MuiFormControl: {\n      variant: 'outlined',\n    },\n  },\n  palette: {\n    primary: teal,\n    secondary: indigo,\n    type: dark ? 'dark' : 'light',\n  },\n})\n\nexport default configureTheme\n","import { routerMiddleware } from 'connected-react-router'\nimport { History } from 'history'\nimport { Action, Reducer, Store, applyMiddleware, compose, createStore } from 'redux'\nimport { createLogger } from 'redux-logger'\nimport createSagaMiddleware, { SagaMiddleware, SagaMiddlewareOptions } from 'redux-saga'\n\nconst logger = createLogger({\n  diff: true,\n})\n\nconst composeEnhancers =\n  process.env.NODE_ENV === 'development'\n    ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ?? compose\n    : compose\n\nexport default function configureStore<S, A extends Action>(history: History, reducer: Reducer<S, A>, sagaMiddlewareOptions: SagaMiddlewareOptions): {\n  store: Store<S, A>\n  sagaMiddleware: SagaMiddleware\n} {\n  const sagaMiddleware = createSagaMiddleware(sagaMiddlewareOptions)\n\n  const storeEnhancers = [\n    applyMiddleware(sagaMiddleware),\n    applyMiddleware(routerMiddleware(history)),\n  ]\n\n  if (process.env.NODE_ENV === 'development') {\n    storeEnhancers.push(applyMiddleware(logger)) // tslint:disable-line:no-array-mutation\n  }\n\n  const store = createStore(\n    reducer,\n    composeEnhancers(...storeEnhancers)\n  )\n\n  return {\n    store,\n    sagaMiddleware, // applied\n  }\n}\n","import { History } from 'history'\nimport React from 'react'\nimport { Provider as OriginalProvider } from 'react-redux'\nimport { Action, Reducer, Store } from 'redux'\nimport { Saga } from 'redux-saga'\n\nimport configureStore from './configureStore'\nimport { UnreachableError } from './lib/errors'\n\ntype ErrorCause = 'component' | 'reducer' | 'saga' | 'rootSaga'\n\ninterface Props<S, A extends Action> {\n  /**\n   * @param children that throws {error}\n   * @param store when {error} is thrown\n   */\n  renderError(error: unknown, children: React.ReactNode, store: Store<S, A>, cause: ErrorCause): React.ReactNode\n}\n\ninterface State {\n  hasError: boolean\n  error?: unknown\n  cause?: ErrorCause\n}\n\nconst MAXIMUM_RECURSION_DEPTH = 100\n\nexport default function createProvider<S, A extends Action>(history: History, reducer: Reducer<S, A>, saga: Saga) {\n  let recursionDepth = 0 // tslint:disable-line:no-let\n\n  return class Provider extends React.Component<Props<S, A>, State> {\n    private store: Store<S, A>\n\n    // NOTE: https://github.com/DefinitelyTyped/DefinitelyTyped/blob/826ce0f1ce1d1887d199986283630d6f63075ad5/types/react/index.d.ts#L419  state  null \n    public state: Readonly<State> = {\n      hasError: false,\n    }\n\n    constructor(props: Props<S, A>) {\n      super(props)\n\n      const exceptionNeutralReducer: Reducer<S, A> = (state, action) => {\n        try {\n          return reducer(state, action)\n        } catch (error) {\n          this.handleError(error, 'reducer')\n\n          if (state === undefined) {\n            throw new UnreachableError()\n          }\n\n          return state\n        }\n      }\n\n      const { store, sagaMiddleware } = configureStore(history, exceptionNeutralReducer, {\n        onError: (error) => this.handleError(error, 'saga'),\n      })\n\n      this.store = store\n\n      sagaMiddleware.run(saga).toPromise().catch((error) => this.handleError(error, 'rootSaga'))\n    }\n\n    public static getDerivedStateFromError = (error: unknown) => ({\n      hasError: true,\n      error,\n      cause: 'component',\n    })\n\n    private handleError = (error: unknown, cause: ErrorCause) => {\n      this.setState({\n        hasError: true,\n        error,\n        cause,\n      })\n    }\n\n    public render() {\n      const { renderError, children } = this.props\n      const { hasError, error, cause } = this.state\n\n      if (hasError) {\n        ++recursionDepth\n\n        if (recursionDepth > MAXIMUM_RECURSION_DEPTH) {\n          throw new Error('Maximum recursion depth exceeded')\n        }\n\n        if (cause === undefined) {\n          throw new Error // TODO\n        }\n\n        return renderError(error, children, this.store, cause)\n      }\n\n      return (\n        <OriginalProvider store={ this.store }>\n          { children }\n        </OriginalProvider>\n      )\n    }\n  }\n}\n","import hashCode from './hashCode'\n\nexport {}\n\ndeclare global {\n  interface Boolean {\n    hashCode(): number\n  }\n}\n\nObject.defineProperty(Boolean.prototype, 'hashCode', {\n  value(this: boolean) {\n    return hashCode(this)\n  },\n})\n","export default function hashCode(b: boolean) {\n  return b ? 1 : 0\n}\n","import hashCode from './hashCode'\n\nexport {}\n\ndeclare global {\n  interface Number {\n    hashCode(): number\n  }\n}\n\nObject.defineProperty(Number.prototype, 'hashCode', {\n  value(this: number) {\n    return hashCode(this)\n  },\n})\n","import hashCode from './hashCode'\n\nexport {}\n\ndeclare global {\n  interface String {\n    hashCode(): number\n  }\n}\n\nObject.defineProperty(String.prototype, 'hashCode', {\n  value(this: string) {\n    return hashCode(this)\n  },\n})\n","export default function hashCode(s: string) {\n  // tslint:disable-next-line:no-let\n  let result = 0\n\n  // tslint:disable-next-line:no-loop-statement\n  for (const c of s) {\n    result = 31 * result + c.charCodeAt(0)\n  }\n\n  return result\n}\n","/* tslint:disable:no-import-side-effect */\n\nimport { ConnectedRouter } from 'connected-react-router'\nimport { History, createBrowserHistory } from 'history'\nimport { Map } from 'immutable'\nimport { Container } from 'inversify'\nimport { Provider as ServiceProdiver } from 'inversify-react'\nimport { SnackbarProvider } from 'notistack'\nimport React, { useCallback, useMemo } from 'react'\nimport { DndProvider } from 'react-dnd'\nimport HTML5Backend from 'react-dnd-html5-backend'\nimport ReactDOM from 'react-dom'\nimport { Saga } from 'redux-saga'\nimport 'reflect-metadata'\n\nimport { MuiThemeProvider } from '@material-ui/core/styles'\nimport useMediaQuery from '@material-ui/core/useMediaQuery'\n\nimport App from './components/App'\nimport IntlProvider from './components/IntlProvider'\nimport configureTheme from './configureTheme'\nimport createProvider from './createProvider'\nimport './lib/extensions/Boolean/Boolean.prototype.hashCode'\nimport './lib/extensions/Number/Number.prototype.hashCode'\nimport './lib/extensions/String/String.prototype.hashCode'\nimport typed from './lib/typed'\nimport Service, { State, createReducer } from './redux'\nimport './types/globalTypes'\n\nimport formats from '../public/formats/en.json' // tslint:disable-line:no-relative-imports\nimport messages from '../public/messages/en.json' // tslint:disable-line:no-relative-imports\n\nconst containerImport = process.env.NODE_ENV === 'production' ? import('./container') : import('./container.dev')\n\nconst initialState: Alt.Omit<State, 'router'> = {\n  chess: {\n    board: {\n      chessmen: Map(),\n    },\n  },\n  counter: {\n    count: 0,\n  },\n  io: {\n    now: new Date,\n  },\n  localeSelector: {\n    availableLocales: [\n      'en',\n      'ja',\n    ],\n    locale: 'en',\n    formats,\n    messages,\n    errors: [],\n  },\n  reminder: {\n    tasks: [],\n    errors: {},\n  },\n}\n\ninterface Props {\n  history: History\n  container: Container\n}\n\n/**\n * The entry point component.\n */\nconst Main: React.FunctionComponent<Props> = ({ history, container }) => {\n  const dark = useMediaQuery('(prefers-color-scheme: dark)')\n\n  const theme = useMemo(() => configureTheme({ dark }), [dark])\n\n  const renderError = useCallback((error: unknown) => {\n    if (error instanceof Error) {\n      // NOTE: `rootSaga`  attach  saga  error  Maximum recursion depth exceeded \n      return (\n        <Provider renderError={ renderError }>\n          <div>\n            { typed<[string]>`${ String(error) }` }\n          </div>\n        </Provider>\n      )\n    }\n\n    throw new TypeError(typed<[string]>`${ String(error) } is not an error.`)\n  }, [])\n\n  const reducer = useMemo(() => createReducer(history, initialState), [history])\n\n  const rootSaga = useCallback<Saga>(() => {\n    const service = container.resolve(Service)\n\n    return service.rootSaga.call(service)\n  }, [container])\n\n  const Provider = createProvider(history, reducer, rootSaga)\n\n  return (\n    <Provider renderError={ renderError }>\n      <IntlProvider>\n        <DndProvider backend={ HTML5Backend }>\n          <ConnectedRouter history={ history }>\n            <ServiceProdiver container={ container }>\n              <MuiThemeProvider theme={ theme }>\n                <SnackbarProvider>\n                  <App />\n                </SnackbarProvider>\n              </MuiThemeProvider>\n            </ServiceProdiver>\n          </ConnectedRouter>\n        </DndProvider>\n      </IntlProvider>\n    </Provider>\n  )\n}\n\ncontainerImport.then(({ default: container }) => {\n  if (process.env.BASE_URL === undefined) {\n    throw new Error // TODO\n  }\n\n  const basename = new RegExp(typed<[string]>`^${ document.location.origin }(.*)$`).exec(process.env.BASE_URL)?.[1]\n\n  if (basename === undefined) {\n    throw new Error // TODO\n  }\n\n  const history = createBrowserHistory({\n    basename,\n  })\n\n  ReactDOM.render( <Main history={ history } container={ container } />, document.getElementById('root'))\n})\n","import { PrimitiveType } from 'intl-messageformat'\n\nimport { AbstractError } from '~/lib/errors'\n\n/**\n * @param key of results of defineMessages from react-intl\n * @param values for react-intl\n */\nexport default class ValidationError extends AbstractError {\n  /**\n   * @param message as an error message\n   */\n  constructor(message?: string)\n  constructor(message: string, key: string, values: Record<string, PrimitiveType>)\n  constructor(message?: string, public key?: string, public values?: Record<string, PrimitiveType>) {\n    super(message)\n  }\n}\n","export abstract class AbstractError extends Error {\n  constructor(public message = '') {\n    super(message)\n\n    this.name = new.target.name\n\n    Object.setPrototypeOf(this, new.target.prototype)\n  }\n}\n\n// tslint:disable:max-classes-per-file\nexport class LogicError extends AbstractError {}\nexport class UnreachableError extends AbstractError {}\nexport class ValidationError extends AbstractError {}\n","import { Action } from 'redux'\nimport { ActionPattern, ForkEffect, takeEvery as originalTakeEvery } from 'redux-saga/effects'\n\n/**\n * Same as `takeEvery(pattern, worker)` but supports passing a `this` context to `worker`.\n * This is useful to invoke object methods.\n *\n * derived from https://github.com/redux-saga/redux-saga/blob/0668e9149c8aa847cbfad9f03883b6b5b2946042/packages/core/effects.d.ts#L630-L633\n */\nexport default function takeEvery<\n  A extends Action,\n  Ctx,\n>(\n  pattern: ActionPattern<A>,\n  [ctx, worker]: [Ctx, (this: Ctx, action: A) => unknown]\n): ForkEffect {\n  return originalTakeEvery(pattern, (action: A) => worker.call(ctx, action))\n}\n","import { UnreachableError } from '~/lib/errors'\nimport typed from '~/lib/typed'\n\n/**\n * @throw {TypeError} if the size of {xs} is less than two.\n *\n * @example\n * conj(', ', ' or ', ['A', 'B', 'C']) // 'A, B or C'\n */\nexport default function conj(xs: string[], separator: string, lastSeparator: string): string {\n  if (xs.length < 2) {\n    throw new TypeError(typed<[string]>`The size of ${ xs.toString() } is less than two.`)\n  }\n\n  const lastX = xs.pop() // tslint:disable-line:no-array-mutation\n\n  if (lastX === undefined) {\n    throw new UnreachableError\n  }\n\n  return typed<[string, string, string]>`${ xs.join(separator) }${ lastSeparator }${ lastX }`\n}\n","import typed from '~/lib/typed'\n\nconst eols = [\n  '\\n',\n  '\\r\\n',\n]\n\nconst eolPattern = new RegExp(typed<[string]>`(?:${ eols.join('|') })`)\nconst eolCharPattern = new RegExp(typed<[string]>`(?:${ eols.map((eol) => typed<[string]>`[${ eol }]`).join('|') })`)\n\nexport default function stripMargin(...args: Parameters<typeof stripMargin1>): ReturnType<typeof stripMargin1>\nexport default function stripMargin(...args: Parameters<typeof stripMargin2>): ReturnType<typeof stripMargin2>\n\nexport default function stripMargin(that: string, marginChar?: string): string {\n  if (marginChar === undefined) {\n    return stripMargin1(that)\n  }\n\n  return stripMargin2(that, marginChar)\n}\n\nfunction stripMargin1(that: string) {\n  return stripMargin2(that, '|')\n}\n\nfunction stripMargin2(that: string, marginChar: string) {\n  let result = '' // tslint:disable-line:no-let\n\n  // tslint:disable-next-line:no-loop-statement\n  for (const line of generateLineWithEolIterator(that)) {\n    const matches = new RegExp(typed<[string, string]>`^(?:[\\\\t ]*(?<marginChar>.))?(?<stripped>(?:.|${ eolCharPattern.source })*${ eolPattern.source }?)$`, 'u').exec(line)\n\n    const groups = matches?.groups // TODO\n\n    if (groups === undefined) {\n      throw new Error // TODO\n    }\n\n    const { marginChar: marginCharCandidate, stripped } = groups\n\n    if (marginCharCandidate === marginChar) {\n      result += stripped\n    } else {\n      result += line\n    }\n  }\n\n  return result\n}\n\nfunction* generateLineWithEolIterator(cs: string) {\n  let lineBuffer = '' // tslint:disable-line:no-let\n  let eolBuffer = '' // tslint:disable-line:no-let\n\n  // tslint:disable-next-line:no-loop-statement\n  for (const c of cs) {\n    lineBuffer += c\n\n    if (eols.some((eol) => eol.startsWith(eolBuffer + c))) {\n      eolBuffer += c\n    }\n\n    if (eols.includes(eolBuffer)) {\n      yield lineBuffer\n      lineBuffer = ''\n      eolBuffer = ''\n    }\n  }\n\n  if (lineBuffer !== '') {\n    yield lineBuffer\n  }\n}\n","import typed from '~/lib/typed'\n\nexport default function trimEols(s: string) {\n  return trimTrailingEols(trimLeadingEols(s))\n}\n\nconst eolPattern = /(?:\\r?\\n)/\n\nfunction trimLeadingEols(s: string) {\n  return s.replace(new RegExp(typed<[string]>`^${ eolPattern.source }*`), '')\n}\n\nfunction trimTrailingEols(s: string) {\n  return s.replace(new RegExp(typed<[string]>`${ eolPattern.source }*$`), '')\n}\n","import { Either, isLeft, isRight, left, right } from 'fp-ts/lib/Either'\n\nimport { UnreachableError } from '~/lib/errors'\nimport conj from '~/lib/extensions/Array/conj'\nimport equalsJsons from '~/lib/extensions/Eq/equalsJsons'\nimport stripMargin from '~/lib/extensions/String/stripMargin'\nimport trimEols from '~/lib/extensions/String/trimEols'\nimport typed from '~/lib/typed'\nimport ValidationError from './ValidationError'\n\n/**\n * @callback Validator\n * @throws {ValidationError} if the validation fails.\n */\n\n/**\n * @param asT {Validator}\n * @throws {never}\n */\nexport const failSafe = <A extends unknown, T extends A>(asT: (input: A) => T) => (input: A): Either<ValidationError, T> => {\n  try {\n    return right(asT(input))\n  } catch (error) {\n    if (error instanceof ValidationError) {\n      return left(error)\n    }\n\n    throw new UnreachableError\n  }\n}\n\nexport const leftOnly = <A extends unknown, T extends A>(asT: (input: A) => T) => (input: A): ValidationError | undefined => {\n  const t = failSafe(asT)(input)\n\n  if (isLeft(t)) {\n    return t.left\n  } else {\n    return undefined\n  }\n}\n\n// TODO: refactor\nexport const named = <A extends unknown, T extends A>(name: string, asT: (input: A) => T) => (input: A): T => {\n  const t = failSafe(asT)(input)\n\n  if (isLeft(t)) {\n    if (t.left.values === undefined) {\n      throw t.left\n    }\n\n    if (t.left.key === undefined) {\n      throw new UnreachableError\n    }\n\n    throw new ValidationError(t.left.message, t.left.key, { name, ...t.left.values })\n  }\n\n  return t.right // TODO\n}\n\nexport const optional = <A extends unknown, T extends A>(asT: (input: A) => T) => (input: A | undefined): T | undefined => {\n  if (input === undefined) {\n    return\n  }\n\n  return asT(input)\n}\n\nexport const unionOf = <A extends unknown, T extends A, U extends A>(asT: (input: A) => T, asU: (input: A) => U) => (input: A): T | U => {\n  const t = failSafe(asT)(input)\n  const u = failSafe(asU)(input)\n\n  if (isLeft(t) && isLeft(u)) {\n    throw new ValidationError(typed<[string, string]>`${ t.left.message } AND ${ u.left.message }`)\n  }\n\n  if (isRight(t)) {\n    return t.right\n  }\n\n  if (isRight(u)) {\n    return u.right\n  }\n\n  throw new UnreachableError\n}\n\nconst listOf = <A extends unknown, T extends A>(asT: (input: A) => T) => (input: readonly A[]): T[] => {\n  if (!Array.isArray(input)) {\n    throw new ValidationError(typed<[string]>`${ JSON.stringify(input) } is not an array.`)\n  }\n\n  return input.map(asT)\n}\n\nexport const recordOf = <A extends unknown, T extends A>(asT: (input: A) => T) => asObject<Record<string, T>>('a Record', (input) => Object.entries<string, A>(input).map<[string, T]>(([key, value]) => [key, asT(value)]).reduce<Record<string, T>>((output, [key, value]) => ({ ...output, [key]: value }), {}))\n\nexport function asUnionOf<T extends readonly Json[]>(...options: T): (input: unknown) => T[number]\nexport function asUnionOf<T extends readonly unknown[]>(...options: T): (input: unknown) => T[number]\nexport function asUnionOf<T extends readonly unknown[]>(...options: T) {\n  return (input: unknown): T[number] => {\n    if (!options.some((option) => option === input)) {\n      throw new ValidationError(typed<[string, string]>`${ JSON.stringify(input) } is neigher ${ conj(options.map(String), ', ', ' nor ') }`)\n    }\n\n    return input\n  }\n}\n\n/**\n * Ascribe the given JSON object to a specific type.\n *\n * @callback ObjectTyper\n * @throws {Error} if {input} is invalid as {T}.\n */\n\n/**\n * @param className name of {T} with indefinite article\n * @param asT {ObjectTyper}\n */\nexport const asObject = <T>(className: string, asT: (input: any) => T) => (input: unknown): T => { // tslint:disable-line:no-any\n  if (input == null) {\n    throw new ValidationError(typed<[string]>`${ JSON.stringify(input) } is not an object.`)\n  }\n\n  try {\n    return asT(input)\n  } catch (error) {\n    if (error instanceof ValidationError) {\n      throw new ValidationError(trimEols(stripMargin(typed<[string, string, string]>`\n        |${ JSON.stringify(input) } is not ${ className }.\n        |${ error.message }\n        |`)))\n    }\n\n    if (error instanceof Error) {\n      console.error(error) // tslint:disable-line:no-console\n\n      throw new ValidationError(typed<[string, string]>`${ JSON.stringify(input) } is not ${ className }.`)\n    }\n\n    throw new TypeError(typed<[string]>`${ String(error) } is not an error.`)\n  }\n}\n\nexport function asConstant<T extends null>(a: T): (input: unknown) => T\nexport function asConstant<T extends boolean>(a: T): (input: unknown) => T\nexport function asConstant<T extends number>(a: T): (input: unknown) => T\nexport function asConstant<T extends string>(a: T): (input: unknown) => T\nexport function asConstant<T extends JsonArray>(a: T): (input: unknown) => T\nexport function asConstant<T extends JsonObject>(a: T): (input: unknown) => T\nexport function asConstant<T extends Json>(a: T): (input: unknown) => T {\n  return (input) => {\n    const inputAsJson = asJson(input)\n\n    if (!equalsJsons(inputAsJson, a)) {\n      throw new ValidationError(typed<[string, string]>`${ JSON.stringify(inputAsJson) } is not ${ JSON.stringify(a) }.`)\n    }\n\n    return inputAsJson as T\n  }\n}\n\nexport function asBoolean(input: unknown): boolean {\n  if (typeof input !== 'boolean') {\n    throw new ValidationError(typed<[string]>`${ JSON.stringify(input) } is not a boolean.`)\n  }\n\n  return input\n}\n\nexport function asNumber(input: unknown): number {\n  if (typeof input !== 'number') {\n    throw new ValidationError(typed<[string]>`${ JSON.stringify(input) } is not a number.`)\n  }\n\n  return input\n}\n\nexport function asString(input: unknown): string {\n  if (typeof input !== 'string') {\n    throw new ValidationError(typed<[string]>`${ JSON.stringify(input) } is not a string.`)\n  }\n\n  return input\n}\n\nexport function asJson(input: unknown): Json {\n  if (input === null || typeof input === 'boolean' || typeof input === 'number' || typeof input === 'string') {\n    return input\n  }\n\n  if (Array.isArray(input)) {\n    return listOf(asJson)(input)\n  }\n\n  try {\n    return recordOf(asJson)(input)\n  } catch (error) {\n    if (error instanceof ValidationError) {\n      throw new ValidationError(trimEols(stripMargin(typed<[string, string]>`\n        |${ JSON.stringify(input) } is not a Json.\n        |${ error.message }\n        |`)))\n    }\n\n    if (error instanceof Error) {\n      console.error(error) // tslint:disable-line:no-console\n\n      throw new ValidationError(typed<[string]>`${ JSON.stringify(input) } is not a Json.`)\n    }\n\n    throw new TypeError(typed<[string]>`${ String(error) } is not an error.`)\n  }\n}\n","/**\n * \n *\n * TODO: PartialEq, Congruence \n */\nexport default abstract class Eq implements Class.Eq {\n  public abstract equals(that: this): boolean\n\n  public isNotEqualTo(that: this): boolean {\n    return !this.equals(that)\n  }\n}\n","import Eq from './Eq'\n\n/**\n * Eq  a.equals(b)  a.hashCode() === b.hashCode()  hashCode \n */\nexport default abstract class Hashable extends Eq implements Class.Hashable {\n  public equals(that: this) {\n    return this.hashCode() === that.hashCode()\n  }\n\n  public abstract hashCode(): number // int\n}\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../node_modules/postcss-loader/src/index.js!./classes.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","import zipIterators from '~/lib/extensions/Iterator/zipIterators'\n\nexport default function zipIterables<A, B>(xs: Iterable<A>, ys: Iterable<B>): Iterable<[A, B]> {\n  return {\n    [Symbol.iterator]() {\n      return zipIterators(xs[Symbol.iterator](), ys[Symbol.iterator]())\n    },\n  }\n}\n","export default function zipIterators<A, B>(xs: Iterator<A>, ys: Iterator<B>): Iterator<[A, B]> {\n  function* genIt() {\n    // tslint:disable-next-line:no-loop-statement\n    while (true) {\n      const x = xs.next()\n      const y = ys.next()\n\n      if (x.done || y.done) { // tslint:disable-line:strict-boolean-expressions\n        break\n      }\n\n      const values: [A, B] = [x.value, y.value]\n\n      yield values\n    }\n  }\n\n  return genIt()\n}\n"],"sourceRoot":""}