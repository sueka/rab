{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/redux/modules/counter.ts","webpack:///./src/utils/chess/getCoordinatesAttackedBy.ts","webpack:///./src/redux/modules/chess.ts","webpack:///./src/lib/createUrlOrPathAbempty.ts","webpack:///./src/lib/extensions/Record/mapValues.ts","webpack:///./src/lib/fetch.ts","webpack:///./src/lib/typed.ts","webpack:///./src/lib/validators/intlValidators.ts","webpack:///./src/redux/modules/localeSelector.ts","webpack:///./src/lib/contexts/IntlProviderContext.ts","webpack:///./src/redux/modules/io.ts","webpack:///./src/lib/guards/stringGuards.ts","webpack:///./src/redux/modules/reminder.ts","webpack:///./src/domain/vo/Coordinates.ts","webpack:///./src/lib/extensions/Eq/equalsChessmen.ts","webpack:///./src/lib/extensions/Unknown/yieldThis.ts","webpack:///./src/domain/entity/Entity.ts","webpack:///./src/domain/entity/Task.ts","webpack:///./src/lib/extensions/Number/hashCode.ts","webpack:///./src/lib/components/Route/index.tsx","webpack:///./src/components/App/index.tsx","webpack:///./src/lib/components/IntlProvider/index.tsx","webpack:///./src/components/IntlProvider/index.tsx","webpack:///./src/configureTheme.ts","webpack:///./src/lib/middleware/invariantMiddleware/createInvariantMiddleware.ts","webpack:///./src/configureStore.ts","webpack:///./src/createProvider.tsx","webpack:///./src/lib/extensions/Boolean/hashCode.ts","webpack:///./src/lib/extensions/Boolean/Boolean.prototype.hashCode.ts","webpack:///./src/lib/extensions/Number/Number.prototype.hashCode.ts","webpack:///./src/lib/extensions/String/hashCode.ts","webpack:///./src/lib/extensions/String/String.prototype.hashCode.ts","webpack:///./src/types/globalTypes.ts","webpack:///./src/index.tsx","webpack:///./src/lib/validators/ValidationError.ts","webpack:///./src/lib/extensions/Array/conj.ts","webpack:///./src/lib/extensions/Eq/equalsJsons.ts","webpack:///./src/lib/extensions/String/stripMargin.ts","webpack:///./src/lib/extensions/String/trimEols.ts","webpack:///./src/lib/validators/commonValidators.ts","webpack:///./src/lib/errors.ts","webpack:///./src/lib/boni/redux-saga/effects/takeEvery.ts","webpack:///./src/lib/trait/Eq.ts","webpack:///./src/lib/trait/Hashable.ts","webpack:///./src/lib/extensions/Iterator/zipIterators.ts","webpack:///./src/lib/extensions/Iterable/zipIterables.ts","webpack:///./src/lib/delay.ts","webpack:///./src/domain/vo/ValueObject.ts","webpack:///./src/domain/vo/Id.ts","webpack:///./src/domain/vo/TaskId.ts","webpack:///./src/lib/middleware/invariantMiddleware/combineInvariants.ts","webpack:///./src/redux/index.ts"],"names":["counterInvariant","state","count","RESET","INCREMENT_IF_ODD","INCREMENT_ASYNC","INCREMENT","DECREMENT","counterActionTypes","isCounterAction","action","includes","type","reset","incrementIfOdd","incrementAsync","ms","payload","increment","decrement","createCounterReducer","initialState","CounterService","injectable","select","counter","put","call","delay","takeEvery","incrementIfOddSaga","incrementAsyncSaga","getCoordinatesAttackedBy","_chessman","_coord","_board","file","rank","chessInvariant","board","picking","targets","chessmen","has","Coordinates","source","existsCoordinatedChessman","chessman","coord","actual","get","undefined","equalsChessmen","RESET_BOARD","HALF_MOVE","PICK_CHESSMAN","PUT_CHESSMAN","RELEASE_CHESSMAN","REMOVE_CHESSMAN","SET_TARGETS","chessActionTypes","isChessAction","resetBoard","halfMove","target","pickChessman","putChessman","releaseChessman","removeChessman","setTargets","createChessReducer","Map","symbol","hasAdvancedTwoSquares","set","ChessService","chess","halfMoveSaga","pickChessmanSaga","DUMMY_ORIGIN","dropDummyOrigin","x","result","RegExp","typed","exec","Error","PathAbempty","pathAbempty","restArgs","_url","URL","toJSON","hash","href","origin","pathname","value","search","searchParams","createUrlOrPathAbempty","args","urlOrPathAbempty","isUrl","mapValues","object","f","Object","entries","i","isEmpty","keys","length","toRecord","input","reduce","toJson","Array","isArray","map","json","String","buildRequestInfo","method","parameterizedEndpoint","params","query","url","pathToRegexp","urlSearchParams","URLSearchParams","forEach","key","append","toString","buildRequestInit","headers","formData","FormData","body","fetch","request","requestInfo","requestInit","globalThis","response","template","substitutions","zipIterables","slice","substitution","segment","asFormats","asObject","number","optional","recordOf","asIntlNumberFormatOptions","date","asIntlDateTimeFormatOptions","time","localeMatcher","asUnionOf","style","currency","asString","currencyDisplay","useGrouping","asBoolean","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","unionOf","SELECT_LOCALE","SET_LOCALE","SET_FORMATS","SET_MESSAGES","PUSH_ERROR","localeSelectorActionTypes","isLocaleSelectorAction","selectLocale","locale","setLocale","setFormats","formats","setMessages","messages","pushError","error","createLocaleSelectorReducer","errors","LocaleSelectorService","config","inject","TypeError","selectLocaleSaga","createContext","availableLocales","UPDATE_NOW","START_CLOCK","STOP_CLOCK","SET_NOW","ioActionTypes","isIoAction","updateNow","startClock","stopClock","setNow","now","createIoReducer","IoService","startClockTask","Date","getMilliseconds","cancel","startClockSaga","updateNowSaga","stopClockSaga","_error","ADD_TASK_ASYNC","CHANGE_TASK_CONTENT_ASYNC","MARK_TASK_AS_DONE_ASYNC","MARK_TASK_AS_UNDONE_ASYNC","DELETE_TASK_ASYNC","MOVE_TASK","PUSH_TASK","REMOVE_TASK","CHECK_TASK","REMOVE_ERROR","reminderActionTypes","isReminderAction","addTaskAsync","changeTaskContentAsync","taskId","content","markTaskAsDoneAsync","markTaskAsUndoneAsync","deleteTaskAsync","moveTask","sourceIndex","targetIndex","pushTask","task","removeTask","checkTask","errorId","removeError","createReminderReducer","tasks","findIndex","id","equals","done","restTasks","removedError","restErrors","ReminderService","taskRepository","Task","TaskId","v4","store","findById","remove","stateTasks","reminder","stateTask","find","LogicError","addTaskAsyncSaga","changeTaskContentAsyncSaga","markTaskAsDoneAsyncSaga","markTaskAsUndoneAsyncSaga","deleteTaskAsyncSaga","checkTaskSaga","hashCode","Hashable","y","yieldThis","that","decorate","Entity","asIdSerializedTask","_content","_done","JSON","stringify","serialize","serialized","deserialized","parse","deserialize","v","doubleToLongBits","buf","Buffer","allocUnsafe","writeDoubleBE","readUInt32BE","withSuspense","Component","props","Route","component","restProps","HomePage","React","lazy","ChessPage","CounterPage","InfoPage","ReminderPage","NoMatch","App","location","useLocation","hot","IntlProvider","Fragment","mapStateToProps","localeSelector","connect","configureTheme","dark","createMuiTheme","typography","fontFamily","MuiLink","variant","MuiButton","MuiFormControl","MuiTextField","MuiCheckbox","color","palette","primary","teal","secondary","indigo","createInvariantMiddleware","reducer","invariant","next","oldState","getState","newState","logger","createLogger","diff","composeEnhancers","process","compose","configureStore","history","sagaMiddlewareOptions","sagaMiddleware","createSagaMiddleware","invariantMiddleware","storeEnhancers","applyMiddleware","routerMiddleware","createStore","MAXIMUM_RECURSION_DEPTH","createProvider","saga","recursionDepth","hasError","handleError","cause","setState","exceptionNeutralReducer","UnreachableError","onError","run","toPromise","renderError","children","getDerivedStateFromError","b","defineProperty","Boolean","prototype","Number","s","c","charCodeAt","containerImport","io","Main","container","useMediaQuery","theme","useMemo","useCallback","createReducer","rootSaga","service","resolve","Service","Provider","HTML5Backend","then","startsWith","window","basename","createBrowserHistory","ReactDOM","render","document","getElementById","ValidationError","message","values","AbstractError","conj","xs","separator","lastSeparator","lastX","pop","join","equalsJsons","equalsJsonArrays","equalsJsonObjects","ys","iXMap","jYMap","is","js","sort","j","generateLineWithEolIterator","eols","eolPattern","eolCharPattern","eol","stripMargin","marginChar","stripMargin1","stripMargin2","line","matches","groups","marginCharCandidate","stripped","cs","lineBuffer","eolBuffer","some","trimEols","trimTrailingEols","trimLeadingEols","replace","failSafe","asT","right","left","leftOnly","t","isLeft","named","name","asU","u","isRight","listOf","output","options","option","className","console","asConstant","a","inputAsJson","asJson","asNumber","setPrototypeOf","pattern","ctx","worker","originalTakeEvery","Eq","zipIterators","genIt","Symbol","iterator","Promise","res","setTimeout","ValueObject","checkInvariant","seemsLikeUuid","test","Id","combineInvariants","invariants","every","moduleName","moduleState","chessService","counterService","ioService","localeSelectorService","reminderService","fork","combineReducers","router","connectRouter"],"mappings":";QAAA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA,QAAQ,oBAAoB;QAC5B;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA,iBAAiB,4BAA4B;QAC7C;QACA;QACA,kBAAkB,2BAA2B;QAC7C;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;;QAEA;;QAEA;QACA;QACA,wDAAwD,0QAA0Q;QAClU;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;QAEA;QACA;QACA;QACA;;;QAGA;QACA,oBAAoB;QACpB;QACA;QACA;QACA,0CAA0C,0QAA0Q;QACpT;QACA;QACA,mBAAmB,6BAA6B;QAChD;QACA;QACA;QACA;QACA;QACA,mBAAmB,8BAA8B;QACjD;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA,KAAK;QACL;QACA,KAAK;QACL;;QAEA;;QAEA;QACA,iCAAiC;;QAEjC;QACA;QACA;QACA,KAAK;QACL;QACA;QACA;QACA,MAAM;QACN;;QAEA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,wBAAwB,kCAAkC;QAC1D,MAAM;QACN;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QA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","file":"assets/scripts/main~c98f95f3.6a347a23.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded CSS chunks\n \tvar installedCssChunks = {\n \t\t6: 0\n \t}\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t6: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"assets/scripts/\" + ({\"0\":\"vendors~chess~counter~home~info~noMatch~reminder~253ae210\",\"1\":\"vendors~chess~reminder~253ae210\",\"2\":\"chess~21833f8f\",\"3\":\"counter~31ecd969\",\"4\":\"home~31ecd969\",\"5\":\"info~31ecd969\",\"7\":\"noMatch~21833f8f\",\"8\":\"reminder~21833f8f\",\"11\":\"vendors~reminder~253ae210\"}[chunkId]||chunkId) + \".\" + \"6a347a23\" + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// mini-css-extract-plugin CSS loading\n \t\tvar cssChunks = {\"2\":1,\"3\":1,\"4\":1,\"5\":1,\"7\":1,\"8\":1};\n \t\tif(installedCssChunks[chunkId]) promises.push(installedCssChunks[chunkId]);\n \t\telse if(installedCssChunks[chunkId] !== 0 && cssChunks[chunkId]) {\n \t\t\tpromises.push(installedCssChunks[chunkId] = new Promise(function(resolve, reject) {\n \t\t\t\tvar href = \"assets/stylesheets/\" + ({\"0\":\"vendors~chess~counter~home~info~noMatch~reminder~253ae210\",\"1\":\"vendors~chess~reminder~253ae210\",\"2\":\"chess~21833f8f\",\"3\":\"counter~31ecd969\",\"4\":\"home~31ecd969\",\"5\":\"info~31ecd969\",\"7\":\"noMatch~21833f8f\",\"8\":\"reminder~21833f8f\",\"11\":\"vendors~reminder~253ae210\"}[chunkId]||chunkId) + \".\" + \"6a347a23\" + \".css\";\n \t\t\t\tvar fullhref = __webpack_require__.p + href;\n \t\t\t\tvar existingLinkTags = document.getElementsByTagName(\"link\");\n \t\t\t\tfor(var i = 0; i < existingLinkTags.length; i++) {\n \t\t\t\t\tvar tag = existingLinkTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\") || tag.getAttribute(\"href\");\n \t\t\t\t\tif(tag.rel === \"stylesheet\" && (dataHref === href || dataHref === fullhref)) return resolve();\n \t\t\t\t}\n \t\t\t\tvar existingStyleTags = document.getElementsByTagName(\"style\");\n \t\t\t\tfor(var i = 0; i < existingStyleTags.length; i++) {\n \t\t\t\t\tvar tag = existingStyleTags[i];\n \t\t\t\t\tvar dataHref = tag.getAttribute(\"data-href\");\n \t\t\t\t\tif(dataHref === href || dataHref === fullhref) return resolve();\n \t\t\t\t}\n \t\t\t\tvar linkTag = document.createElement(\"link\");\n \t\t\t\tlinkTag.rel = \"stylesheet\";\n \t\t\t\tlinkTag.type = \"text/css\";\n \t\t\t\tlinkTag.onload = resolve;\n \t\t\t\tlinkTag.onerror = function(event) {\n \t\t\t\t\tvar request = event && event.target && event.target.src || fullhref;\n \t\t\t\t\tvar err = new Error(\"Loading CSS chunk \" + chunkId + \" failed.\\n(\" + request + \")\");\n \t\t\t\t\terr.code = \"CSS_CHUNK_LOAD_FAILED\";\n \t\t\t\t\terr.request = request;\n \t\t\t\t\tdelete installedCssChunks[chunkId]\n \t\t\t\t\tlinkTag.parentNode.removeChild(linkTag)\n \t\t\t\t\treject(err);\n \t\t\t\t};\n \t\t\t\tlinkTag.href = fullhref;\n\n \t\t\t\tvar head = document.getElementsByTagName(\"head\")[0];\n \t\t\t\thead.appendChild(linkTag);\n \t\t\t}).then(function() {\n \t\t\t\tinstalledCssChunks[chunkId] = 0;\n \t\t\t}));\n \t\t}\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([259,9,10]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import { injectable } from 'inversify'\nimport { Action, Reducer } from 'redux'\nimport { SagaIterator } from 'redux-saga'\nimport { call, put, select } from 'redux-saga/effects'\n\nimport { takeEvery } from '~/lib/boni/redux-saga/effects'\nimport delay from '~/lib/delay'\nimport { State } from '~/redux'\n\n//\n//             _|                  _|\n//   _|_|_|  _|_|_|_|    _|_|_|  _|_|_|_|    _|_|\n// _|_|        _|      _|    _|    _|      _|_|_|_|\n//     _|_|    _|      _|    _|    _|      _|\n// _|_|_|        _|_|    _|_|_|      _|_|    _|_|_|\n//\n//\n\nexport interface CounterState {\n  count: number\n}\n\nexport function counterInvariant(state: CounterState) {\n  return state.count >= 0\n}\n\n//\n//                       _|      _|\n//   _|_|_|    _|_|_|  _|_|_|_|        _|_|    _|_|_|\n// _|    _|  _|          _|      _|  _|    _|  _|    _|\n// _|    _|  _|          _|      _|  _|    _|  _|    _|\n//   _|_|_|    _|_|_|      _|_|  _|    _|_|    _|    _|\n//\n//\n//\n//   _|\n// _|_|_|_|  _|    _|  _|_|_|      _|_|      _|_|_|\n//   _|      _|    _|  _|    _|  _|_|_|_|  _|_|\n//   _|      _|    _|  _|    _|  _|            _|_|\n//     _|_|    _|_|_|  _|_|_|      _|_|_|  _|_|_|\n//                 _|  _|\n//             _|_|    _|\n\nexport /* for testing */ const RESET = '@@react-app-prototype/counter/RESET'\nexport /* for testing */ const INCREMENT_IF_ODD = '@@react-app-prototype/counter/INCREMENT_IF_ODD'\nexport /* for testing */ const INCREMENT_ASYNC = '@@react-app-prototype/counter/INCREMENT_ASYNC'\nexport /* for testing */ const INCREMENT = '@@react-app-prototype/counter/INCREMENT'\nexport /* for testing */ const DECREMENT = '@@react-app-prototype/counter/DECREMENT'\n\nconst counterActionTypes = [\n  RESET,\n  INCREMENT_IF_ODD,\n  INCREMENT_ASYNC,\n  INCREMENT,\n  DECREMENT,\n]\n\ntype ResetAction = ReturnType<typeof reset>\ntype IncrementIfOddAction = ReturnType<typeof incrementIfOdd>\ntype IncrementAsyncAction = ReturnType<typeof incrementAsync>\ntype IncrementAction = ReturnType<typeof increment>\ntype DecrementAction = ReturnType<typeof decrement>\n\nexport type CounterAction =\n  | ResetAction\n  | IncrementIfOddAction\n  | IncrementAsyncAction\n  | IncrementAction\n  | DecrementAction\n\nfunction isCounterAction(action: Action): action is CounterAction {\n  return counterActionTypes.includes(action.type)\n}\n\n//\n//                       _|      _|\n//   _|_|_|    _|_|_|  _|_|_|_|        _|_|    _|_|_|\n// _|    _|  _|          _|      _|  _|    _|  _|    _|\n// _|    _|  _|          _|      _|  _|    _|  _|    _|\n//   _|_|_|    _|_|_|      _|_|  _|    _|_|    _|    _|\n//\n//\n//\n//                                           _|\n//   _|_|_|  _|  _|_|    _|_|      _|_|_|  _|_|_|_|    _|_|    _|  _|_|    _|_|_|\n// _|        _|_|      _|_|_|_|  _|    _|    _|      _|    _|  _|_|      _|_|\n// _|        _|        _|        _|    _|    _|      _|    _|  _|            _|_|\n//   _|_|_|  _|          _|_|_|    _|_|_|      _|_|    _|_|    _|        _|_|_|\n//\n//\n\nexport const reset = () => <const> ({\n  type: RESET,\n})\n\nexport const incrementIfOdd = () => <const> ({\n  type: INCREMENT_IF_ODD,\n})\n\nexport const incrementAsync = (ms: number) => <const> ({\n  type: INCREMENT_ASYNC,\n  payload: {\n    ms,\n  },\n})\n\nexport const increment = () => <const> ({\n  type: INCREMENT,\n})\n\nexport const decrement = () => <const> ({\n  type: DECREMENT,\n})\n\n//\n//                           _|\n// _|  _|_|    _|_|      _|_|_|  _|    _|    _|_|_|    _|_|    _|  _|_|\n// _|_|      _|_|_|_|  _|    _|  _|    _|  _|        _|_|_|_|  _|_|\n// _|        _|        _|    _|  _|    _|  _|        _|        _|\n// _|          _|_|_|    _|_|_|    _|_|_|    _|_|_|    _|_|_|  _|\n//\n//\n\nexport const createCounterReducer: (initialState: CounterState) => Reducer<CounterState, Action> = (initialState) => (state = initialState, action) => {\n  if (!isCounterAction(action)) {\n    return state\n  }\n\n  switch (action.type) {\n    case RESET: return initialState\n    case INCREMENT_IF_ODD:\n    case INCREMENT_ASYNC: return state\n    case INCREMENT: return {\n      ...state,\n      count: state.count + 1,\n    }\n    case DECREMENT: return {\n      ...state,\n      count: state.count - 1,\n    }\n  }\n}\n\n//\n//                                           _|\n//   _|_|_|    _|_|    _|  _|_|  _|      _|        _|_|_|    _|_|\n// _|_|      _|_|_|_|  _|_|      _|      _|  _|  _|        _|_|_|_|\n//     _|_|  _|        _|          _|  _|    _|  _|        _|\n// _|_|_|      _|_|_|  _|            _|      _|    _|_|_|    _|_|_|\n//\n//\n\n@injectable()\nexport class CounterService {\n  public /* for testing */ *incrementIfOddSaga(): SagaIterator {\n    const { counter: { count } }: State = yield select()\n\n    if (count % 2 !== 0) {\n      yield put(increment())\n    }\n  }\n\n  public /* for testing */ *incrementAsyncSaga({ payload: { ms } }: IncrementAsyncAction): SagaIterator {\n    yield call(delay, ms)\n    yield put(increment())\n  }\n\n  public *rootSaga(): SagaIterator {\n    yield takeEvery(INCREMENT_IF_ODD, [this, this.incrementIfOddSaga])\n    yield takeEvery(INCREMENT_ASYNC, [this, this.incrementAsyncSaga])\n  }\n}\n","export default function getCoordinatesAttackedBy(_chessman: Chess.Chessman, _coord: Chess.Coordinates, _board: Chess.Chessboard): Chess.Coordinates[] {\n  return [{ file: 1, rank: 1 }] // TODO\n}\n","import { Map } from 'immutable'\nimport { injectable } from 'inversify'\nimport { Action, Reducer } from 'redux'\nimport { SagaIterator } from 'redux-saga'\nimport { put, select } from 'redux-saga/effects'\n\nimport Coordinates from '~/domain/vo/Coordinates'\nimport { takeEvery } from '~/lib/boni/redux-saga/effects'\nimport equalsChessmen from '~/lib/extensions/Eq/equalsChessmen'\nimport { State } from '~/redux'\nimport getCoordinatesAttackedBy from '~/utils/chess/getCoordinatesAttackedBy'\n\n//\n//             _|                  _|\n//   _|_|_|  _|_|_|_|    _|_|_|  _|_|_|_|    _|_|\n// _|_|        _|      _|    _|    _|      _|_|_|_|\n//     _|_|    _|      _|    _|    _|      _|\n// _|_|_|        _|_|    _|_|_|      _|_|    _|_|_|\n//\n//\n\nexport interface ChessState {\n  board: Chess.Chessboard\n  picking?: {\n    chessman: Chess.Chessman\n    source: Chess.Coordinates\n  } | null\n  targets?: Chess.Coordinates[] | null\n}\n\nexport function chessInvariant({ board, picking, targets }: ChessState) {\n  return (\n    (picking == null || (!board.chessmen.has(new Coordinates(picking.source)) || existsCoordinatedChessman(picking.chessman, picking.source, board))) && // any picking → (any chessman at picking.source on board → chessman at picking.source on board = picking.chessman)\n    (picking != null || targets == null) // no picking → no targets\n  )\n}\n\nfunction existsCoordinatedChessman(chessman: Chess.Chessman, coord: Chess.Coordinates, board: Chess.Chessboard): boolean {\n  const actual = board.chessmen.get(new Coordinates(coord))\n\n  return actual !== undefined && equalsChessmen(actual, chessman)\n}\n\n//\n//                       _|      _|\n//   _|_|_|    _|_|_|  _|_|_|_|        _|_|    _|_|_|\n// _|    _|  _|          _|      _|  _|    _|  _|    _|\n// _|    _|  _|          _|      _|  _|    _|  _|    _|\n//   _|_|_|    _|_|_|      _|_|  _|    _|_|    _|    _|\n//\n//\n//\n//   _|\n// _|_|_|_|  _|    _|  _|_|_|      _|_|      _|_|_|\n//   _|      _|    _|  _|    _|  _|_|_|_|  _|_|\n//   _|      _|    _|  _|    _|  _|            _|_|\n//     _|_|    _|_|_|  _|_|_|      _|_|_|  _|_|_|\n//                 _|  _|\n//             _|_|    _|\n\nconst RESET_BOARD = '@@react-app-base/chess/RESET_BOARD'\nconst HALF_MOVE = '@@react-app-base/chess/HALF_MOVE' // neither castle nor capture pawn en passant\nconst PICK_CHESSMAN = '@@react-app-base/chess/PICK_CHESSMAN'\nconst PUT_CHESSMAN = '@@react-app-base/chess/PUT_CHESSMAN'\nconst RELEASE_CHESSMAN = '@@react-app-base/chess/RELEASE_CHESSMAN'\nconst REMOVE_CHESSMAN = '@@react-app-base/chess/REMOVE_CHESSMAN'\nconst SET_TARGETS = '@@react-app-base/chess/SET_TARGETS'\n\nconst chessActionTypes = [\n  RESET_BOARD,\n  HALF_MOVE,\n  PICK_CHESSMAN,\n  PUT_CHESSMAN,\n  RELEASE_CHESSMAN,\n  REMOVE_CHESSMAN,\n  SET_TARGETS,\n]\n\ntype ResetBoardAction = ReturnType<typeof resetBoard> // TODO: chess 960\ntype HalfMoveAction = ReturnType<typeof halfMove>\ntype PickChessmanAction = ReturnType<typeof pickChessman>\ntype PutChessmanAction = ReturnType<typeof putChessman>\ntype ReleaseChessmanAction = ReturnType<typeof releaseChessman>\ntype RemoveChessmanAction = ReturnType<typeof removeChessman>\ntype SetTargets = ReturnType<typeof setTargets>\n\nexport type ChessAction =\n  | ResetBoardAction\n  | HalfMoveAction\n  | PickChessmanAction\n  | PutChessmanAction\n  | ReleaseChessmanAction\n  | RemoveChessmanAction\n  | SetTargets\n\nfunction isChessAction(action: Action): action is ChessAction {\n  return chessActionTypes.includes(action.type)\n}\n\n//\n//                       _|      _|\n//   _|_|_|    _|_|_|  _|_|_|_|        _|_|    _|_|_|\n// _|    _|  _|          _|      _|  _|    _|  _|    _|\n// _|    _|  _|          _|      _|  _|    _|  _|    _|\n//   _|_|_|    _|_|_|      _|_|  _|    _|_|    _|    _|\n//\n//\n//\n//                                           _|\n//   _|_|_|  _|  _|_|    _|_|      _|_|_|  _|_|_|_|    _|_|    _|  _|_|    _|_|_|\n// _|        _|_|      _|_|_|_|  _|    _|    _|      _|    _|  _|_|      _|_|\n// _|        _|        _|        _|    _|    _|      _|    _|  _|            _|_|\n//   _|_|_|  _|          _|_|_|    _|_|_|      _|_|    _|_|    _|        _|_|_|\n//\n//\n\nexport const resetBoard = () => <const> ({\n  type: RESET_BOARD,\n})\n\nexport const halfMove = (chessman: Chess.Chessman, source: Chess.Coordinates, target: Chess.Coordinates) => <const> ({\n  type: HALF_MOVE,\n  payload: {\n    chessman,\n    source,\n    target,\n  },\n})\n\nexport const pickChessman = (chessman: Chess.Chessman, source: Chess.Coordinates) => <const> ({\n  type: PICK_CHESSMAN,\n  payload: {\n    chessman,\n    source,\n  },\n})\n\nexport const putChessman = (chessman: Chess.Chessman, target: Chess.Coordinates) => <const> ({\n  type: PUT_CHESSMAN,\n  payload: {\n    chessman,\n    target,\n  },\n})\n\nexport const releaseChessman = () => <const> ({\n  type: RELEASE_CHESSMAN,\n})\n\nexport const removeChessman = (coord: Chess.Coordinates) => <const> ({\n  type: REMOVE_CHESSMAN,\n  payload: {\n    coord,\n  },\n})\n\nexport const setTargets = (targets: Chess.Coordinates[]) => <const> ({\n  type: SET_TARGETS,\n  payload: {\n    targets,\n  },\n})\n\n//\n//                           _|\n// _|  _|_|    _|_|      _|_|_|  _|    _|    _|_|_|    _|_|    _|  _|_|\n// _|_|      _|_|_|_|  _|    _|  _|    _|  _|        _|_|_|_|  _|_|\n// _|        _|        _|    _|  _|    _|  _|        _|        _|\n// _|          _|_|_|    _|_|_|    _|_|_|    _|_|_|    _|_|_|  _|\n//\n//\n\nexport const createChessReducer: (initialState: ChessState) => Reducer<ChessState, Action> = (initialState) => (state = initialState, action) => {\n  if (!isChessAction(action)) {\n    return state\n  }\n\n  switch (action.type) {\n    case RESET_BOARD: return {\n      ...state,\n      board: {\n        chessmen: Map([\n          [new Coordinates({ rank: 1, file: 1 }), { symbol: '♖' }],\n          [new Coordinates({ rank: 1, file: 2 }), { symbol: '♘' }],\n          [new Coordinates({ rank: 1, file: 3 }), { symbol: '♗' }],\n          [new Coordinates({ rank: 1, file: 4 }), { symbol: '♕' }],\n          [new Coordinates({ rank: 1, file: 5 }), { symbol: '♔' }],\n          [new Coordinates({ rank: 1, file: 6 }), { symbol: '♗' }],\n          [new Coordinates({ rank: 1, file: 7 }), { symbol: '♘' }],\n          [new Coordinates({ rank: 1, file: 8 }), { symbol: '♖' }],\n          [new Coordinates({ rank: 2, file: 1 }), { symbol: '♙', hasAdvancedTwoSquares: false }],\n          [new Coordinates({ rank: 2, file: 2 }), { symbol: '♙', hasAdvancedTwoSquares: false }],\n          [new Coordinates({ rank: 2, file: 3 }), { symbol: '♙', hasAdvancedTwoSquares: false }],\n          [new Coordinates({ rank: 2, file: 4 }), { symbol: '♙', hasAdvancedTwoSquares: false }],\n          [new Coordinates({ rank: 2, file: 5 }), { symbol: '♙', hasAdvancedTwoSquares: false }],\n          [new Coordinates({ rank: 2, file: 6 }), { symbol: '♙', hasAdvancedTwoSquares: false }],\n          [new Coordinates({ rank: 2, file: 7 }), { symbol: '♙', hasAdvancedTwoSquares: false }],\n          [new Coordinates({ rank: 2, file: 8 }), { symbol: '♙', hasAdvancedTwoSquares: false }],\n          [new Coordinates({ rank: 7, file: 1 }), { symbol: '♟', hasAdvancedTwoSquares: false }],\n          [new Coordinates({ rank: 7, file: 2 }), { symbol: '♟', hasAdvancedTwoSquares: false }],\n          [new Coordinates({ rank: 7, file: 3 }), { symbol: '♟', hasAdvancedTwoSquares: false }],\n          [new Coordinates({ rank: 7, file: 4 }), { symbol: '♟', hasAdvancedTwoSquares: false }],\n          [new Coordinates({ rank: 7, file: 5 }), { symbol: '♟', hasAdvancedTwoSquares: false }],\n          [new Coordinates({ rank: 7, file: 6 }), { symbol: '♟', hasAdvancedTwoSquares: false }],\n          [new Coordinates({ rank: 7, file: 7 }), { symbol: '♟', hasAdvancedTwoSquares: false }],\n          [new Coordinates({ rank: 7, file: 8 }), { symbol: '♟', hasAdvancedTwoSquares: false }],\n          [new Coordinates({ rank: 8, file: 1 }), { symbol: '♜' }],\n          [new Coordinates({ rank: 8, file: 2 }), { symbol: '♞' }],\n          [new Coordinates({ rank: 8, file: 3 }), { symbol: '♝' }],\n          [new Coordinates({ rank: 8, file: 4 }), { symbol: '♛' }],\n          [new Coordinates({ rank: 8, file: 5 }), { symbol: '♚' }],\n          [new Coordinates({ rank: 8, file: 6 }), { symbol: '♝' }],\n          [new Coordinates({ rank: 8, file: 7 }), { symbol: '♞' }],\n          [new Coordinates({ rank: 8, file: 8 }), { symbol: '♜' }],\n        ]),\n      },\n    }\n    case HALF_MOVE: return state\n    case PICK_CHESSMAN: return {\n      ...state,\n      picking: {\n        chessman: action.payload.chessman,\n        source: action.payload.source,\n      },\n    }\n    case PUT_CHESSMAN: return {\n      ...state,\n      board: {\n        ...state.board,\n        chessmen: state.board.chessmen.set(new Coordinates(action.payload.target), action.payload.chessman), // TODO\n      },\n      picking: null,\n      targets: null,\n    }\n    case RELEASE_CHESSMAN: return {\n      ...state,\n      picking: null,\n      targets: null,\n    }\n    case REMOVE_CHESSMAN: return {\n      ...state,\n      board: {\n        ...state.board,\n        chessmen: state.board.chessmen.delete(new Coordinates(action.payload.coord)), // TODO\n      },\n    }\n    case SET_TARGETS: return {\n      ...state,\n      targets: action.payload.targets,\n    }\n  }\n}\n\n//\n//                                           _|\n//   _|_|_|    _|_|    _|  _|_|  _|      _|        _|_|_|    _|_|\n// _|_|      _|_|_|_|  _|_|      _|      _|  _|  _|        _|_|_|_|\n//     _|_|  _|        _|          _|  _|    _|  _|        _|\n// _|_|_|      _|_|_|  _|            _|      _|    _|_|_|    _|_|_|\n//\n//\n\n@injectable()\nexport class ChessService {\n  private *halfMoveSaga({ payload: { chessman, source, target } }: HalfMoveAction): SagaIterator {\n    // TODO: check move\n\n    // TODO: castle\n\n    // TODO: remove en passant\n\n    yield put(removeChessman(source))\n    yield put(putChessman(chessman, target))\n\n    // TODO: turn\n  }\n\n  private *pickChessmanSaga({ payload: { chessman, source } }: PickChessmanAction): SagaIterator {\n    const { chess: { board } }: State = yield select()\n\n    const targets = getCoordinatesAttackedBy(chessman, source, board)\n\n    yield put(setTargets(targets))\n  }\n\n  public *rootSaga(): SagaIterator {\n    yield takeEvery(HALF_MOVE, [this, this.halfMoveSaga])\n    yield takeEvery(PICK_CHESSMAN, [this, this.pickChessmanSaga])\n  }\n}\n","import { isUrl } from '~/lib/guards/stringGuards'\nimport typed from '~/lib/typed'\n\nconst DUMMY_ORIGIN = 'http://example.com'\n\nfunction dropDummyOrigin(x: string): string {\n  const result = new RegExp(typed<[string]>`^${ DUMMY_ORIGIN }(.*)$`).exec(x)\n\n  if (result === null) {\n    throw new Error\n  }\n\n  return result[1]\n}\n\n/**\n * URL から origin を取り除いたものを表す。\n */\nclass PathAbempty {\n  private readonly _url: URL\n\n  constructor(...[pathAbempty, ...restArgs]: ConstructorParameters<typeof URL>) {\n    this._url = new URL(typed<[string, string]>`${ DUMMY_ORIGIN }${ pathAbempty }`, ...restArgs)\n  }\n\n  get hash(): string {\n    return this._url.hash\n  }\n\n  get href(): string {\n    return dropDummyOrigin(this._url.href)\n  }\n\n  get origin(): string {\n    return dropDummyOrigin(this._url.origin)\n  }\n\n  get pathname(): string {\n    return this._url.pathname\n  }\n\n  set pathname(value: string) {\n    // tslint:disable-next-line:no-object-mutation\n    this._url.pathname = value\n  }\n\n  get search(): string {\n    return this._url.search\n  }\n\n  set search(value: string) {\n    // tslint:disable-next-line:no-object-mutation\n    this._url.search = value\n  }\n\n  get searchParams(): URLSearchParams {\n    return this._url.searchParams\n  }\n\n  public toJSON() {\n    return dropDummyOrigin(this._url.toJSON())\n  }\n}\n\nexport default function createUrlOrPathAbempty(...args: ConstructorParameters<typeof URL>): URL | PathAbempty {\n  const [urlOrPathAbempty] = args\n\n  if (isUrl(urlOrPathAbempty)) {\n    return new URL(...args)\n  } else {\n    return new PathAbempty(...args)\n  }\n}\n","export default function mapValues<K extends Index, T, U>(object: Record<K, T>, f: (x: T) => U): Record<K, U> {\n  const result: Partial<Record<K, U>> = {}\n\n  // tslint:disable-next-line:no-loop-statement\n  for (const [i, x] of Object.entries(object)) {\n    // tslint:disable-next-line:no-object-mutation\n    result[i] = f(x)\n  }\n\n  return result as Record<K, U>\n}\n","/**\n * src/lib/fetch.ts\n */\n\nimport * as pathToRegexp from 'path-to-regexp'\n\nimport createUrlOrPathAbempty from './createUrlOrPathAbempty'\nimport mapValues from './extensions/Record/mapValues'\nimport typed from './typed'\n\ntype Method = 'GET' | 'POST'\n\ninterface RequestParams {\n  method: Method\n  parameterizedEndpoint: string\n  params?: Record<string, string>\n  headers?: Record<string, string>\n  query?: Record<string, string>\n}\n\ninterface ResponseParams {\n  response: Response\n  body: Json\n}\n\nfunction isEmpty<T extends {}>(object: T): object is EmptyRecord<T> {\n  return Object.keys(object).length === 0\n}\n\nfunction toRecord(input: {}): Record<string, unknown> {\n  return Object.entries(input).reduce((result, [i, x]) => ({ ...result, [i]: x }), {})\n}\n\nfunction toJson(input: unknown): Json {\n  if (typeof input === 'boolean' || typeof input === 'number' || typeof input === 'string') {\n    return input\n  }\n\n  if (Array.isArray(input)) {\n    return input.map((json) => toJson(json))\n  }\n\n  if (typeof input === 'object') {\n    if (input === null) {\n      return input\n    }\n\n    return mapValues(toRecord(input), (json) => toJson(json))\n  }\n\n  throw new Error(typed<[string]>`${ String(input) } is not a Json.`)\n}\n\nfunction buildRequestInfo({ method, parameterizedEndpoint, params = {}, query = {} }: RequestParams): RequestInfo {\n  const url = createUrlOrPathAbempty(parameterizedEndpoint)\n\n  // tslint:disable-next-line:no-object-mutation\n  url.pathname = isEmpty(params) ? url.pathname : pathToRegexp.compile(url.pathname)(params)\n\n  if (method === 'GET') {\n    const urlSearchParams = new URLSearchParams(url.search)\n\n    Object.entries(query).forEach(([key, value]) => {\n      urlSearchParams.append(key, value)\n    })\n\n    // tslint:disable-next-line:no-object-mutation\n    url.search = urlSearchParams.toString()\n  }\n\n  return url.href\n}\n\nfunction buildRequestInit({ method, headers = {}, query = {} }: RequestParams): RequestInit {\n  switch (method) {\n    case 'GET':\n      return {\n        method,\n        headers,\n      }\n    case 'POST':\n      const formData = new FormData\n\n      Object.entries(query).forEach(([key, value]) => {\n        formData.append(key, value)\n      })\n\n      return {\n        method,\n        body: formData,\n        headers,\n      }\n  }\n}\n\nexport default async function fetch(request: RequestParams): Promise<ResponseParams> {\n  const requestInfo = buildRequestInfo(request)\n  const requestInit = buildRequestInit(request)\n  const response = await globalThis.fetch(requestInfo, requestInit)\n\n  const body = toJson(await response.json())\n\n  return { response, body }\n}\n","import zipIterables from './extensions/Iterable/zipIterables'\n\n/**\n * Type substitutions of a template literal.  It is often used as a tag function.\n *\n * @returns a string of alternate elements of template and substitutions.\n */\nexport default function typed<T extends unknown[]>(template: TemplateStringsArray, ...substitutions: T): string {\n  // tslint:disable-next-line:no-let\n  let result = template[0]\n\n  // tslint:disable-next-line:no-loop-statement\n  for (const [substitution, segment] of zipIterables(substitutions, template.slice(1))) {\n    result += String(substitution)\n    result += segment\n  }\n\n  return result\n}\n","import { asBoolean, asObject, asString, asUnionOf, optional, recordOf, unionOf } from './commonValidators'\n\nexport const asFormats = asObject<Formats>('a Formats', (input) => ({\n  number: optional(recordOf(asIntlNumberFormatOptions))(input.number),\n  date: optional(recordOf(asIntlDateTimeFormatOptions))(input.date),\n  time: optional(recordOf(asIntlDateTimeFormatOptions))(input.time),\n}))\n\nconst asIntlNumberFormatOptions = asObject<Intl.NumberFormatOptions>('an Intl.NumberFormatOptions', (input) => ({\n  localeMatcher: optional(asUnionOf('lookup', 'best fit'))(input.localeMatcher),\n  style: optional(asUnionOf('decimal', 'currency', 'percent'))(input.style),\n  currency: optional(asString)(input.currency), // ISO 4217 currency code\n  currencyDisplay: optional(asUnionOf('symbol', 'code', 'name'))(input.currencyDisplay),\n  useGrouping: optional(asBoolean)(input.useGrouping),\n  minimumIntegerDigits: optional(asUnionOf(1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21))(input.minimumIntegerDigits),\n  minimumFractionDigits: optional(asUnionOf(0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20))(input.minimumFractionDigits),\n  maximumFractionDigits: optional(asUnionOf(0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20))(input.maximumFractionDigits),\n  minimumSignificantDigits: optional(asUnionOf(1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21))(input.minimumSignificantDigits),\n  maximumSignificantDigits: optional(asUnionOf(1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21))(input.maximumSignificantDigits),\n}))\n\nconst asIntlDateTimeFormatOptions = asObject<Intl.DateTimeFormatOptions>('an Intl.DateTimeFormatOptions', (input) => ({\n  localeMatcher: optional(asUnionOf('lookup', 'best fit'))(input.localeMatcher),\n  weekday: optional(asUnionOf('narrow', 'short', 'long'))(input.weekday),\n  era: optional(asUnionOf('narrow', 'short', 'long'))(input.era),\n  year: optional(asUnionOf('numeric', '2-digit'))(input.year),\n  month: optional(asUnionOf('numeric', '2-digit', 'narrow', 'short', 'long'))(input.month),\n  day: optional(asUnionOf('numeric', '2-digit'))(input.day),\n  hour: optional(asUnionOf('numeric', '2-digit'))(input.hour),\n  minute: optional(asUnionOf('numeric', '2-digit'))(input.minute),\n  second: optional(asUnionOf('numeric', '2-digit'))(input.second),\n  timeZoneName: optional(asUnionOf('short', 'long'))(input.timeZoneName),\n  formatMatcher: optional(asUnionOf('basic', 'best fit'))(input.formatMatcher),\n  hour12: optional(asBoolean)(input.hour12),\n  timeZone: optional(unionOf(asUnionOf('UTC'), asString))(input.localeMatcher), // tz timezone\n}))\n","import { inject, injectable } from 'inversify'\nimport { Action, Reducer } from 'redux'\nimport { SagaIterator } from 'redux-saga'\nimport { call, put } from 'redux-saga/effects'\n\nimport ConfigRegistry from '~/config/ConfigRegistry'\nimport { takeEvery } from '~/lib/boni/redux-saga/effects'\nimport fetch from '~/lib/fetch'\nimport { Tag } from '~/lib/languageNameSolver'\nimport typed from '~/lib/typed'\nimport { asString, recordOf } from '~/lib/validators/commonValidators'\nimport { asFormats } from '~/lib/validators/intlValidators'\n\n//\n//             _|                  _|\n//   _|_|_|  _|_|_|_|    _|_|_|  _|_|_|_|    _|_|\n// _|_|        _|      _|    _|    _|      _|_|_|_|\n//     _|_|    _|      _|    _|    _|      _|\n// _|_|_|        _|_|    _|_|_|      _|_|    _|_|_|\n//\n//\n\nexport interface LocaleSelectorState {\n  locale: Tag\n  formats: Formats\n  messages: Record<string, string>\n  errors: Error[]\n}\n\n//\n//                       _|      _|\n//   _|_|_|    _|_|_|  _|_|_|_|        _|_|    _|_|_|\n// _|    _|  _|          _|      _|  _|    _|  _|    _|\n// _|    _|  _|          _|      _|  _|    _|  _|    _|\n//   _|_|_|    _|_|_|      _|_|  _|    _|_|    _|    _|\n//\n//\n//\n//   _|\n// _|_|_|_|  _|    _|  _|_|_|      _|_|      _|_|_|\n//   _|      _|    _|  _|    _|  _|_|_|_|  _|_|\n//   _|      _|    _|  _|    _|  _|            _|_|\n//     _|_|    _|_|_|  _|_|_|      _|_|_|  _|_|_|\n//                 _|  _|\n//             _|_|    _|\n\nexport /* for testing */ const SELECT_LOCALE = '@@react-app-prototype/localeSelector/SELECT_LOCALE'\nexport /* for testing */ const SET_LOCALE = '@@react-app-prototype/localeSelector/SET_LOCALE'\nexport /* for testing */ const SET_FORMATS = '@@react-app-prototype/localeSelector/SET_FORMATS'\nexport /* for testing */ const SET_MESSAGES = '@@react-app-prototype/localeSelector/SET_MESSAGES'\nexport /* for testing */ const PUSH_ERROR = '@@react-app-prototype/localeSelector/PUSH_ERROR'\n\nconst localeSelectorActionTypes = [\n  SELECT_LOCALE,\n  SET_LOCALE,\n  SET_FORMATS,\n  SET_MESSAGES,\n  PUSH_ERROR,\n]\n\ntype SelectLocaleAction = ReturnType<typeof selectLocale>\ntype SetLocaleAction = ReturnType<typeof setLocale>\ntype SetFormatsAction = ReturnType<typeof setFormats>\ntype SetMessagesAction = ReturnType<typeof setMessages>\ntype PushErrorAction = ReturnType<typeof pushError>\n\nexport type LocaleSelectorAction =\n  | SelectLocaleAction\n  | SetLocaleAction\n  | SetFormatsAction\n  | SetMessagesAction\n  | PushErrorAction\n\nfunction isLocaleSelectorAction(action: Action): action is LocaleSelectorAction {\n  return localeSelectorActionTypes.includes(action.type)\n}\n\n//\n//                       _|      _|\n//   _|_|_|    _|_|_|  _|_|_|_|        _|_|    _|_|_|\n// _|    _|  _|          _|      _|  _|    _|  _|    _|\n// _|    _|  _|          _|      _|  _|    _|  _|    _|\n//   _|_|_|    _|_|_|      _|_|  _|    _|_|    _|    _|\n//\n//\n//\n//                                           _|\n//   _|_|_|  _|  _|_|    _|_|      _|_|_|  _|_|_|_|    _|_|    _|  _|_|    _|_|_|\n// _|        _|_|      _|_|_|_|  _|    _|    _|      _|    _|  _|_|      _|_|\n// _|        _|        _|        _|    _|    _|      _|    _|  _|            _|_|\n//   _|_|_|  _|          _|_|_|    _|_|_|      _|_|    _|_|    _|        _|_|_|\n//\n//\n\nexport const selectLocale = (locale: Tag) => <const> ({\n  type: SELECT_LOCALE,\n  payload: {\n    locale,\n  },\n})\n\nexport /* for testing */ const setLocale = (locale: Tag) => <const> ({\n  type: SET_LOCALE,\n  payload: {\n    locale,\n  },\n})\n\nexport /* for testing */ const setFormats = (formats: Formats) => <const> ({\n  type: SET_FORMATS,\n  payload: {\n    formats,\n  },\n})\n\nexport /* for testing */ const setMessages = (messages: Record<string, string>) => <const> ({\n  type: SET_MESSAGES,\n  payload: {\n    messages,\n  },\n})\n\nexport /* for testing */ const pushError = (error: Error) => <const> ({\n  type: PUSH_ERROR,\n  payload: {\n    error,\n  },\n})\n\n//\n//                           _|\n// _|  _|_|    _|_|      _|_|_|  _|    _|    _|_|_|    _|_|    _|  _|_|\n// _|_|      _|_|_|_|  _|    _|  _|    _|  _|        _|_|_|_|  _|_|\n// _|        _|        _|    _|  _|    _|  _|        _|        _|\n// _|          _|_|_|    _|_|_|    _|_|_|    _|_|_|    _|_|_|  _|\n//\n//\n\nexport const createLocaleSelectorReducer: (initialState: LocaleSelectorState) => Reducer<LocaleSelectorState, Action> = (initialState) => (state = initialState, action) => {\n  if (!isLocaleSelectorAction(action)) {\n    return state\n  }\n\n  switch (action.type) {\n    case SELECT_LOCALE: return state\n    case SET_LOCALE: return {\n      ...state,\n      locale: action.payload.locale,\n    }\n    case SET_FORMATS: return {\n      ...state,\n      formats: action.payload.formats,\n    }\n    case SET_MESSAGES: return {\n      ...state,\n      messages: action.payload.messages,\n    }\n    case PUSH_ERROR: return {\n      ...state,\n      errors: [\n        ...state.errors,\n        action.payload.error,\n      ],\n    }\n  }\n}\n\n//\n//                                           _|\n//   _|_|_|    _|_|    _|  _|_|  _|      _|        _|_|_|    _|_|\n// _|_|      _|_|_|_|  _|_|      _|      _|  _|  _|        _|_|_|_|\n//     _|_|  _|        _|          _|  _|    _|  _|        _|\n// _|_|_|      _|_|_|  _|            _|      _|    _|_|_|    _|_|_|\n//\n//\n\n@injectable()\nexport default class LocaleSelectorService {\n  constructor(\n    @inject('EnvVarConfig') private config: ConfigRegistry\n  ) {}\n\n  public /* for testing */ *selectLocaleSaga({ payload: { locale } }: SelectLocaleAction): SagaIterator {\n    try {\n      const { body: formats }: ResultType<ReturnType<typeof fetch>> = yield call(fetch, {\n        method: 'GET',\n        parameterizedEndpoint: typed<[string]>`${ this.config.get('BASE_URL') }/formats/:locale.json`,\n        params: { locale },\n      })\n\n      const { body: messages }: ResultType<ReturnType<typeof fetch>> = yield call(fetch, {\n        method: 'GET',\n        parameterizedEndpoint: typed<[string]>`${ this.config.get('BASE_URL') }/messages/:locale.json`,\n        params: { locale },\n      })\n\n      // TODO: cache\n\n      yield put(setFormats(asFormats(formats)))\n      yield put(setMessages(recordOf(asString)(messages)))\n      yield put(setLocale(locale))\n    } catch (error) {\n      if (error instanceof Error) {\n        yield put(pushError(error))\n\n        return\n      }\n\n      throw new TypeError(typed<[string]>`${ String(error) } is not an error.`)\n    }\n  }\n\n  public *rootSaga(): SagaIterator {\n    yield takeEvery(SELECT_LOCALE, [this, this.selectLocaleSaga])\n  }\n}\n","import { createContext } from 'react'\n\nimport { Tag } from '~/lib/languageNameSolver'\n\ninterface IntlProviderContext {\n  availableLocales: Tag[] | undefined | null\n}\n\nexport default createContext<IntlProviderContext>({\n  availableLocales: null,\n})\n","import { injectable } from 'inversify'\nimport { Action, Reducer } from 'redux'\nimport { SagaIterator, Task } from 'redux-saga'\nimport { ForkEffect, call, cancel, put } from 'redux-saga/effects'\n\nimport { takeEvery } from '~/lib/boni/redux-saga/effects'\nimport delay from '~/lib/delay'\n\n//\n//             _|                  _|\n//   _|_|_|  _|_|_|_|    _|_|_|  _|_|_|_|    _|_|\n// _|_|        _|      _|    _|    _|      _|_|_|_|\n//     _|_|    _|      _|    _|    _|      _|\n// _|_|_|        _|_|    _|_|_|      _|_|    _|_|_|\n//\n//\n\nexport interface IoState {\n  now: Date\n}\n\n//\n//                       _|      _|\n//   _|_|_|    _|_|_|  _|_|_|_|        _|_|    _|_|_|\n// _|    _|  _|          _|      _|  _|    _|  _|    _|\n// _|    _|  _|          _|      _|  _|    _|  _|    _|\n//   _|_|_|    _|_|_|      _|_|  _|    _|_|    _|    _|\n//\n//\n//\n//   _|\n// _|_|_|_|  _|    _|  _|_|_|      _|_|      _|_|_|\n//   _|      _|    _|  _|    _|  _|_|_|_|  _|_|\n//   _|      _|    _|  _|    _|  _|            _|_|\n//     _|_|    _|_|_|  _|_|_|      _|_|_|  _|_|_|\n//                 _|  _|\n//             _|_|    _|\n\nexport /* for testing */ const UPDATE_NOW = '@@react-app-prototype/io/UPDATE_NOW' // TODO: rename\nexport /* for testing */ const START_CLOCK = '@@react-app-prototype/io/START_CLOCK'\nconst STOP_CLOCK = '@@react-app-prototype/io/STOP_CLOCK'\nexport /* for testing */ const SET_NOW = '@@react-app-prototype/io/SET_NOW'\n\nconst ioActionTypes = [\n  UPDATE_NOW,\n  START_CLOCK,\n  STOP_CLOCK,\n  SET_NOW,\n]\n\ntype UpdateNowAction = ReturnType<typeof updateNow>\ntype StartClockAction = ReturnType<typeof startClock>\ntype StopClockAction = ReturnType<typeof stopClock>\nexport /* for testing */ type SetNowAction = ReturnType<typeof setNow>\n\nexport type IoAction =\n  | UpdateNowAction\n  | StartClockAction\n  | StopClockAction\n  | SetNowAction\n\nfunction isIoAction(action: Action): action is IoAction {\n  return ioActionTypes.includes(action.type)\n}\n\n//\n//                       _|      _|\n//   _|_|_|    _|_|_|  _|_|_|_|        _|_|    _|_|_|\n// _|    _|  _|          _|      _|  _|    _|  _|    _|\n// _|    _|  _|          _|      _|  _|    _|  _|    _|\n//   _|_|_|    _|_|_|      _|_|  _|    _|_|    _|    _|\n//\n//\n//\n//                                           _|\n//   _|_|_|  _|  _|_|    _|_|      _|_|_|  _|_|_|_|    _|_|    _|  _|_|    _|_|_|\n// _|        _|_|      _|_|_|_|  _|    _|    _|      _|    _|  _|_|      _|_|\n// _|        _|        _|        _|    _|    _|      _|    _|  _|            _|_|\n//   _|_|_|  _|          _|_|_|    _|_|_|      _|_|    _|_|    _|        _|_|_|\n//\n//\n\nexport const updateNow = () => <const> ({\n  type: UPDATE_NOW,\n})\n\nexport const startClock = () => <const> ({\n  type: START_CLOCK,\n})\n\nexport const stopClock = () => <const> ({\n  type: STOP_CLOCK,\n})\n\nexport /* for testing */ const setNow = (now: Date) => <const> ({\n  type: SET_NOW,\n  payload: {\n    now,\n  },\n})\n\n//\n//                           _|\n// _|  _|_|    _|_|      _|_|_|  _|    _|    _|_|_|    _|_|    _|  _|_|\n// _|_|      _|_|_|_|  _|    _|  _|    _|  _|        _|_|_|_|  _|_|\n// _|        _|        _|    _|  _|    _|  _|        _|        _|\n// _|          _|_|_|    _|_|_|    _|_|_|    _|_|_|    _|_|_|  _|\n//\n//\n\nexport const createIoReducer: (initialState: IoState) => Reducer<IoState, Action> = (initialState) => (state = initialState, action) => {\n  if (!isIoAction(action)) {\n    return state\n  }\n\n  switch (action.type) {\n    case UPDATE_NOW: return state\n    case START_CLOCK: return state\n    case STOP_CLOCK: return state\n    case SET_NOW: return {\n      ...state,\n      now: action.payload.now,\n    }\n  }\n}\n\n//\n//                                           _|\n//   _|_|_|    _|_|    _|  _|_|  _|      _|        _|_|_|    _|_|\n// _|_|      _|_|_|_|  _|_|      _|      _|  _|  _|        _|_|_|_|\n//     _|_|  _|        _|          _|  _|    _|  _|        _|\n// _|_|_|      _|_|_|  _|            _|      _|    _|_|_|    _|_|_|\n//\n//\n\n@injectable()\nexport class IoService {\n  private startClockTask: ForkEffect & Task | null = null // NOTE: Redux-Saga の型定義のバグ？（ `ForkEffect extends Task` とするか、 `cancel(task: ForkEffect): CancelEffect` とオーバーロードするかすべき）\n\n  public /* for testing */ *updateNowSaga(): SagaIterator {\n    yield put(setNow(new Date))\n  }\n\n  public /* for testing */ *startClockSaga(): SagaIterator {\n    // tslint:disable-next-line:no-loop-statement\n    while (true) {\n      yield call(delay, 1000 - new Date().getMilliseconds())\n\n      yield put(updateNow())\n    }\n  }\n\n  public /* for testing */ *stopClockSaga(): SagaIterator {\n    if (this.startClockTask !== null) {\n      yield cancel(this.startClockTask)\n\n      // Resume the cancelled task\n      // tslint:disable-next-line:no-object-mutation\n      this.startClockTask = yield takeEvery(START_CLOCK, [this, this.startClockSaga])\n    }\n  }\n\n  public *rootSaga(): SagaIterator {\n    yield takeEvery(UPDATE_NOW, [this, this.updateNowSaga])\n    // tslint:disable-next-line:no-object-mutation\n    this.startClockTask = yield takeEvery(START_CLOCK, [this, this.startClockSaga])\n    yield takeEvery(STOP_CLOCK, [this, this.stopClockSaga])\n  }\n}\n","export function isUrl(input: string): input is string.Url {\n  try {\n    // tslint:disable-next-line:no-unused-expression\n    new URL(input)\n\n    return true\n  } catch (_error) {\n    return false\n  }\n}\n","import assert from 'assert'\nimport { inject, injectable } from 'inversify'\nimport { Action, Reducer } from 'redux'\nimport { SagaIterator } from 'redux-saga'\nimport { call, put, select } from 'redux-saga/effects'\nimport { v4 } from 'uuid'\n\nimport Task from '~/domain/entity/Task'\nimport TaskRepository from '~/domain/repository/TaskRepository'\nimport TaskId from '~/domain/vo/TaskId'\nimport { takeEvery } from '~/lib/boni/redux-saga/effects'\nimport { LogicError } from '~/lib/errors'\nimport typed from '~/lib/typed'\nimport { State } from '~/redux'\n\n//\n//             _|                  _|\n//   _|_|_|  _|_|_|_|    _|_|_|  _|_|_|_|    _|_|\n// _|_|        _|      _|    _|    _|      _|_|_|_|\n//     _|_|    _|      _|    _|    _|      _|\n// _|_|_|        _|_|    _|_|_|      _|_|    _|_|_|\n//\n//\n\nexport interface ReminderState {\n  tasks: Task[]\n  errors: Record<string, Error> // id -> error\n}\n\n//\n//                       _|      _|\n//   _|_|_|    _|_|_|  _|_|_|_|        _|_|    _|_|_|\n// _|    _|  _|          _|      _|  _|    _|  _|    _|\n// _|    _|  _|          _|      _|  _|    _|  _|    _|\n//   _|_|_|    _|_|_|      _|_|  _|    _|_|    _|    _|\n//\n//\n//\n//   _|\n// _|_|_|_|  _|    _|  _|_|_|      _|_|      _|_|_|\n//   _|      _|    _|  _|    _|  _|_|_|_|  _|_|\n//   _|      _|    _|  _|    _|  _|            _|_|\n//     _|_|    _|_|_|  _|_|_|      _|_|_|  _|_|_|\n//                 _|  _|\n//             _|_|    _|\n\nexport /* for testing */ const ADD_TASK_ASYNC = '@@react-app-prototype/reminder/ADD_TASK_ASYNC'\nexport /* for testing */ const CHANGE_TASK_CONTENT_ASYNC = '@@react-app-prototype/reminder/CHANGE_TASK_CONTENT_ASYNC'\nexport /* for testing */ const MARK_TASK_AS_DONE_ASYNC = '@@react-app-prototype/reminder/MARK_TASK_AS_DONE_ASYNC'\nexport /* for testing */ const MARK_TASK_AS_UNDONE_ASYNC = '@@react-app-prototype/reminder/MARK_TASK_AS_UNDONE_ASYNC'\nexport /* for testing */ const DELETE_TASK_ASYNC = '@@react-app-prototype/reminder/DELETE_TASK_ASYNC'\nexport /* for testing */ const MOVE_TASK = '@@react-app-prototype/reminder/MOVE_TASK' // TODO: rename?\nexport /* for testing */ const PUSH_TASK = '@@react-app-prototype/reminder/PUSH_TASK'\nexport /* for testing */ const REMOVE_TASK = '@@react-app-prototype/reminder/REMOVE_TASK'\nexport /* for testing */ const CHECK_TASK = '@@react-app-prototype/reminder/CHECK_TASK'\nexport /* for testing */ const PUSH_ERROR = '@@react-app-prototype/reminder/PUSH_ERROR'\nconst REMOVE_ERROR = '@@react-app-prototype/reminder/REMOVE_ERROR'\n\nconst reminderActionTypes = [\n  ADD_TASK_ASYNC,\n  CHANGE_TASK_CONTENT_ASYNC,\n  MARK_TASK_AS_DONE_ASYNC,\n  MARK_TASK_AS_UNDONE_ASYNC,\n  DELETE_TASK_ASYNC,\n  MOVE_TASK,\n  PUSH_TASK,\n  REMOVE_TASK,\n  CHECK_TASK,\n  PUSH_ERROR,\n  REMOVE_ERROR,\n]\n\ntype AddTaskAsyncAction = ReturnType<typeof addTaskAsync>\ntype ChangeTaskContentAsyncAction = ReturnType<typeof changeTaskContentAsync>\ntype MarkTaskAsDoneAsyncAction = ReturnType<typeof markTaskAsDoneAsync>\ntype MarkTaskAsUndoneAsyncAction = ReturnType<typeof markTaskAsUndoneAsync>\ntype DeleteTaskAsyncAction = ReturnType<typeof deleteTaskAsync>\ntype MoveTaskAction = ReturnType<typeof moveTask>\ntype PushTaskAction = ReturnType<typeof pushTask>\ntype RemoveTaskAction = ReturnType<typeof removeTask>\ntype CheckTaskAction = ReturnType<typeof checkTask>\ntype PushErrorAction = ReturnType<typeof pushError>\ntype RemoveErrorAction = ReturnType<typeof removeError>\n\nexport type ReminderAction =\n  | AddTaskAsyncAction\n  | ChangeTaskContentAsyncAction\n  | MarkTaskAsDoneAsyncAction\n  | MarkTaskAsUndoneAsyncAction\n  | DeleteTaskAsyncAction\n  | MoveTaskAction\n  | PushTaskAction\n  | RemoveTaskAction\n  | CheckTaskAction\n  | PushErrorAction\n  | RemoveErrorAction\n\nfunction isReminderAction(action: Action): action is ReminderAction {\n  return reminderActionTypes.includes(action.type)\n}\n\n//\n//                       _|      _|\n//   _|_|_|    _|_|_|  _|_|_|_|        _|_|    _|_|_|\n// _|    _|  _|          _|      _|  _|    _|  _|    _|\n// _|    _|  _|          _|      _|  _|    _|  _|    _|\n//   _|_|_|    _|_|_|      _|_|  _|    _|_|    _|    _|\n//\n//\n//\n//                                           _|\n//   _|_|_|  _|  _|_|    _|_|      _|_|_|  _|_|_|_|    _|_|    _|  _|_|    _|_|_|\n// _|        _|_|      _|_|_|_|  _|    _|    _|      _|    _|  _|_|      _|_|\n// _|        _|        _|        _|    _|    _|      _|    _|  _|            _|_|\n//   _|_|_|  _|          _|_|_|    _|_|_|      _|_|    _|_|    _|        _|_|_|\n//\n//\n\nexport const addTaskAsync = () => <const> ({\n  type: ADD_TASK_ASYNC,\n})\n\nexport const changeTaskContentAsync = (taskId: TaskId, content: string) => <const> ({\n  type: CHANGE_TASK_CONTENT_ASYNC,\n  payload: {\n    taskId,\n    content,\n  },\n})\n\nexport const markTaskAsDoneAsync = (taskId: TaskId) => <const> ({\n  type: MARK_TASK_AS_DONE_ASYNC,\n  payload: {\n    taskId,\n  },\n})\n\nexport const markTaskAsUndoneAsync = (taskId: TaskId) => <const> ({\n  type: MARK_TASK_AS_UNDONE_ASYNC,\n  payload: {\n    taskId,\n  },\n})\n\nexport const deleteTaskAsync = (taskId: TaskId) => <const> ({\n  type: DELETE_TASK_ASYNC,\n  payload: {\n    taskId,\n  },\n})\n\nexport const moveTask = (sourceIndex: number, targetIndex: number) => <const> ({\n  type: MOVE_TASK,\n  payload: {\n    sourceIndex,\n    targetIndex,\n  },\n})\n\nexport const pushTask = (task: Task) => <const> ({\n  type: PUSH_TASK,\n  payload: {\n    task,\n  },\n})\n\nexport const removeTask = (taskId: TaskId) => <const> ({\n  type: REMOVE_TASK,\n  payload: {\n    taskId,\n  },\n})\n\nexport const checkTask = (taskId: TaskId, task: Task) => <const> ({\n  type: CHECK_TASK,\n  payload: {\n    taskId,\n    task,\n  },\n})\n\nexport /* for testing */ const pushError = (errorId: string, error: Error) => <const> ({\n  type: PUSH_ERROR,\n  payload: {\n    errorId,\n    error,\n  },\n})\n\nexport const removeError = (errorId: string) => <const> ({\n  type: REMOVE_ERROR,\n  payload: {\n    errorId,\n  },\n})\n\n//\n//                           _|\n// _|  _|_|    _|_|      _|_|_|  _|    _|    _|_|_|    _|_|    _|  _|_|\n// _|_|      _|_|_|_|  _|    _|  _|    _|  _|        _|_|_|_|  _|_|\n// _|        _|        _|    _|  _|    _|  _|        _|        _|\n// _|          _|_|_|    _|_|_|    _|_|_|    _|_|_|    _|_|_|  _|\n//\n//\n\nexport const createReminderReducer: (initialState: ReminderState) => Reducer<ReminderState, Action> = (initialState) => (state = initialState, action) => {\n  if (!isReminderAction(action)) {\n    return state\n  }\n\n  switch (action.type) {\n    case ADD_TASK_ASYNC: return state\n    case CHANGE_TASK_CONTENT_ASYNC: {\n      const i = state.tasks.findIndex((task) => task.id.equals(action.payload.taskId))\n\n      if (i === -1) {\n        throw new Error // TODO:\n      }\n\n      return {\n        ...state,\n        tasks: [\n          ...state.tasks.slice(0, i),\n          state.tasks[i].with({ content: action.payload.content }),\n          ...state.tasks.slice(i + 1),\n        ],\n      }\n    }\n    case MARK_TASK_AS_DONE_ASYNC: {\n      const i = state.tasks.findIndex((task) => task.id.equals(action.payload.taskId))\n\n      if (i === -1) {\n        throw new Error // TODO:\n      }\n\n      return {\n        ...state,\n        tasks: [\n          ...state.tasks.slice(0, i),\n          state.tasks[i].with({ done: true }),\n          ...state.tasks.slice(i + 1),\n        ],\n      }\n    }\n    case MARK_TASK_AS_UNDONE_ASYNC: {\n      const i = state.tasks.findIndex((task) => task.id.equals(action.payload.taskId))\n\n      if (i === -1) {\n        throw new Error // TODO:\n      }\n\n      return {\n        ...state,\n        tasks: [\n          ...state.tasks.slice(0, i),\n          state.tasks[i].with({ done: false }),\n          ...state.tasks.slice(i + 1),\n        ],\n      }\n    }\n    case DELETE_TASK_ASYNC: return state\n    case MOVE_TASK: {\n      const restTasks = [\n        ...state.tasks.slice(0, action.payload.sourceIndex),\n        ...state.tasks.slice(action.payload.sourceIndex + 1),\n      ]\n\n      return {\n        ...state,\n        tasks: [\n          ...restTasks.slice(0, action.payload.targetIndex),\n          state.tasks[action.payload.sourceIndex],\n          ...restTasks.slice(action.payload.targetIndex),\n        ],\n      }\n    }\n    case PUSH_TASK: return {\n      ...state,\n      tasks: [\n        ...state.tasks,\n        action.payload.task,\n      ],\n    }\n    case REMOVE_TASK: {\n      const i = state.tasks.findIndex((task) => task.id.equals(action.payload.taskId))\n\n      if (i === -1) {\n        throw new Error // TODO:\n      }\n\n      return {\n        ...state,\n        tasks: [\n          ...state.tasks.slice(0, i),\n          ...state.tasks.slice(i + 1),\n        ],\n      }\n    }\n    case CHECK_TASK: {\n      assert(action.payload.taskId.equals(action.payload.task.id))\n\n      return state\n    }\n    case PUSH_ERROR: return {\n      ...state,\n      errors: {\n        ...state.errors,\n        [action.payload.errorId]: action.payload.error,\n      },\n    }\n    case REMOVE_ERROR: {\n      if (!(action.payload.errorId in state.errors)) {\n        throw new Error // TODO:\n      }\n\n      const { [action.payload.errorId]: removedError, ...restErrors } = state.errors\n\n      return {\n        ...state,\n        errors: restErrors,\n      }\n    }\n  }\n}\n\n//\n//                                           _|\n//   _|_|_|    _|_|    _|  _|_|  _|      _|        _|_|_|    _|_|\n// _|_|      _|_|_|_|  _|_|      _|      _|  _|  _|        _|_|_|_|\n//     _|_|  _|        _|          _|  _|    _|  _|        _|\n// _|_|_|      _|_|_|  _|            _|      _|    _|_|_|    _|_|_|\n//\n//\n\n@injectable()\nexport default class ReminderService {\n  constructor(\n    @inject('TaskRepository') public taskRepository: TaskRepository\n  ) {}\n\n  private *addTaskAsyncSaga(): SagaIterator {\n    const task = new Task({\n      id: new TaskId(v4()),\n      content: '',\n      done: false,\n    })\n\n    yield call(this.taskRepository.store, task)\n    yield put(pushTask(task))\n  }\n\n  private *changeTaskContentAsyncSaga({ payload: { taskId, content } }: ChangeTaskContentAsyncAction): SagaIterator {\n    const task: ResultType<ReturnType<this['taskRepository']['findById']>> = yield call(this.taskRepository.findById, taskId)\n\n    try {\n      task.content = content // tslint:disable-line:no-object-mutation\n    } catch (error) {\n      if (error instanceof Error) {\n        yield put(pushError(v4(), error)) // TODO:\n\n        return\n      }\n\n      throw new TypeError(typed<[string]>`${ String(error) } is not an error.`)\n    }\n\n    yield call(this.taskRepository.store, task)\n    yield put(checkTask(taskId, task))\n  }\n\n  private *markTaskAsDoneAsyncSaga({ payload: { taskId } }: MarkTaskAsDoneAsyncAction): SagaIterator {\n    const task: ResultType<ReturnType<this['taskRepository']['findById']>> = yield call(this.taskRepository.findById, taskId)\n\n    task.done = true // tslint:disable-line:no-object-mutation\n\n    yield call(this.taskRepository.store, task)\n    yield put(checkTask(taskId, task))\n  }\n\n  private *markTaskAsUndoneAsyncSaga({ payload: { taskId } }: MarkTaskAsUndoneAsyncAction): SagaIterator {\n    const task: ResultType<ReturnType<this['taskRepository']['findById']>> = yield call(this.taskRepository.findById, taskId)\n\n    task.done = false // tslint:disable-line:no-object-mutation\n\n    yield call(this.taskRepository.store, task)\n    yield put(checkTask(taskId, task))\n  }\n\n  private *deleteTaskAsyncSaga({ payload: { taskId } }: DeleteTaskAsyncAction): SagaIterator {\n    yield call(this.taskRepository.remove, taskId)\n    yield put(removeTask(taskId))\n  }\n\n  private *checkTaskSaga({ payload: { taskId, task } }: CheckTaskAction): SagaIterator {\n    const { reminder: { tasks: stateTasks } }: State = yield select()\n\n    const stateTask = stateTasks.find(({ id }) => id.equals(taskId))\n\n    if (stateTask === undefined) {\n      throw new Error // TODO:\n    }\n\n    if (!stateTask.equals(task)) {\n      yield put(pushError(v4(), new LogicError)) // TODO:\n    }\n  }\n\n  public *rootSaga(): SagaIterator {\n    yield takeEvery(ADD_TASK_ASYNC, [this, this.addTaskAsyncSaga])\n    yield takeEvery(CHANGE_TASK_CONTENT_ASYNC, [this, this.changeTaskContentAsyncSaga])\n    yield takeEvery(MARK_TASK_AS_DONE_ASYNC, [this, this.markTaskAsDoneAsyncSaga])\n    yield takeEvery(MARK_TASK_AS_UNDONE_ASYNC, [this, this.markTaskAsUndoneAsyncSaga])\n    yield takeEvery(DELETE_TASK_ASYNC, [this, this.deleteTaskAsyncSaga])\n    yield takeEvery(CHECK_TASK, [this, this.checkTaskSaga])\n  }\n}\n","import Hashable from '~/lib/trait/Hashable'\n\nexport default interface Coordinates extends Chess.Coordinates {} // tslint:disable-line:no-empty-interface\n\nexport default class Coordinates extends Hashable implements Class.ValueObject<Chess.Coordinates> {\n  constructor({ file, rank }: Chess.Coordinates) {\n    super()\n\n    this.file = file\n    this.rank = rank\n  }\n\n  public hashCode() {\n    // tslint:disable-next-line:no-let\n    let result = this.file.hashCode()\n\n    result = 31 * result + this.rank.hashCode()\n\n    return result\n  }\n}\n","export default function equalsChessmen(x: Chess.Chessman, y: Chess.Chessman): boolean {\n  return x.symbol === y.symbol\n}\n","export default function yieldThis<T extends unknown, U>(that: T, decorate: (that: T) => U): U {\n  return decorate(that)\n}\n","import Id from '~/domain/vo/Id'\nimport Eq from '~/lib/trait/Eq'\nimport Hashable from '~/lib/trait/Hashable'\n\n// TODO: move?\ninterface Identifiable {\n  id: Id\n}\n\nexport default abstract class Entity extends Hashable implements Identifiable, Eq {\n  constructor(\n    public readonly id: Id\n  ) {\n    super()\n  }\n}\n","import TaskId from '~/domain/vo/TaskId'\nimport yieldThis from '~/lib/extensions/Unknown/yieldThis'\nimport { asBoolean, asObject, asString } from '~/lib/validators/commonValidators'\nimport Entity from './Entity'\n\nconst asIdSerializedTask = asObject('an Id-serialized Task', (input) => ({\n  id: asString(input.id),\n  content: asString(input.content),\n  done: asBoolean(input.done),\n}))\n\ninterface TaskRequest {\n  id: TaskId\n  content: string\n  done: boolean\n}\n\nexport default class Task extends Entity {\n  private _content: string\n  private _done: boolean\n\n  constructor({\n    id,\n    content,\n    done,\n  }: TaskRequest) {\n    super(id)\n\n    this._content = content\n    this._done = done\n  }\n\n  public static deserialize(serialized: string): Task {\n    const deserialized = yieldThis(asIdSerializedTask(JSON.parse(serialized)), (({ id, content, done }) => ({\n      id: TaskId.deserialize(id),\n      content,\n      done,\n    })))\n\n    return new Task(deserialized)\n  }\n\n  public serialize(): string {\n    return JSON.stringify({\n      id: this.id.serialize(),\n      content: this.content,\n      done: this.done,\n    })\n  }\n\n  public hashCode() {\n    // tslint:disable-next-line:no-let\n    let result = 17\n\n    result = 31 * result + this.id.hashCode()\n    result = 31 * result + this.content.hashCode()\n    result = 31 * result + this.done.hashCode()\n\n    return result\n  }\n\n  public with({\n    content = this.content,\n    done = this.done,\n  }: Partial<Alt.Omit<TaskRequest, 'id'>>): Task {\n    return new Task({ id: this.id, content, done })\n  }\n\n  get content() {\n    return this._content\n  }\n\n  set content(value) {\n    this._content = value // tslint:disable-line:no-object-mutation\n  }\n\n  get done() {\n    return this._done\n  }\n\n  set done(value) {\n    this._done = value // tslint:disable-line:no-object-mutation\n  }\n}\n","export default function hashCode(x: number) {\n  const v = doubleToLongBits(x)\n\n  return v ^ (v / 2 ** 32)\n}\n\n// TODO: remove\nfunction doubleToLongBits(value: number): number {\n  const buf = Buffer.allocUnsafe(8)\n\n  buf.writeDoubleBE(value, 0)\n\n  return 2 ** 32 * buf.readUInt32BE(0) + buf.readUInt32BE(4)\n}\n","import React from 'react'\nimport { Route as OriginalRoute, RouteComponentProps, RouteProps } from 'react-router'\n\nimport CircularProgress from '@material-ui/core/CircularProgress'\n\nconst withSuspense: (Component: React.LazyExoticComponent<React.ComponentType<RouteComponentProps>>) => React.ComponentType<RouteComponentProps> = (Component) => (props) => (\n  <React.Suspense fallback={ <CircularProgress /> }>\n    <Component { ...props } />\n  </React.Suspense>\n)\n\ninterface Props extends Alt.Omit<RouteProps, 'render' | 'component' | 'children'> {\n  // TODO: ban mandatory props\n  component?: Required<RouteProps>['component'] | React.LazyExoticComponent<Required<RouteProps>['component']>\n}\n\nconst Route: React.FunctionComponent<Props> = ({ component, ...restProps }) => {\n  if (component === undefined) {\n    return <OriginalRoute { ...restProps } />\n  }\n\n  if ('_result' in component) { // FIXME: if LazyExoticComponent\n    return <OriginalRoute component={ withSuspense(component) } { ...restProps } />\n  } else {\n    return <OriginalRoute component={ component } { ...restProps } />\n  }\n}\n\nexport default Route\n","import React from 'react'\nimport { hot } from 'react-hot-loader/root'\nimport { Redirect, Switch, useLocation } from 'react-router'\n\nimport Route from '~/lib/components/Route'\n\nexport /* for testing */ const HomePage = React.lazy(() => import(/* webpackChunkName: \"home\" */ './HomePage'))\nexport /* for testing */ const ChessPage = React.lazy(() => import(/* webpackChunkName: \"chess\" */ './ChessPage'))\nexport /* for testing */ const CounterPage = React.lazy(() => import(/* webpackChunkName: \"counter\" */ './CounterPage'))\nexport /* for testing */ const InfoPage = React.lazy(() => import(/* webpackChunkName: \"info\" */ './InfoPage'))\nexport /* for testing */ const ReminderPage = React.lazy(() => import(/* webpackChunkName: \"reminder\" */ './ReminderPage'))\nexport /* for testing */ const NoMatch = React.lazy(() => import(/* webpackChunkName: \"noMatch\" */ './NoMatch'))\n\nconst App: React.FunctionComponent = () => {\n  const location = useLocation()\n\n  if (location.pathname === '/' && location.hash !== '') {\n    const pathname = /^#(.*)$/.exec(location.hash)?.[1]\n\n    // TODO: shape check\n\n    return <Redirect to={ { pathname } } />\n  }\n\n  return (\n    <Switch>\n      <Route exact strict sensitive path=\"/\" component={ HomePage } />\n      <Route exact strict sensitive path=\"/chess\" component={ ChessPage } />\n      <Route exact strict sensitive path=\"/counter\" component={ CounterPage } />\n      <Route exact strict sensitive path=\"/info\" component={ InfoPage } />\n      <Route exact strict sensitive path=\"/reminder\" component={ ReminderPage } />\n      <Route path=\"*\" component={ NoMatch } />\n    </Switch>\n  )\n}\n\nexport default hot(App)\n","import React from 'react'\nimport { IntlConfig, IntlProvider as OriginalIntlProvider } from 'react-intl'\n\nimport IntlProviderContext from '~/lib/contexts/IntlProviderContext'\nimport { Tag } from '~/lib/languageNameSolver'\n\ntype DefaultIntlConfig = Pick<IntlConfig, 'formats' | 'messages' | 'timeZone' | 'textComponent' | 'defaultLocale' | 'defaultFormats' | 'onError'>\n\ntype OriginalIntlProviderProps = Alt.Omit<IntlConfig, keyof DefaultIntlConfig> & Partial<DefaultIntlConfig>\n\nexport interface OwnProps extends Alt.Omit<OriginalIntlProviderProps, 'locale' | 'formats' | 'messages'> {\n  availableLocales: Tag[]\n}\n\nexport type StateProps = Pick<OriginalIntlProviderProps, 'locale' | 'formats' | 'messages'>\n\ntype Props =\n  & OwnProps\n  & StateProps\n\n// NOTE: key が無い場合、 FormattedMessage 等は re-render されるが、 useIntl の結果は更新されない。\n// TODO: intl context でない要素を re-render しないようにする。 https://github.com/formatjs/react-intl/issues/234#issuecomment-163366518 によると現時点では難しいらしい。\n// cf. https://github.com/formatjs/react-intl/issues/371#issuecomment-275703796\nconst IntlProvider: React.FunctionComponent<Props> = ({ availableLocales, ...props }) => (\n  <IntlProviderContext.Provider value={ { availableLocales } }>\n    <OriginalIntlProvider key={ props.locale } textComponent={ React.Fragment } { ...props } />\n  </IntlProviderContext.Provider>\n)\n\nexport default IntlProvider\n","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport IntlProvider, { OwnProps, StateProps } from '~/lib/components/IntlProvider'\nimport { State } from '~/redux'\n\nconst mapStateToProps = ({ localeSelector: { locale, formats, messages } }: State, {}: React.PropsWithChildren<OwnProps>): StateProps => ({\n  locale,\n  formats,\n  messages,\n})\n\nexport default connect(mapStateToProps)(IntlProvider)\n","import indigo from '@material-ui/core/colors/indigo'\nimport teal from '@material-ui/core/colors/teal'\nimport createMuiTheme from '@material-ui/core/styles/createMuiTheme'\n\ninterface Props {\n  dark: boolean\n}\n\nconst configureTheme = ({ dark }: Props) => createMuiTheme({\n  typography: {\n    fontFamily: 'sans-serif',\n  },\n  props: {\n    MuiLink: {\n      variant: 'body1',\n    },\n    MuiButton: {\n      variant: 'outlined',\n    },\n    MuiFormControl: {\n      variant: 'outlined',\n    },\n    MuiTextField: {\n      variant: 'outlined',\n    },\n    MuiCheckbox: {\n      color: 'primary',\n    },\n  },\n  palette: {\n    primary: teal,\n    secondary: indigo,\n    type: dark ? 'dark' : 'light',\n  },\n})\n\nexport default configureTheme\n","import { Action, Middleware, Reducer } from 'redux'\n\nexport type Invariant<S> = (state: S) => boolean\n\nconst createInvariantMiddleware: <S, A extends Action>(reducer: Reducer<S, A>, invariant: Invariant<S>) => Middleware = (reducer, invariant) => (store) => (next) => (action) => {\n  const oldState = store.getState()\n  const newState = reducer(oldState, action)\n\n  if (!invariant(newState)) {\n    throw new Error('Invariant Violation') // TODO\n  }\n\n  return next(action)\n}\n\nexport default createInvariantMiddleware\n","import { routerMiddleware } from 'connected-react-router'\nimport { History } from 'history'\nimport { Action, Reducer, Store, applyMiddleware, compose, createStore } from 'redux'\nimport { createLogger } from 'redux-logger'\nimport createSagaMiddleware, { SagaMiddleware, SagaMiddlewareOptions } from 'redux-saga'\n\nimport createInvariantMiddleware, { Invariant } from '~/lib/middleware/invariantMiddleware/createInvariantMiddleware'\n\nconst logger = createLogger({\n  diff: true,\n})\n\nconst composeEnhancers =\n  process.env.NODE_ENV === 'development'\n    ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ?? compose\n    : compose\n\nexport default function configureStore<S, A extends Action>(history: History, reducer: Reducer<S, A>, invariant: Invariant<S>, sagaMiddlewareOptions: SagaMiddlewareOptions): {\n  store: Store<S, A>\n  sagaMiddleware: SagaMiddleware\n} {\n  const sagaMiddleware = createSagaMiddleware(sagaMiddlewareOptions)\n  const invariantMiddleware = createInvariantMiddleware(reducer, invariant)\n\n  const storeEnhancers = [\n    applyMiddleware(sagaMiddleware),\n    applyMiddleware(invariantMiddleware),\n    applyMiddleware(routerMiddleware(history)),\n  ]\n\n  if (process.env.NODE_ENV === 'development') {\n    storeEnhancers.push(applyMiddleware(logger)) // tslint:disable-line:no-array-mutation\n  }\n\n  const store = createStore(\n    reducer,\n    composeEnhancers(...storeEnhancers)\n  )\n\n  return {\n    store,\n    sagaMiddleware, // applied\n  }\n}\n","import { History } from 'history'\nimport React from 'react'\nimport { Provider as OriginalProvider } from 'react-redux'\nimport { Action, Reducer, Store } from 'redux'\nimport { Saga } from 'redux-saga'\n\nimport configureStore from './configureStore'\nimport { UnreachableError } from './lib/errors'\nimport { Invariant } from './lib/middleware/invariantMiddleware/createInvariantMiddleware'\n\ntype ErrorCause = 'component' | 'reducer' | 'saga' | 'rootSaga'\n\ninterface Props<S, A extends Action> {\n  /**\n   * @param children that throws {error}\n   * @param store when {error} is thrown\n   */\n  renderError(error: unknown, children: React.ReactNode, store: Store<S, A>, cause: ErrorCause): React.ReactNode\n}\n\ninterface State {\n  hasError: boolean\n  error?: unknown\n  cause?: ErrorCause\n}\n\nconst MAXIMUM_RECURSION_DEPTH = 100\n\nexport default function createProvider<S, A extends Action>(history: History, reducer: Reducer<S, A>, invariant: Invariant<S>, saga: Saga) {\n  let recursionDepth = 0 // tslint:disable-line:no-let\n\n  return class Provider extends React.Component<Props<S, A>, State> {\n    private store: Store<S, A>\n\n    // NOTE: https://github.com/DefinitelyTyped/DefinitelyTyped/blob/826ce0f1ce1d1887d199986283630d6f63075ad5/types/react/index.d.ts#L419 にも関わらず、初期化されていない state は null であるため、初期化を強制するためにプロパティ宣言を行う。\n    public state: Readonly<State> = {\n      hasError: false,\n    }\n\n    constructor(props: Props<S, A>) {\n      super(props)\n\n      const exceptionNeutralReducer: Reducer<S, A> = (state, action) => {\n        try {\n          return reducer(state, action)\n        } catch (error) {\n          this.handleError(error, 'reducer')\n\n          if (state === undefined) {\n            throw new UnreachableError()\n          }\n\n          return state\n        }\n      }\n\n      const { store, sagaMiddleware } = configureStore(history, exceptionNeutralReducer, invariant, {\n        onError: (error) => this.handleError(error, 'saga'),\n      })\n\n      this.store = store\n\n      sagaMiddleware.run(saga).toPromise().catch((error) => this.handleError(error, 'rootSaga'))\n    }\n\n    public static getDerivedStateFromError = (error: unknown) => ({\n      hasError: true,\n      error,\n      cause: 'component',\n    })\n\n    private handleError = (error: unknown, cause: ErrorCause) => {\n      this.setState({\n        hasError: true,\n        error,\n        cause,\n      })\n    }\n\n    public render() {\n      const { renderError, children } = this.props\n      const { hasError, error, cause } = this.state\n\n      if (hasError) {\n        ++recursionDepth\n\n        if (recursionDepth > MAXIMUM_RECURSION_DEPTH) {\n          throw new Error('Maximum recursion depth exceeded')\n        }\n\n        if (cause === undefined) {\n          throw new Error // TODO\n        }\n\n        return renderError(error, children, this.store, cause)\n      }\n\n      return (\n        <OriginalProvider store={ this.store }>\n          { children }\n        </OriginalProvider>\n      )\n    }\n  }\n}\n","export default function hashCode(b: boolean) {\n  return b ? 1 : 0\n}\n","import hashCode from './hashCode'\n\nexport {}\n\ndeclare global {\n  interface Boolean {\n    hashCode(): number\n  }\n}\n\nObject.defineProperty(Boolean.prototype, 'hashCode', {\n  value(this: boolean) {\n    return hashCode(this)\n  },\n})\n","import hashCode from './hashCode'\n\nexport {}\n\ndeclare global {\n  interface Number {\n    hashCode(): number\n  }\n}\n\nObject.defineProperty(Number.prototype, 'hashCode', {\n  value(this: number) {\n    return hashCode(this)\n  },\n})\n","export default function hashCode(s: string) {\n  // tslint:disable-next-line:no-let\n  let result = 0\n\n  // tslint:disable-next-line:no-loop-statement\n  for (const c of s) {\n    result = 31 * result + c.charCodeAt(0)\n  }\n\n  return result\n}\n","import hashCode from './hashCode'\n\nexport {}\n\ndeclare global {\n  interface String {\n    hashCode(): number\n  }\n}\n\nObject.defineProperty(String.prototype, 'hashCode', {\n  value(this: string) {\n    return hashCode(this)\n  },\n})\n","// TODO: remove\n\nimport { compose } from 'redux'\nexport {}\n\ndeclare global {\n  interface ArrayConstructor {\n    isArray(arg: unknown): arg is readonly unknown[]\n  }\n\n  interface ObjectConstructor {\n    keys<K extends Index>(o: Record<K, unknown>): K[]\n    entries<K extends Index, V>(o: Record<K, V> | ArrayLike<V>): Array<[K, V]>\n  }\n\n  // TODO: use globalThis\n  interface Window {\n    __REDUX_DEVTOOLS_EXTENSION_COMPOSE__?: typeof compose\n  }\n}\n","/* tslint:disable:no-import-side-effect */\n\nimport { ConnectedRouter } from 'connected-react-router'\nimport { History, createBrowserHistory } from 'history'\nimport { Map } from 'immutable'\nimport { Container } from 'inversify'\nimport { Provider as ServiceProdiver } from 'inversify-react'\nimport { SnackbarProvider } from 'notistack'\nimport React, { useCallback, useMemo } from 'react'\nimport { DndProvider } from 'react-dnd'\nimport HTML5Backend from 'react-dnd-html5-backend'\nimport ReactDOM from 'react-dom'\nimport Helmet from 'react-helmet'\nimport { Saga } from 'redux-saga'\nimport 'reflect-metadata'\n\nimport CssBaseline from '@material-ui/core/CssBaseline'\nimport { MuiThemeProvider } from '@material-ui/core/styles'\nimport useMediaQuery from '@material-ui/core/useMediaQuery'\n\nimport App from './components/App'\nimport IntlProvider from './components/IntlProvider'\nimport configureTheme from './configureTheme'\nimport createProvider from './createProvider'\nimport './lib/extensions/Boolean/Boolean.prototype.hashCode'\nimport './lib/extensions/Number/Number.prototype.hashCode'\nimport './lib/extensions/String/String.prototype.hashCode'\nimport typed from './lib/typed'\nimport Service, { State, createReducer, invariant } from './redux'\nimport './types/globalTypes'\n\nimport formats from '../public/formats/en.json' // tslint:disable-line:no-relative-imports\nimport messages from '../public/messages/en.json' // tslint:disable-line:no-relative-imports\n\nconst containerImport = process.env.NODE_ENV === 'production' ? import('./container') : import('./container.dev')\n\nconst initialState: Alt.Omit<State, 'router'> = {\n  chess: {\n    board: {\n      chessmen: Map(),\n    },\n  },\n  counter: {\n    count: 0,\n  },\n  io: {\n    now: new Date,\n  },\n  localeSelector: {\n    locale: 'en',\n    formats,\n    messages,\n    errors: [],\n  },\n  reminder: {\n    tasks: [],\n    errors: {},\n  },\n}\n\ninterface Props {\n  history: History\n  container: Container\n}\n\n/**\n * The entry point component.\n */\nconst Main: React.FunctionComponent<Props> = ({ history, container }) => {\n  const dark = useMediaQuery('(prefers-color-scheme: dark)')\n\n  const theme = useMemo(() => configureTheme({ dark }), [dark])\n\n  const renderError = useCallback((error: unknown) => {\n    if (error instanceof Error) {\n      // NOTE: `rootSaga` とそれに attach された saga から error が投げられた場合、 Maximum recursion depth exceeded が発生する。\n      return (\n        <Provider renderError={ renderError }>\n          <div>\n            { typed<[string]>`${ String(error) }` }\n          </div>\n        </Provider>\n      )\n    }\n\n    throw new TypeError(typed<[string]>`${ String(error) } is not an error.`)\n  }, [])\n\n  const reducer = useMemo(() => createReducer(history, initialState), [history])\n\n  const rootSaga = useCallback<Saga>(() => {\n    const service = container.resolve(Service) // TODO: DI\n\n    return service.rootSaga.call(service)\n  }, [container])\n\n  const Provider = createProvider(history, reducer, invariant, rootSaga)\n\n  return (\n    <>\n      <Helmet\n        titleTemplate=\"%s - react-app-prototype\"\n        defaultTitle=\"react-app-prototype\"\n      />\n      <Provider renderError={ renderError }>\n        <IntlProvider availableLocales={ ['en', 'ja'] }>\n          <DndProvider backend={ HTML5Backend }>\n            <ConnectedRouter history={ history }>\n              <ServiceProdiver container={ container }>\n                <MuiThemeProvider theme={ theme }>\n                  <CssBaseline />\n                  <SnackbarProvider>\n                    <App />\n                  </SnackbarProvider>\n                </MuiThemeProvider>\n              </ServiceProdiver>\n            </ConnectedRouter>\n          </DndProvider>\n        </IntlProvider>\n      </Provider>\n    </>\n  )\n}\n\ncontainerImport.then(({ default: container }) => {\n  // TODO: DI BASE_URL\n\n  if (process.env.BASE_URL === undefined || !process.env.BASE_URL.startsWith(window.location.origin)) {\n    throw new Error // TODO\n  }\n\n  const basename = process.env.BASE_URL.slice(window.location.origin.length)\n\n  const history = createBrowserHistory({\n    basename,\n  })\n\n  ReactDOM.render(<Main history={ history } container={ container } />, document.getElementById('root'))\n})\n","import { PrimitiveType } from 'intl-messageformat'\n\nimport { AbstractError } from '~/lib/errors'\n\n/**\n * @param key of results of defineMessages from react-intl\n * @param values for react-intl\n */\nexport default class ValidationError extends AbstractError {\n  /**\n   * @param message as an error message\n   */\n  constructor(message?: string)\n  constructor(message: string, key: string, values: Record<string, PrimitiveType>)\n  constructor(message?: string, public key?: string, public values?: Record<string, PrimitiveType>) {\n    super(message)\n  }\n}\n","import { UnreachableError } from '~/lib/errors'\nimport typed from '~/lib/typed'\n\n/**\n * @throw {TypeError} if the size of {xs} is less than two.\n *\n * @example\n * conj(', ', ' or ', ['A', 'B', 'C']) // 'A, B or C'\n */\nexport default function conj(xs: string[], separator: string, lastSeparator: string): string {\n  if (xs.length < 2) {\n    throw new TypeError(typed<[string]>`The size of ${ xs.toString() } is less than two.`)\n  }\n\n  const lastX = xs.pop() // tslint:disable-line:no-array-mutation\n\n  if (lastX === undefined) {\n    throw new UnreachableError\n  }\n\n  return typed<[string, string, string]>`${ xs.join(separator) }${ lastSeparator }${ lastX }`\n}\n","import zipIterables from '~/lib/extensions/Iterable/zipIterables'\n\nexport default function equalsJsons(x: Json, y: Json): boolean {\n  if (x === null && y === null) {\n    return true\n  }\n\n  if (\n    typeof x === 'boolean' && typeof y === 'boolean' ||\n    typeof x === 'number' && typeof y === 'number' ||\n    typeof x === 'string' && typeof y === 'string'\n  ) {\n    return x === y\n  }\n\n  if (Array.isArray(x) && Array.isArray(y)) {\n    return equalsJsonArrays(x, y)\n  }\n\n  if (\n    x === null || typeof x === 'boolean' || typeof x === 'number' || typeof x === 'string' || Array.isArray(x) ||\n    y === null || typeof y === 'boolean' || typeof y === 'number' || typeof y === 'string' || Array.isArray(y)\n  ) {\n    return false\n  }\n\n  return equalsJsonObjects(x, y)\n}\n\nfunction equalsJsonArrays(xs: JsonArray, ys: JsonArray): boolean {\n  if (xs.length !== ys.length) {\n    return false\n  }\n\n  // tslint:disable-next-line:no-loop-statement\n  for (const [x, y] of zipIterables(xs, ys)) {\n    if (!equalsJsons(x, y)) {\n      return false\n    }\n  }\n\n  return true\n}\n\nfunction equalsJsonObjects(iXMap: JsonObject, jYMap: JsonObject): boolean {\n  const is = Object.keys(iXMap)\n  const js = Object.keys(jYMap)\n\n  if (is.length !== js.length) {\n    return false\n  }\n\n  is.sort() // tslint:disable-line:no-array-mutation\n  js.sort() // tslint:disable-line:no-array-mutation\n\n  // tslint:disable-next-line:no-loop-statement\n  for (const [i, j] of zipIterables(is, js)) {\n    if (i !== j) {\n      return false\n    }\n\n    const x = iXMap[i]\n    const y = jYMap[j]\n\n    if (!equalsJsons(x, y)) {\n      return false\n    }\n  }\n\n  return true\n}\n","import typed from '~/lib/typed'\n\nconst eols = [\n  '\\n',\n  '\\r\\n',\n]\n\nconst eolPattern = new RegExp(typed<[string]>`(?:${ eols.join('|') })`)\nconst eolCharPattern = new RegExp(typed<[string]>`(?:${ eols.map((eol) => typed<[string]>`[${ eol }]`).join('|') })`)\n\nexport default function stripMargin(...args: Parameters<typeof stripMargin1>): ReturnType<typeof stripMargin1>\nexport default function stripMargin(...args: Parameters<typeof stripMargin2>): ReturnType<typeof stripMargin2>\n\nexport default function stripMargin(that: string, marginChar?: string): string {\n  if (marginChar === undefined) {\n    return stripMargin1(that)\n  }\n\n  return stripMargin2(that, marginChar)\n}\n\nfunction stripMargin1(that: string) {\n  return stripMargin2(that, '|')\n}\n\nfunction stripMargin2(that: string, marginChar: string) {\n  let result = '' // tslint:disable-line:no-let\n\n  // tslint:disable-next-line:no-loop-statement\n  for (const line of generateLineWithEolIterator(that)) {\n    const matches = new RegExp(typed<[string, string]>`^(?:[\\\\t ]*(?<marginChar>.))?(?<stripped>(?:.|${ eolCharPattern.source })*${ eolPattern.source }?)$`, 'u').exec(line)\n\n    const groups = matches?.groups // TODO\n\n    if (groups === undefined) {\n      throw new Error // TODO\n    }\n\n    const { marginChar: marginCharCandidate, stripped } = groups\n\n    if (marginCharCandidate === marginChar) {\n      result += stripped\n    } else {\n      result += line\n    }\n  }\n\n  return result\n}\n\nfunction* generateLineWithEolIterator(cs: string) {\n  let lineBuffer = '' // tslint:disable-line:no-let\n  let eolBuffer = '' // tslint:disable-line:no-let\n\n  // tslint:disable-next-line:no-loop-statement\n  for (const c of cs) {\n    lineBuffer += c\n\n    if (eols.some((eol) => eol.startsWith(eolBuffer + c))) {\n      eolBuffer += c\n    }\n\n    if (eols.includes(eolBuffer)) {\n      yield lineBuffer\n      lineBuffer = ''\n      eolBuffer = ''\n    }\n  }\n\n  if (lineBuffer !== '') {\n    yield lineBuffer\n  }\n}\n","import typed from '~/lib/typed'\n\nexport default function trimEols(s: string) {\n  return trimTrailingEols(trimLeadingEols(s))\n}\n\nconst eolPattern = /(?:\\r?\\n)/\n\nfunction trimLeadingEols(s: string) {\n  return s.replace(new RegExp(typed<[string]>`^${ eolPattern.source }*`), '')\n}\n\nfunction trimTrailingEols(s: string) {\n  return s.replace(new RegExp(typed<[string]>`${ eolPattern.source }*$`), '')\n}\n","import { Either, isLeft, isRight, left, right } from 'fp-ts/lib/Either'\n\nimport { UnreachableError } from '~/lib/errors'\nimport conj from '~/lib/extensions/Array/conj'\nimport equalsJsons from '~/lib/extensions/Eq/equalsJsons'\nimport stripMargin from '~/lib/extensions/String/stripMargin'\nimport trimEols from '~/lib/extensions/String/trimEols'\nimport typed from '~/lib/typed'\nimport ValidationError from './ValidationError'\n\n/**\n * @callback Validator\n * @throws {ValidationError} if the validation fails.\n */\n\n/**\n * @param asT {Validator}\n * @throws {never}\n */\nexport const failSafe = <A extends unknown, T extends A>(asT: (input: A) => T) => (input: A): Either<ValidationError, T> => {\n  try {\n    return right(asT(input))\n  } catch (error) {\n    if (error instanceof ValidationError) {\n      return left(error)\n    }\n\n    throw new UnreachableError\n  }\n}\n\nexport const leftOnly = <A extends unknown, T extends A>(asT: (input: A) => T) => (input: A): ValidationError | undefined => {\n  const t = failSafe(asT)(input)\n\n  if (isLeft(t)) {\n    return t.left\n  } else {\n    return undefined\n  }\n}\n\n// TODO: refactor\nexport const named = <A extends unknown, T extends A>(name: string, asT: (input: A) => T) => (input: A): T => {\n  const t = failSafe(asT)(input)\n\n  if (isLeft(t)) {\n    if (t.left.values === undefined) {\n      throw t.left\n    }\n\n    if (t.left.key === undefined) {\n      throw new UnreachableError\n    }\n\n    throw new ValidationError(t.left.message, t.left.key, { name, ...t.left.values })\n  }\n\n  return t.right // TODO\n}\n\nexport const optional = <A extends unknown, T extends A>(asT: (input: A) => T) => (input: A | undefined): T | undefined => {\n  if (input === undefined) {\n    return\n  }\n\n  return asT(input)\n}\n\nexport const unionOf = <A extends unknown, T extends A, U extends A>(asT: (input: A) => T, asU: (input: A) => U) => (input: A): T | U => {\n  const t = failSafe(asT)(input)\n  const u = failSafe(asU)(input)\n\n  if (isLeft(t) && isLeft(u)) {\n    throw new ValidationError(typed<[string, string]>`${ t.left.message } AND ${ u.left.message }`)\n  }\n\n  if (isRight(t)) {\n    return t.right\n  }\n\n  if (isRight(u)) {\n    return u.right\n  }\n\n  throw new UnreachableError\n}\n\nconst listOf = <A extends unknown, T extends A>(asT: (input: A) => T) => (input: readonly A[]): T[] => {\n  if (!Array.isArray(input)) {\n    throw new ValidationError(typed<[string]>`${ JSON.stringify(input) } is not an array.`)\n  }\n\n  return input.map(asT)\n}\n\nexport const recordOf = <A extends unknown, T extends A>(asT: (input: A) => T) => asObject<Record<string, T>>('a Record', (input) => Object.entries<string, A>(input).map<[string, T]>(([key, value]) => [key, asT(value)]).reduce<Record<string, T>>((output, [key, value]) => ({ ...output, [key]: value }), {}))\n\nexport function asUnionOf<T extends readonly Json[]>(...options: T): (input: unknown) => T[number]\nexport function asUnionOf<T extends readonly unknown[]>(...options: T): (input: unknown) => T[number]\nexport function asUnionOf<T extends readonly unknown[]>(...options: T) {\n  return (input: unknown): T[number] => {\n    if (!options.some((option) => option === input)) {\n      throw new ValidationError(typed<[string, string]>`${ JSON.stringify(input) } is neigher ${ conj(options.map(String), ', ', ' nor ') }`)\n    }\n\n    return input\n  }\n}\n\n/**\n * Ascribe the given JSON object to a specific type.\n *\n * @callback ObjectTyper\n * @throws {Error} if {input} is invalid as {T}.\n */\n\n/**\n * @param className name of {T} with indefinite article\n * @param asT {ObjectTyper}\n */\nexport const asObject = <T>(className: string, asT: (input: any) => T) => (input: unknown): T => { // tslint:disable-line:no-any\n  if (input == null) {\n    throw new ValidationError(typed<[string]>`${ JSON.stringify(input) } is not an object.`)\n  }\n\n  try {\n    return asT(input)\n  } catch (error) {\n    if (error instanceof ValidationError) {\n      throw new ValidationError(trimEols(stripMargin(typed<[string, string, string]>`\n        |${ JSON.stringify(input) } is not ${ className }.\n        |${ error.message }\n        |`)))\n    }\n\n    if (error instanceof Error) {\n      console.error(error) // tslint:disable-line:no-console\n\n      throw new ValidationError(typed<[string, string]>`${ JSON.stringify(input) } is not ${ className }.`)\n    }\n\n    throw new TypeError(typed<[string]>`${ String(error) } is not an error.`)\n  }\n}\n\n// TODO: undefined, symbol, bigint, bigdecimal 等に拡張する\nexport function asConstant<T extends null>(a: T): (input: unknown) => T\nexport function asConstant<T extends boolean>(a: T): (input: unknown) => T\nexport function asConstant<T extends number>(a: T): (input: unknown) => T\nexport function asConstant<T extends string>(a: T): (input: unknown) => T\nexport function asConstant<T extends JsonArray>(a: T): (input: unknown) => T\nexport function asConstant<T extends JsonObject>(a: T): (input: unknown) => T\nexport function asConstant<T extends Json>(a: T): (input: unknown) => T {\n  return (input) => {\n    const inputAsJson = asJson(input)\n\n    if (!equalsJsons(inputAsJson, a)) {\n      throw new ValidationError(typed<[string, string]>`${ JSON.stringify(inputAsJson) } is not ${ JSON.stringify(a) }.`)\n    }\n\n    return inputAsJson as T\n  }\n}\n\nexport function asBoolean(input: unknown): boolean {\n  if (typeof input !== 'boolean') {\n    throw new ValidationError(typed<[string]>`${ JSON.stringify(input) } is not a boolean.`)\n  }\n\n  return input\n}\n\nexport function asNumber(input: unknown): number {\n  if (typeof input !== 'number') {\n    throw new ValidationError(typed<[string]>`${ JSON.stringify(input) } is not a number.`)\n  }\n\n  return input\n}\n\nexport function asString(input: unknown): string {\n  if (typeof input !== 'string') {\n    throw new ValidationError(typed<[string]>`${ JSON.stringify(input) } is not a string.`)\n  }\n\n  return input\n}\n\nexport function asJson(input: unknown): Json {\n  if (input === null || typeof input === 'boolean' || typeof input === 'number' || typeof input === 'string') {\n    return input\n  }\n\n  if (Array.isArray(input)) {\n    return listOf(asJson)(input)\n  }\n\n  try {\n    return recordOf(asJson)(input)\n  } catch (error) {\n    if (error instanceof ValidationError) {\n      throw new ValidationError(trimEols(stripMargin(typed<[string, string]>`\n        |${ JSON.stringify(input) } is not a Json.\n        |${ error.message }\n        |`)))\n    }\n\n    if (error instanceof Error) {\n      console.error(error) // tslint:disable-line:no-console\n\n      throw new ValidationError(typed<[string]>`${ JSON.stringify(input) } is not a Json.`)\n    }\n\n    throw new TypeError(typed<[string]>`${ String(error) } is not an error.`)\n  }\n}\n","export abstract class AbstractError extends Error {\n  constructor(public message = '') {\n    super(message)\n\n    this.name = new.target.name\n\n    Object.setPrototypeOf(this, new.target.prototype)\n  }\n}\n\n// tslint:disable:max-classes-per-file\nexport class LogicError extends AbstractError {}\nexport class UnreachableError extends AbstractError {}\nexport class ValidationError extends AbstractError {}\n","import { Action } from 'redux'\nimport { ActionPattern, ForkEffect, takeEvery as originalTakeEvery } from 'redux-saga/effects'\n\n/**\n * Same as `takeEvery(pattern, worker)` but supports passing a `this` context to `worker`.\n * This is useful to invoke object methods.\n *\n * derived from https://github.com/redux-saga/redux-saga/blob/0668e9149c8aa847cbfad9f03883b6b5b2946042/packages/core/effects.d.ts#L630-L633\n */\nexport default function takeEvery<\n  A extends Action,\n  Ctx,\n>(\n  pattern: ActionPattern<A>,\n  [ctx, worker]: [Ctx, (this: Ctx, action: A) => unknown]\n): ForkEffect {\n  return originalTakeEvery(pattern, (action: A) => worker.call(ctx, action))\n}\n","/**\n * 同値関係を持つ。\n *\n * TODO: PartialEq, Congruence 等検討\n */\nexport default abstract class Eq implements Class.Eq {\n  public abstract equals(that: this): boolean\n\n  public isNotEqualTo(that: this): boolean {\n    return !this.equals(that)\n  }\n}\n","import Eq from './Eq'\n\n/**\n * Eq であり、さらに a.equals(b) → a.hashCode() === b.hashCode() な hashCode を持つ。\n */\nexport default abstract class Hashable extends Eq implements Class.Hashable {\n  public equals(that: this) {\n    return this.hashCode() === that.hashCode()\n  }\n\n  public abstract hashCode(): number // int\n}\n","export default function zipIterators<A, B>(xs: Iterator<A>, ys: Iterator<B>): Iterator<[A, B]> {\n  function* genIt() {\n    // tslint:disable-next-line:no-loop-statement\n    while (true) {\n      const x = xs.next()\n      const y = ys.next()\n\n      if (x.done || y.done) { // tslint:disable-line:strict-boolean-expressions\n        break\n      }\n\n      const values: [A, B] = [x.value, y.value]\n\n      yield values\n    }\n  }\n\n  return genIt()\n}\n","import zipIterators from '~/lib/extensions/Iterator/zipIterators'\n\nexport default function zipIterables<A, B>(xs: Iterable<A>, ys: Iterable<B>): Iterable<[A, B]> {\n  return {\n    [Symbol.iterator]() {\n      return zipIterators(xs[Symbol.iterator](), ys[Symbol.iterator]())\n    },\n  }\n}\n","const delay = (ms: number) => new Promise((res) => { setTimeout(res, ms) })\n\nexport default delay\n","import { ValidationError } from '~/lib/errors'\nimport Hashable from '~/lib/trait/Hashable'\n\n/**\n * A primitive ValueObject\n */\nexport default abstract class ValueObject<T> extends Hashable implements Class.ValueObject<{ value: T }> {\n  constructor(\n    public readonly value: T\n  ) {\n    super()\n\n    if (!this.checkInvariant()) {\n      throw new ValidationError('Invariant Violation: ValueObject#checkInvariant() must be a tautology.') // TODO\n    }\n  }\n\n  protected checkInvariant() {\n    return true\n  }\n}\n","import ValueObject from './ValueObject'\n\n// TODO: remove\nfunction seemsLikeUuid(s: string) {\n  return /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/.test(s)\n}\n\nexport default class Id extends ValueObject<string> {\n  public static deserialize(serialized: string): Id {\n    return new Id(serialized)\n  }\n\n  public serialize(): string {\n    return this.value\n  }\n\n  protected checkInvariant() {\n    return seemsLikeUuid(this.value)\n  }\n\n  public hashCode() {\n    // tslint:disable-next-line:no-let\n    let result = 17\n\n    result = 31 * result + this.value.hashCode()\n\n    return result\n  }\n}\n","import Id from './Id'\n\nexport default class TaskId extends Id {}\n","import { Invariant } from './createInvariantMiddleware'\n\nconst combineInvariants: <S extends Record<K, V>, K extends keyof S = keyof S, V extends S[K] = S[K]>(invariants: {\n  [P in keyof S]?: Invariant<S[P]>\n}) => Invariant<S> = (invariants) => (state) => {\n  return Object.entries(state).every(([moduleName, moduleState]) => {\n    return invariants[moduleName]?.(moduleState) ?? true\n  })\n}\n\nexport default combineInvariants\n","import { LocationChangeAction, RouterState, connectRouter } from 'connected-react-router'\nimport { History } from 'history'\nimport { inject, injectable } from 'inversify'\nimport { Action as AnyAction, Reducer, combineReducers } from 'redux'\nimport { SagaIterator } from 'redux-saga'\nimport { fork } from 'redux-saga/effects'\n\nimport combineInvariants from '~/lib/middleware/invariantMiddleware/combineInvariants'\nimport { ChessAction, ChessService, ChessState, chessInvariant, createChessReducer } from './modules/chess'\nimport { CounterAction, CounterService, CounterState, counterInvariant, createCounterReducer } from './modules/counter'\nimport { IoAction, IoService, IoState, createIoReducer } from './modules/io'\nimport LocaleSelectorService, { LocaleSelectorAction, LocaleSelectorState, createLocaleSelectorReducer } from './modules/localeSelector'\nimport ReminderService, { ReminderAction, ReminderState, createReminderReducer } from './modules/reminder'\n\nexport interface State {\n  router: RouterState\n  chess: ChessState\n  counter: CounterState\n  io: IoState\n  localeSelector: LocaleSelectorState\n  reminder: ReminderState\n}\n\nexport type Action =\n  | LocationChangeAction\n  | ChessAction\n  | CounterAction\n  | IoAction\n  | LocaleSelectorAction\n  | ReminderAction\n\n@injectable()\nexport default class Service {\n  constructor(\n    @inject('ChessService') private chessService: ChessService,\n    @inject('CounterService') private counterService: CounterService,\n    @inject('IoService') private ioService: IoService,\n    @inject('LocaleSelectorService') private localeSelectorService: LocaleSelectorService,\n    @inject('ReminderService') private reminderService: ReminderService\n  ) {}\n\n  public *rootSaga(): SagaIterator {\n    yield fork([this.chessService, this.chessService.rootSaga])\n    yield fork([this.counterService, this.counterService.rootSaga])\n    yield fork([this.ioService, this.ioService.rootSaga])\n    yield fork([this.localeSelectorService, this.localeSelectorService.rootSaga])\n    yield fork([this.reminderService, this.reminderService.rootSaga])\n  }\n}\n\nexport const createReducer = (history: History, initialState: Alt.Omit<State, 'router'>) => combineReducers<State, Action>({\n  router: connectRouter(history) as Reducer<RouterState, AnyAction>, // TODO\n  chess: createChessReducer(initialState.chess),\n  counter: createCounterReducer(initialState.counter),\n  io: createIoReducer(initialState.io),\n  localeSelector: createLocaleSelectorReducer(initialState.localeSelector),\n  reminder: createReminderReducer(initialState.reminder),\n})\n\nexport const invariant = combineInvariants<State>({\n  chess: chessInvariant,\n  counter: counterInvariant,\n})\n"],"sourceRoot":""}