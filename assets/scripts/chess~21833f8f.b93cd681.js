(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{1023:function(e,n,t){"use strict";t.r(n);var a=t(1),r=t.n(a),s=t(239),c=t.n(s),o=t(236),l=t(108),i=Object(a.createContext)({picking:null,targets:null,halfMove:null,pickChessman:null,releaseChessman:null}),u=t(13),m=t(168),d=t(22),f=t.n(d),p=t(24),h=t.n(p),v=t(176),b=t.n(v),g=t(136);function _(e,n){return e.file===n.file&&e.rank===n.rank}var C=t(334),E=t(982),k=t.n(E),S=function(e){var n=e.chessman,t=e.coord,s=Object(a.useContext)(i),c=s.picking,o=s.pickChessman,l=Object(g.useDrag)({item:{type:"Chessman"},collect:function(e){return{dragging:e.isDragging()}},begin:function(){null==o||o(n,t)}}),u=h()(l,3),m=u[0].dragging,d=u[1],p=u[2],v=Object(a.useMemo)((function(){var e;return b()(k.a.Chessman,(e={},f()(e,k.a.Dragging,m),f()(e,k.a.Picking,null!=c&&_(t,c.source)&&Object(C.a)(n,c.chessman)),e))}),[m,n,t,c]),E=Object(a.useMemo)((function(){return b()(k.a.Chessman,k.a.Preview)}),[]),S=Object(a.useCallback)((function(){null==c&&(null==o||o(n,t))}),[c,o,n,t]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{ref:p,className:E},n.symbol),r.a.createElement("span",{ref:d,className:v,onClick:S},n.symbol))};var O=t(980),j=t.n(O),y=function(e){var n=e.children,t=e.coord,s=Object(a.useContext)(i),c=s.picking,o=s.targets,l=s.halfMove,u=s.releaseChessman,m=Object(a.useMemo)((function(){var e;return null!==(e=null==o?void 0:o.some((function(e){return _(t,e)})))&&void 0!==e&&e}),[t,null==o?void 0:o.some]),d=Object(g.useDrop)({accept:"Chessman",drop:function(){null!=c&&(m?null==l||l(c.chessman,c.source,t):null==u||u())}}),p=h()(d,2)[1],v=Object(a.useMemo)((function(){return function(e){return e.file%2==e.rank%2?"black":"white"}(t)}),[t]),C=Object(a.useMemo)((function(){var e;return b()(j.a.Square,(e={},f()(e,j.a.White,"white"===v),f()(e,j.a.Black,"black"===v),f()(e,j.a.Target,m),e))}),[v,m]),E=Object(a.useCallback)((function(){null!=c&&(m?null==l||l(c.chessman,c.source,t):null==u||u())}),[l,c,t,u,m]);return r.a.createElement("div",{ref:p,className:C,onClick:E},n)},M=t(978),N=t.n(M),L=[1,2,3,4,5,6,7,8],w=[8,7,6,5,4,3,2,1],x={resetBoard:m.g,halfMove:m.d,pickChessman:m.e,releaseChessman:m.f},F=Object(l.connect)((function(e){var n=e.chess;return{board:n.board,picking:n.picking,targets:n.targets}}),x)((function(e){var n=e.board,t=e.picking,s=e.targets,c=e.resetBoard,o=e.halfMove,l=e.pickChessman,m=e.releaseChessman;return Object(a.useEffect)((function(){c()}),[c]),r.a.createElement(i.Provider,{value:{picking:t,targets:s,halfMove:o,pickChessman:l,releaseChessman:m}},r.a.createElement("table",{className:N.a.ChessboardTable},r.a.createElement("tbody",null,w.map((function(e){return r.a.createElement("tr",{key:e},L.map((function(t){var a=new u.a({file:t,rank:e}),s=n.chessmen.get(a);return r.a.createElement("td",{key:t,className:N.a.ChessboardTd},r.a.createElement(y,{coord:a},void 0!==s?r.a.createElement(S,{chessman:s,coord:a}):null))})))})))))})),I=t(891),T=Object(o.defineMessages)({chess:{id:"src.components.App.ChessPage.chess",defaultMessage:"chess"}});n.default=Object(I.a)((function(){var e=Object(o.useIntl)().formatMessage;return(r.a.createElement(r.a.Fragment,null,r.a.createElement(c.a,{title:e(T.chess)}),r.a.createElement(F,null)))}))},887:function(e,n,t){"use strict";t.d(n,"a",(function(){return a})),t.d(n,"b",(function(){return r}));var a=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return function(e){return n.some((function(n){return n===e}))}},r=function(e){return function(n){return void 0===n||e(n)}}},888:function(e,n,t){var a=t(892),r=t(889);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var s={insert:"head",singleton:!1},c=(a(r,s),r.locals?r.locals:{});e.exports=c},889:function(e,n,t){(n=t(893)(!1)).push([e.i,".src-components-Nav-classes__Spacer--36ovl {\n  flex-grow: 1;\n}\n\n.src-components-Nav-classes__LocaleSelectLabel--3h3DV.src-components-Nav-classes__LocaleSelectLabel--3h3DV {\n  color: currentColor\n}\n\n.src-components-Nav-classes__LocaleSelectLabel--3h3DV.src-components-Nav-classes__LocaleSelectLabel--3h3DV.Mui-focused {\n    opacity: 0.618;\n    color: currentColor;\n  }\n\n.src-components-Nav-classes__LocaleSelectInput--3oNu1.src-components-Nav-classes__LocaleSelectInput--3oNu1 {\n  color: currentColor;\n}\n\n.src-components-Nav-classes__LocaleSelectSelectIcon--2AyFk.src-components-Nav-classes__LocaleSelectSelectIcon--2AyFk {\n  color: currentColor;\n}\n\n.src-components-Nav-classes__LocaleSelectInputUnderline--2WFrx.src-components-Nav-classes__LocaleSelectInputUnderline--2WFrx::before,\n  .src-components-Nav-classes__LocaleSelectInputUnderline--2WFrx.src-components-Nav-classes__LocaleSelectInputUnderline--2WFrx:hover:not(.Mui-disabled)::before,\n  .src-components-Nav-classes__LocaleSelectInputUnderline--2WFrx.src-components-Nav-classes__LocaleSelectInputUnderline--2WFrx::after {\n    border-bottom-color: currentColor;\n  }\n",""]),n.locals={Spacer:"src-components-Nav-classes__Spacer--36ovl",LocaleSelectLabel:"src-components-Nav-classes__LocaleSelectLabel--3h3DV",LocaleSelectInput:"src-components-Nav-classes__LocaleSelectInput--3oNu1",LocaleSelectSelectIcon:"src-components-Nav-classes__LocaleSelectSelectIcon--2AyFk",LocaleSelectInputUnderline:"src-components-Nav-classes__LocaleSelectInputUnderline--2WFrx"},e.exports=n},890:function(e){e.exports=JSON.parse('{"ja":"日本語","en":"English"}')},891:function(e,n,t){"use strict";t.d(n,"a",(function(){return we}));var a=t(9),r=t.n(a),s=t(1),c=t.n(s),o=t(24),l=t.n(o),i=t(236),u=t(906),m=t.n(u),d=t(898),f=t.n(d),p=t(911),h=t.n(p),v=t(907),b=t.n(v),g=t(908),_=t.n(g),C=t(909),E=t.n(C),k=t(237),S=function(){var e=Object(s.useContext)(k.a),n=e.dark,t=e.setDark;if(null==n||null==t)throw new Error;var a=Object(s.useCallback)((function(e,n){t(n)}),[t]);return(c.a.createElement(E.a,{checked:n,onChange:a}))},O=t(7),j=t.n(O),y=t(176),M=t.n(y),N=t(108),L=t(135),w=t(899),x=t.n(w),F=t(894),I=t.n(F),T=t(896),D=t.n(T),R=t(901),q=t.n(R),W=t(900),P=t.n(W),U=t(902),A=t.n(U),B=t(134),V=t(238),H=t(890);var Y=t(177),z=Object(i.defineMessages)({languages:{id:"src.components.LocaleSelect.languages",defaultMessage:"Languages"}}),J={selectLocale:Y.c},X=Object(N.connect)((function(e){return{locale:e.localeSelector.locale}}),J)((function(e){var n,t,a=e.classes,r=e.FormControlProps,o=e.locale,u=e.selectLocale,m=Object(s.useState)(0),d=l()(m,2),f=d[0],p=d[1],h=Object(s.useMemo)(L.v4,[]),v=Object(B.useTheme)(),b=Object(s.useMemo)((function(){var e,n,t,a;return null!==(e=null!==(n=null==r?void 0:r.variant)&&void 0!==n?n:null==v?void 0:null===(t=v.props)||void 0===t?void 0:null===(a=t.MuiFormControl)||void 0===a?void 0:a.variant)&&void 0!==e?e:"standard"}),[null==r?void 0:r.variant,null==v?void 0:null===(n=v.props)||void 0===n?void 0:null===(t=n.MuiFormControl)||void 0===t?void 0:t.variant]),g=Object(s.useMemo)((function(){return M()(null==a?void 0:a.root,null==r?void 0:r.className)}),[null==a?void 0:a.root,null==r?void 0:r.className]),_=Object(s.useMemo)((function(){return M()(null==a?void 0:a.label)}),[null==a?void 0:a.label]),C=Object(s.useMemo)((function(){return M()(null==a?void 0:a.input)}),[null==a?void 0:a.input]),E=Object(s.useMemo)((function(){return M()(null==a?void 0:a.selectIcon)}),[null==a?void 0:a.selectIcon]),k=Object(s.useMemo)((function(){return M()(null==a?void 0:a.inputUnderline)}),[null==a?void 0:a.inputUnderline]),S=Object(s.useCallback)((function(e){null!==e&&p(e.offsetWidth)}),[]),O=Object(s.useCallback)((function(e){var n;"string"==typeof(n=e.target.value)&&n in H&&u(e.target.value)}),[u]),y=Object(s.useContext)(V.a).availableLocales;return c.a.createElement(I.a,j()({},r,{className:g}),c.a.createElement(q.a,{className:_,ref:S,htmlFor:h},c.a.createElement(i.FormattedMessage,z.languages)),c.a.createElement(A.a,{classes:{icon:E},native:!0,labelWidth:f,value:o,onChange:O,id:h,inputProps:{"data-testid":"localeSelect"},input:{standard:c.a.createElement(D.a,{className:C,classes:{underline:k}}),outlined:c.a.createElement(P.a,{className:C,labelWidth:f}),filled:c.a.createElement(x.a,{className:C})}[b]},null==y?void 0:y.map((function(e,n){return c.a.createElement("option",{key:n,value:e},H[e])}))))})),G=t(28),Q=t.n(G),Z=t(913),K=t.n(Z),$=t(11),ee=t.n($),ne=t(17),te=t.n(ne),ae=t(25),re=t.n(ae),se=t(12),ce=t.n(se),oe=t(26),le=t.n(oe),ie=t(912),ue=t(903),me=t.n(ue),de=t(887),fe=t(10);function pe(){var e=r()([""," is not a Material-UI Typography color."]);return pe=function(){return e},e}function he(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var ve=Object(de.b)(Object(de.a)("initial","inherit","primary","secondary","textPrimary","textSecondary","error")),be=c.a.forwardRef((function(e,n){return c.a.createElement(ie.Link,j()({innerRef:n},e))})),ge=function(e){le()(a,e);var n,t=(n=a,function(){var e,t=ce()(n);if(he()){var a=ce()(this).constructor;e=Reflect.construct(t,arguments,a)}else e=t.apply(this,arguments);return re()(this,e)});function a(){return ee()(this,a),t.apply(this,arguments)}return te()(a,[{key:"render",value:function(){var e=this.props,n=e.color,t=Q()(e,["color"]);return ve(n)?c.a.createElement(me.a,j()({component:be,color:n},t)):(console.warn(Object(fe.a)(pe(),n)),c.a.createElement(me.a,j()({component:be},t)))}}]),a}(c.a.Component),_e=s.forwardRef((function(e,n){var t=e.to,a=(e.button,e.innerRef),r=Q()(e,["to","button","innerRef"]),c=s.forwardRef((function(e,n){return s.createElement(ge,j()({ref:n,innerRef:a,color:"inherit",underline:"none"},e))}));return s.createElement(K.a,j()({button:!0,component:c,to:t,ref:n},r))})),Ce=t(888),Ee=t.n(Ce),ke=Object(i.defineMessages)({home:{id:"src.components.Nav.home",defaultMessage:"home"},chess:{id:"src.components.Nav.chess",defaultMessage:"chess"},counter:{id:"src.components.Nav.counter",defaultMessage:"counter"},info:{id:"src.components.Nav.info",defaultMessage:"info"},paint:{id:"src.components.Nav.paint",defaultMessage:"paint"},reminder:{id:"src.components.Nav.reminder",defaultMessage:"reminder"}}),Se=function(){var e=Object(s.useState)(null),n=l()(e,2),t=n[0],a=n[1],r=Object(s.useCallback)((function(e){a(e.currentTarget)}),[]),o=Object(s.useCallback)((function(){a(null)}),[]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(m.a,{position:"sticky"},c.a.createElement(b.a,null,c.a.createElement(f.a,{edge:"start",color:"inherit",onClick:r},c.a.createElement(_.a,null)),c.a.createElement("div",{className:Ee.a.Spacer}),c.a.createElement(S,null),c.a.createElement(X,{classes:{label:Ee.a.LocaleSelectLabel,input:Ee.a.LocaleSelectInput,selectIcon:Ee.a.LocaleSelectSelectIcon,inputUnderline:Ee.a.LocaleSelectInputUnderline},FormControlProps:{variant:"filled"}}))),c.a.createElement(h.a,{open:null!==t,anchorEl:t,onClose:o},c.a.createElement(_e,{to:"/",onClick:o},c.a.createElement(i.FormattedMessage,ke.home)),c.a.createElement(_e,{to:"/chess",onClick:o},c.a.createElement(i.FormattedMessage,ke.chess)),c.a.createElement(_e,{to:"/counter",onClick:o},c.a.createElement(i.FormattedMessage,ke.counter)),c.a.createElement(_e,{to:"/info",onClick:o},c.a.createElement(i.FormattedMessage,ke.info)),c.a.createElement(_e,{to:"/paint",onClick:o},c.a.createElement(i.FormattedMessage,ke.paint)),c.a.createElement(_e,{to:"/reminder",onClick:o},c.a.createElement(i.FormattedMessage,ke.reminder))))};function Oe(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}var je=function(e){le()(a,e);var n,t=(n=a,function(){var e,t=ce()(n);if(Oe()){var a=ce()(this).constructor;e=Reflect.construct(t,arguments,a)}else e=t.apply(this,arguments);return re()(this,e)});function a(){var e;ee()(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={hasError:!1},e}return te()(a,[{key:"render",value:function(){var e=this.props,n=e.renderError,t=e.children,a=this.state,r=a.hasError,s=a.error;return r?n(s,t):t}}]),a}(c.a.Component);je.getDerivedStateFromError=function(e){return{hasError:!0,error:e}};var ye=je;function Me(){var e=r()([""," is not an error."]);return Me=function(){return e},e}function Ne(){var e=r()(["",""]);return Ne=function(){return e},e}var Le=function(e){var n=e.children,t=Object(s.useCallback)((function(e){if(e instanceof Error)return Object(fe.a)(Ne(),String(e));throw new TypeError(Object(fe.a)(Me(),String(e)))}),[]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(Se,null),c.a.createElement(ye,{renderError:t},n))},we=function(e){return function(n){return c.a.createElement(Le,null,c.a.createElement(e,n))}}},978:function(e,n,t){var a=t(892),r=t(979);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var s={insert:"head",singleton:!1},c=(a(r,s),r.locals?r.locals:{});e.exports=c},979:function(e,n,t){(n=t(893)(!1)).push([e.i,".src-components-Chessboard-classes__ChessboardTable--1YTjE {\n  border-collapse: collapse;\n}\n\n.src-components-Chessboard-classes__ChessboardTd--3hHrO {\n  padding: 0;\n}\n",""]),n.locals={ChessboardTable:"src-components-Chessboard-classes__ChessboardTable--1YTjE",ChessboardTd:"src-components-Chessboard-classes__ChessboardTd--3hHrO"},e.exports=n},980:function(e,n,t){var a=t(892),r=t(981);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var s={insert:"head",singleton:!1},c=(a(r,s),r.locals?r.locals:{});e.exports=c},981:function(e,n,t){(n=t(893)(!1)).push([e.i,".src-components-Chessboard-Square-classes__Square--3eloU {\n  height: 32px;\n  width: 32px;\n  font-size: 20px; /* of chessman; FIXME */\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  --white-square-color: white;\n  --black-square-color: #c0c0c0\n\n  /* TODO: consider Nav */\n}\n\n@media screen and (orientation: portrait) {\n\n.src-components-Chessboard-Square-classes__Square--3eloU {\n    height: 12.5vw;\n    width: 12.5vw;\n    font-size: 7.8125vw\n}\n  }\n\n.src-components-Chessboard-Square-classes__White--7ZYQX {\n  background-color: var(--white-square-color);\n}\n\n.src-components-Chessboard-Square-classes__Black--3wDR_ {\n  background-color: var(--black-square-color);\n}\n\n.src-components-Chessboard-Square-classes__Target--11gMT {\n  filter: sepia(100%);\n}\n",""]),n.locals={Square:"src-components-Chessboard-Square-classes__Square--3eloU",White:"src-components-Chessboard-Square-classes__White--7ZYQX",Black:"src-components-Chessboard-Square-classes__Black--3wDR_",Target:"src-components-Chessboard-Square-classes__Target--11gMT"},e.exports=n},982:function(e,n,t){var a=t(892),r=t(983);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var s={insert:"head",singleton:!1},c=(a(r,s),r.locals?r.locals:{});e.exports=c},983:function(e,n,t){(n=t(893)(!1)).push([e.i,'.src-components-Chessboard-Chessman-classes__Chessman--1H9tu {\n  font-family: "Apple Symbols", sans-serif;\n  color: #222;\n}\n\n.src-components-Chessboard-Chessman-classes__Dragging--3Wg1a {\n  opacity: 0.5;\n}\n\n.src-components-Chessboard-Chessman-classes__Picking--11tdl:not(.src-components-Chessboard-Chessman-classes__Dragging--3Wg1a) {\n  color: teal;\n}\n\n/* TODO: in a little more normal way */\n.src-components-Chessboard-Chessman-classes__Preview--2T3_G {\n  position: absolute;\n  z-index: -1;\n}\n',""]),n.locals={Chessman:"src-components-Chessboard-Chessman-classes__Chessman--1H9tu",Dragging:"src-components-Chessboard-Chessman-classes__Dragging--3Wg1a",Picking:"src-components-Chessboard-Chessman-classes__Picking--11tdl",Preview:"src-components-Chessboard-Chessman-classes__Preview--2T3_G"},e.exports=n}}]);
//# sourceMappingURL=chess~21833f8f.b93cd681.js.map