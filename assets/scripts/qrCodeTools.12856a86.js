"use strict";(self.webpackChunkrap=self.webpackChunkrap||[]).push([[1003],{93755:function(e,t,n){n.r(t),n.d(t,{default:function(){return x}});var l=n(28889),a=n(41749),o=n(22318),r=n(67294),s=n(64593),c=n(31753),i=n(97127),u=n(13833),d=n(65616),m=n.n(d),p=n(46121),v=n(45733),f=n(85315),E=(0,f.vU)({noFileSelected:{id:"src.components.QrCodeDecoder.noFileSelected",defaultMessage:"No file selected."},decodingFailed:{id:"src.components.QrCodeDecoder.decodingFailed",defaultMessage:"Decoding failed."}});var g=()=>{const e=(0,r.useMemo)((()=>document.createElement("canvas")),[]),t=(0,r.useMemo)((()=>e.getContext("2d")),[e]),[n,l]=(0,r.useState)(),[a,o]=(0,r.useState)(),s=(0,r.useCallback)((n=>{let{currentTarget:l}=n;(0,p.s)(t);const a=l.height,r=l.width;e.height=a,e.width=r,t.drawImage(l,0,0);const s=t.getImageData(0,0,r,a),c=m()(s.data,r,a,{inversionAttempts:"dontInvert"});o((()=>null==c?void 0:c.data))}),[e,t]),c=(0,r.useCallback)((e=>{var t;if(l(null!==(t=e.target.files)&&void 0!==t?t:void 0),null===e.target.files||0===e.target.files.length)return;(0,p.s)(e.target.files[0]);const n=e.target.files[0],a=URL.createObjectURL(n),o=new Image;o.onload=s,o.src=a,URL.revokeObjectURL(a)}),[s]),u=(0,r.useMemo)((()=>void 0===n||0===n.length?r.createElement(i.Z,E.noFileSelected):void 0===a?r.createElement(i.Z,E.decodingFailed):a),[n,a]);return r.createElement(v.Z,{accept:"image/*",resultMessage:u,onChange:c})},A=n(67154),C=n.n(A),Z=n(96394),F=n(110),h=n(8286),b=n(92592),U=n(44586),k=n(43587),M=(0,f.vU)({errorCorrectionLevel:{id:"src.components.QrCodeEncoder.errorCorrectionLevel",defaultMessage:"Error correction level"},maskPattern:{id:"src.components.QrCodeEncoder.maskPattern",defaultMessage:"Mask pattern"},default:{id:"src.components.QrCodeEncoder.default",defaultMessage:"Default"}});const _=["L","M","Q","H"],B=[0,1,2,3,4,5,6,7];var S=e=>{let{...t}=e;const n=(0,r.useRef)(null),l=(0,r.useRef)(null),o=(0,r.useMemo)(U.Z,[]),s=(0,r.useMemo)(U.Z,[]),u=(0,r.useRef)(null),{formatMessage:d}=(0,c.Z)(),[m,v]=(0,r.useState)(),[f,E]=(0,r.useState)(),g=(0,r.useCallback)((e=>{""!==e.currentTarget.value&&b.toCanvas(l.current,e.currentTarget.value,{errorCorrectionLevel:m,maskPattern:f})}),[l,m,f]),A=(0,r.useCallback)((e=>{var t,a;if(!(0,k.gB)(..._,"default")(e.target.value))throw new Error;const o="default"!==e.target.value?e.target.value:void 0;v(o),(0,p.s)(null===(t=n.current)||void 0===t?void 0:t.value),b.toCanvas(l.current,null===(a=n.current)||void 0===a?void 0:a.value,{errorCorrectionLevel:o,maskPattern:f})}),[f]),S=(0,r.useCallback)((e=>{var t,a;if(!(0,k.gB)(...B.map((e=>`${e}`)),"default")(e.target.value))throw new Error;const o="default"!==e.target.value?Number(e.target.value):void 0;E(o),(0,p.s)(null===(t=n.current)||void 0===t?void 0:t.value),b.toCanvas(l.current,null===(a=n.current)||void 0===a?void 0:a.value,{errorCorrectionLevel:m,maskPattern:o})}),[m]);return(0,r.useEffect)((()=>{var e;null!==(e=n.current)&&void 0!==e&&e.value&&b.toCanvas(l.current,n.current.value)}),[n,l]),r.createElement(a.Z,{container:!0,spacing:2},r.createElement(a.Z,{item:!0,xs:12,sm:5},r.createElement(h.Z,C()({fullWidth:!0,multiline:!0,inputRef:n,onChange:g},t))),r.createElement(a.Z,{item:!0,xs:12,sm:7},r.createElement("canvas",{ref:l})),r.createElement(a.Z,{item:!0,xs:6,sm:3},r.createElement(Z.Z,{ref:u,htmlFor:o},r.createElement(i.Z,M.errorCorrectionLevel)),r.createElement(F.Z,{native:!0,onChange:A,id:o},r.createElement("option",{value:"default"},d(M.default)),_.map(((e,t)=>r.createElement("option",{key:t,value:e},e))))),r.createElement(a.Z,{item:!0,xs:6,sm:3},r.createElement(Z.Z,{ref:u,htmlFor:s},r.createElement(i.Z,M.maskPattern)),r.createElement(F.Z,{native:!0,onChange:S,id:s},r.createElement("option",{value:"default"},d(M.default)),B.map(((e,t)=>r.createElement("option",{key:t,value:e},e))))))},w=(0,f.vU)({qrCodeTools:{id:"src.components.App.QrCodeToolsPage.qrCodeTools",defaultMessage:"QR code tools"},encoder:{id:"src.components.App.QrCodeToolsPage.encoder",defaultMessage:"Encoder"},decoder:{id:"src.components.App.QrCodeToolsPage.decoder",defaultMessage:"Decoder"}});var x=(0,u.D)((()=>{const{formatMessage:e}=(0,c.Z)();return r.createElement(r.Fragment,null,r.createElement(s.Z,{title:e(w.qrCodeTools)}),r.createElement(l.Z,null,r.createElement(l.Z,{padding:2},r.createElement(a.Z,{container:!0,spacing:2},r.createElement(a.Z,{item:!0,xs:12},r.createElement(o.Z,{variant:"h3"},r.createElement(i.Z,w.encoder))),r.createElement(a.Z,{item:!0,xs:12},r.createElement(S,{defaultValue:"https://sueka.me"})))),r.createElement(l.Z,{padding:2},r.createElement(a.Z,{container:!0,spacing:2},r.createElement(a.Z,{item:!0,xs:12},r.createElement(o.Z,{variant:"h3"},r.createElement(i.Z,w.decoder))),r.createElement(a.Z,{item:!0,xs:12},r.createElement(g,null))))))}))},45733:function(e,t,n){n.d(t,{Z:function(){return x}});var l=n(67154),a=n.n(l),o=n(282),r=n(96019),s=n(51206),c=n.n(s),i=n(94184),u=n.n(i),d=n(67294),m=n(97127),p=n(46121),v=n(93379),f=n.n(v),E=n(7795),g=n.n(E),A=n(90569),C=n.n(A),Z=n(3565),F=n.n(Z),h=n(19216),b=n.n(h),U=n(44589),k=n.n(U),M=n(58995),_={};_.styleTagTransform=k(),_.setAttributes=F(),_.insert=C().bind(null,"head"),_.domAPI=g(),_.insertStyleElement=b();f()(M.Z,_);var B=M.Z&&M.Z.locals?M.Z.locals:void 0,S=n(44140);const w=c().getParser(navigator.userAgent).is("Safari");var x=e=>{var t,n;let{className:l,disabled:s,multiple:c,onClick:i,onChange:v,buttonLabel:f=d.createElement(m.Z,S.Z.browse),resultMessage:E,classes:g,component:A=r.Z,ButtonProps:C,...Z}=e;const F=(0,d.useMemo)((()=>u()(l,null==g?void 0:g.root,B.FileUpload,{[B.Safari]:w})),[l,null==g?void 0:g.root]),h=(0,d.useMemo)((()=>u()(null==g?void 0:g.button,B.Button,null==C?void 0:C.className)),[null==g?void 0:g.button,null==C?void 0:C.className]),b=(0,d.useRef)(null),U=null!==(t=null===(n=b.current)||void 0===n?void 0:n.files)&&void 0!==t?t:null,k=(0,d.useMemo)((()=>{if(null==E)return null===U||0===U.length?d.createElement(m.Z,S.Z.noFileSelected):1===U.length?U[0].name:d.createElement(m.Z,a()({},S.Z.nFilesSelected,{values:{n:U.length}}))}),[E,U]),M=(0,d.useCallback)((()=>{(0,p.s)(b.current),b.current.dispatchEvent(new MouseEvent("click"))}),[b]),_=(0,d.useCallback)((e=>{null==i||i(e),e.isDefaultPrevented()||M(e)}),[i,M]);return d.createElement(A,{className:F,tabIndex:w?-1:0},d.createElement(o.Z,a()({disabled:s,onClick:_},C,{className:h,tabIndex:-1}),f),null!=E?E:k,d.createElement("input",a()({className:B.Input,type:"file",disabled:s,multiple:c,onChange:v,ref:b},Z)))}},44140:function(e,t,n){var l=n(85315);t.Z=(0,l.vU)({browse:{id:"src.components.FileUpload.browse",defaultMessage:"Browseâ€¦"},noFileSelected:{id:"src.components.FileUpload.noFileSelected",defaultMessage:"No file selected."},nFilesSelected:{id:"src.components.FileUpload.nFilesSelected",defaultMessage:"{ n } files selected."}})},58995:function(e,t,n){var l=n(87537),a=n.n(l),o=n(23645),r=n.n(o)()(a());r.push([e.id,".src-components-FileUpload-classes__FileUpload--zcA60 {\n  display: inline-block; /* TODO: polyfill */\n  display: inline flow-root;\n  cursor: pointer;\n}\n\n.src-components-FileUpload-classes__FileUpload--zcA60.src-components-FileUpload-classes__Safari--xNS3H:focus {\n  outline: none;\n}\n\n.src-components-FileUpload-classes__Button--_x92h.src-components-FileUpload-classes__Button--_x92h {\n  text-transform: none;\n  cursor: unset;\n}\n\n.src-components-FileUpload-classes__Input--HY1r1 {\n  display: none;\n}\n","",{version:3,sources:["webpack://./src/components/FileUpload/classes.css"],names:[],mappings:"AAAA;EACE,qBAAqB,EAAE,mBAAmB;EAC1C,yBAAyB;EACzB,eAAe;AACjB;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,oBAAoB;EACpB,aAAa;AACf;;AAEA;EACE,aAAa;AACf",sourcesContent:[".FileUpload {\n  display: inline-block; /* TODO: polyfill */\n  display: inline flow-root;\n  cursor: pointer;\n}\n\n.FileUpload.Safari:focus {\n  outline: none;\n}\n\n.Button.Button {\n  text-transform: none;\n  cursor: unset;\n}\n\n.Input {\n  display: none;\n}\n"],sourceRoot:""}]),r.locals={FileUpload:"src-components-FileUpload-classes__FileUpload--zcA60",Safari:"src-components-FileUpload-classes__Safari--xNS3H",Button:"src-components-FileUpload-classes__Button--_x92h",Input:"src-components-FileUpload-classes__Input--HY1r1"},t.Z=r}}]);
//# sourceMappingURL=qrCodeTools.12856a86.js.map