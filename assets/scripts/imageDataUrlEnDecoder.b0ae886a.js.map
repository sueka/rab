{"version":3,"file":"assets/scripts/imageDataUrlEnDecoder.b0ae886a.js","mappings":"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","sources":["webpack://rap/./src/components/ImageDataUrlDecoder/index.tsx","webpack://rap/./src/components/ImageDataUrlEncoder/messages.ts","webpack://rap/./src/components/ImageDataUrlEncoder/index.tsx","webpack://rap/./src/components/App/ImageDataUrlEnDecoderPage/messages.ts","webpack://rap/./src/components/App/ImageDataUrlEnDecoderPage/index.tsx","webpack://rap/./src/components/CopyTextButton/messages.ts","webpack://rap/./src/components/CopyTextButton/index.tsx","webpack://rap/./src/components/FileUpload/classes.css?bd7d","webpack://rap/./src/components/FileUpload/index.tsx","webpack://rap/./src/components/FileUpload/messages.ts","webpack://rap/./src/components/FileUpload/classes.css"],"sourcesContent":["import Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport React, { useCallback, useState } from 'react'\n\nconst ImageDataUrlDecoder: React.FC = () => {\n  const [dataUrl, setDataUrl] = useState<string>()\n\n  const handleChange = useCallback<React.ChangeEventHandler<HTMLInputElement>>((event) => {\n    setDataUrl(event.currentTarget.value)\n  }, [])\n\n  return (\n    <Grid container spacing={ 2 }>\n      <Grid item xs={ 12 } sm={ 6 }>\n        <TextField\n          fullWidth\n          multiline\n          maxRows={ 10 }\n          onChange={ handleChange }\n          placeholder=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAAAAAA6fptVAAAADUlEQVQIHQECAP3/AP8BAQEA02HOTAAAAABJRU5ErkJggg==\"\n        />\n      </Grid>\n      <Grid item xs={ 12 } sm={ 6 }>\n        <img src={ dataUrl } />\n      </Grid>\n    </Grid>\n  )\n}\n\nexport default ImageDataUrlDecoder\n","import { defineMessages } from 'react-intl'\n\nexport default defineMessages({\n  noFileSelected: 'No file selected.',\n  encoding: 'Encoding…',\n  encodedSuccessfully: 'Encoded successfully.',\n  charsCharacters: '{ chars } characters',\n})\n","import React, { useCallback, useEffect, useMemo, useRef, useState } from 'react'\nimport { FormattedMessage, useIntl } from 'react-intl'\n\nimport { shouldBePresent } from '~/asserters/commonAsserters'\nimport FileUpload from '~/components/FileUpload'\nimport CopyTextButton from '~/components/CopyTextButton'\nimport messages from './messages'\nimport Grid from '@material-ui/core/Grid'\nimport TextField, { TextFieldProps } from '@material-ui/core/TextField'\nimport InputAdornment from '@material-ui/core/InputAdornment'\n\ntype CopiableTextFieldProps = TextFieldProps\n\nconst CopiableTextField: React.FC<CopiableTextFieldProps> = ({ value, ...restProps }) => {\n  const input = useRef<HTMLInputElement>(null)\n\n  return (\n    <TextField\n      value={ value }\n      inputRef={ input }\n      InputProps={ {\n        endAdornment: (\n          <InputAdornment position=\"end\">\n            <CopyTextButton inputFor={ input } />\n          </InputAdornment>\n        ),\n      } }\n      { ...restProps }\n    />\n  )\n}\n\nconst ImageDataUrlEncoder: React.FC = () => {\n  const [files, setFiles] = useState<FileList>()\n  const [decoded, setDecoded] = useState<string>()\n  const reader = useMemo(() => new FileReader, [])\n\n  const handleReaderLoad = useCallback<NonNullable<FileReader['onload']>>((event) => {\n    if (event.target?.result == null) {\n      return\n    }\n\n    if (event.target.result instanceof ArrayBuffer) {\n      throw new Error //\n    }\n\n    setDecoded(event.target?.result)\n  }, [])\n\n  useEffect(() => {\n    reader.addEventListener('load', handleReaderLoad)\n\n    return () => {\n      reader.removeEventListener('load', handleReaderLoad)\n    }\n  }, [reader, handleReaderLoad])\n\n  const handleChange = useCallback<React.ChangeEventHandler<HTMLInputElement>>((event) => {\n    setFiles(event.target.files ?? undefined)\n\n    /// files[0] を Image に変換する\n    if (event.target.files === null || event.target.files.length === 0) {\n      return // do nothing\n    }\n\n    shouldBePresent(event.target.files[0])\n\n    const file = event.target.files[0]\n\n    reader.readAsDataURL(file)\n  }, [reader])\n\n  const resultMessage = useMemo(() => {\n    if (files === undefined || files.length === 0) {\n      return <FormattedMessage { ...messages.noFileSelected } />\n    }\n\n    if (decoded === undefined) {\n      return <FormattedMessage { ...messages.encoding } />\n    }\n\n    return <FormattedMessage { ...messages.encodedSuccessfully } />\n  }, [files, decoded])\n\n  const { formatMessage } = useIntl()\n\n  const resultHelperText = useMemo(() => {\n    if (decoded === undefined) {\n      return undefined\n    }\n\n    const chars = decoded.length\n\n    const charsHelper = formatMessage(messages.charsCharacters, {\n      chars,\n    })\n\n    const kilobytes = chars / 1024\n    const kilobytesHelper = `${ Math.round(10 * kilobytes) / 10 } KiB`\n\n    return `${ charsHelper } (≈ ${ kilobytesHelper })`\n  }, [decoded, formatMessage])\n\n  return (\n    <Grid container spacing={ 2 }>\n      <Grid item xs={ 12 } sm={ 6 }>\n        <FileUpload\n          accept=\"image/*\"\n          resultMessage={ resultMessage }\n          onChange={ handleChange }\n        />\n      </Grid>\n      <Grid item xs={ 12 } sm={ 6 }>\n        <CopiableTextField\n          multiline\n          fullWidth\n          maxRows={ 10 }\n          value={ decoded ?? '' }\n          helperText={ resultHelperText }\n        />\n      </Grid>\n    </Grid>\n  )\n}\n\nexport default ImageDataUrlEncoder\n","import { defineMessages } from 'react-intl'\n\nexport default defineMessages({\n  imageDataUrlEnDecoder: 'Image–data URL en-/decoder',\n  encoder: 'Encoder',\n  decoder: 'Decoder',\n})\n","import Box from '@material-ui/core/Box'\nimport Grid from '@material-ui/core/Grid'\nimport Typography from '@material-ui/core/Typography'\nimport React from 'react'\nimport Helmet from 'react-helmet'\nimport { FormattedMessage, useIntl } from 'react-intl'\n\nimport { createPage } from '~/components/PageTemplate'\nimport ImageDataUrlDecoder from '~/components/ImageDataUrlDecoder'\nimport ImageDataUrlEncoder from '~/components/ImageDataUrlEncoder'\nimport messages from './messages'\n\nconst ImageDataUrlEnDecoderPage: React.FC = () => {\n  const { formatMessage } = useIntl()\n\n  return (\n    <>\n      <Helmet title={ formatMessage(messages.imageDataUrlEnDecoder) } />\n      <Box>\n        <Box padding={ 2 }>\n          <Grid container spacing={ 2 }>\n            <Grid item xs={ 12 }>\n              <Typography variant=\"h3\">\n                <FormattedMessage { ...messages.encoder } />\n              </Typography>\n            </Grid>\n            <Grid item xs={ 12 }>\n              <ImageDataUrlEncoder />\n            </Grid>\n          </Grid>\n        </Box>\n        <Box padding={ 2 }>\n          <Grid container spacing={ 2 }>\n            <Grid item xs={ 12 }>\n              <Typography variant=\"h3\">\n                <FormattedMessage { ...messages.decoder } />\n              </Typography>\n            </Grid>\n            <Grid item xs={ 12 }>\n              <ImageDataUrlDecoder />\n            </Grid>\n          </Grid>\n        </Box>\n      </Box>\n    </>\n  )\n}\n\nexport default createPage(ImageDataUrlEnDecoderPage)\n","import { defineMessages } from 'react-intl'\n\nexport default defineMessages({\n  textCopied: 'Text copied.',\n  copyText: 'Copy text',\n})\n","import IconButton from '@material-ui/core/IconButton'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport FilterNoneIcon from '@material-ui/icons/FilterNone'\nimport copy from 'copy-to-clipboard'\nimport { useSnackbar } from 'notistack'\nimport React, { useCallback, useEffect, useState } from 'react'\nimport { FormattedMessage, useIntl } from 'react-intl'\n\nimport { shouldBePresent } from '~/asserters/commonAsserters'\nimport messages from './messages'\n\ninterface Props {\n  inputFor: React.RefObject<HTMLInputElement | HTMLTextAreaElement>\n}\n\n// TODO: @material-ui/icons/ContentCopy が実装されたら削除する\nconst ContentCopyIcon: React.FC<React.PropsOf<typeof FilterNoneIcon>> = ({ style, ...restProps }) => {\n  if (style === undefined) {\n    return <FilterNoneIcon style={ { transform: 'scaleY(-1)' } } { ...restProps } />\n  }\n\n  const { transform, ...restStyle } = style\n\n  if (transform !== undefined) {\n    throw new Error\n  }\n\n  return <FilterNoneIcon style={ { transform: 'scaleY(-1)', ...restStyle } } { ...restProps } />\n}\n\nconst CopyTextButton: React.FC<Props> = ({ inputFor: input }) => {\n  const { formatMessage } = useIntl()\n  const { enqueueSnackbar } = useSnackbar()\n\n  const handleClick = useCallback(() => {\n    shouldBePresent(input.current)\n\n    if (input.current.value === '') {\n      return\n    }\n\n    copy(input.current.value) // TODO: await navigator.clipboard.writeText(input.current.value)\n\n    enqueueSnackbar(\n      <FormattedMessage { ...messages.textCopied } />\n    )\n  }, [enqueueSnackbar, input])\n\n  // NOTE: input が render された後の input.current が必要なので、 useMemo ではなく useState + useEffect を使う。\n  const [disabled, setDisabled] = useState(true)\n\n  useEffect(() => {\n    setDisabled(input.current === null || input.current.value === '' || input.current.disabled)\n  })\n\n  return (\n    <Tooltip\n      title={ formatMessage(messages.copyText) }\n      disableFocusListener={ disabled }\n      disableHoverListener={ disabled }\n      disableTouchListener={ disabled }\n    >\n      <span>\n        <IconButton onClick={ handleClick } disabled={ disabled }>\n          <ContentCopyIcon />\n        </IconButton>\n      </span>\n    </Tooltip>\n  )\n}\n\nexport default CopyTextButton\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../node_modules/postcss-loader/dist/cjs.js!./classes.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../node_modules/postcss-loader/dist/cjs.js!./classes.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import Button, { ButtonProps } from '@material-ui/core/Button'\nimport FormLabel from '@material-ui/core/FormLabel'\nimport Bowser from 'bowser'\nimport classnames from 'classnames'\nimport React, { useCallback, useMemo, useRef } from 'react'\nimport { FormattedMessage } from 'react-intl'\n\nimport { shouldBePresent } from '~/asserters/commonAsserters'\nimport cssClasses from './classes.css'\nimport messages from './messages'\n\nexport interface Props extends Alt.Omit<React.InputHTMLAttributes<HTMLInputElement>, 'type' | 'onClick' | 'onChange'> {\n  onClick?: React.MouseEventHandler<HTMLButtonElement>\n  onChange?: React.ChangeEventHandler<HTMLInputElement>\n  buttonLabel?: React.ReactNode\n  resultMessage?: React.ReactNode\n  classes?: {\n    root?: string\n    button?: string\n  }\n  component?: React.ElementType\n\n  /**\n   * Merges className, with mimicking Material-UI.\n   */\n  ButtonProps?: Alt.Omit<ButtonProps, 'disabled' | 'onClick'>\n}\n\n// TODO: Remove?\nconst browser = Bowser.getParser(navigator.userAgent)\n\nconst isSafari = browser.is('Safari')\n\nconst FileUpload: React.FC<Props> = ({\n  className,\n  disabled,\n  multiple,\n  onClick,\n  onChange,\n  buttonLabel = <FormattedMessage { ...messages.browse } />,\n  resultMessage,\n  classes: propClasses,\n  component: Component = FormLabel,\n  ButtonProps,\n  ...restInputProps\n}: Props) => {\n  const rootClassName = useMemo(() => classnames(className, propClasses?.root, cssClasses.FileUpload, {\n    [cssClasses.Safari]: isSafari,\n  }), [className, propClasses?.root])\n  const buttonClassName = useMemo(() => classnames(propClasses?.button, cssClasses.Button, ButtonProps?.className), [propClasses?.button, ButtonProps?.className])\n\n  const input = useRef<HTMLInputElement>(null)\n  const files = input.current?.files ?? null\n\n  const defaultResultMessage = useMemo(() => {\n    if (resultMessage != null) {\n      return // nothing\n    }\n\n    if (files === null || files.length === 0) {\n      return <FormattedMessage { ...messages.noFileSelected } />\n    }\n\n    switch (files.length) {\n      case 1:\n        return files[0]!.name\n      default:\n        return <FormattedMessage { ...messages.nFilesSelected } values={ { n: files.length } } />\n    }\n  }, [resultMessage, files])\n\n  const fireInputClick = useCallback<React.MouseEventHandler<HTMLButtonElement>>(() => {\n    shouldBePresent(input.current)\n\n    input.current.dispatchEvent(new MouseEvent('click')) // FIXME: Element.click()\n  }, [input])\n\n  const handleButtonClick = useCallback<React.MouseEventHandler<HTMLButtonElement>>((event) => {\n    onClick?.(event)\n\n    if (!event.isDefaultPrevented()) {\n      fireInputClick(event)\n    }\n  }, [onClick, fireInputClick])\n\n  return (\n    <Component className={ rootClassName } tabIndex={ isSafari ? -1 : 0 }>\n      <Button\n        disabled={ disabled }\n        onClick={ handleButtonClick }\n        { ...ButtonProps }\n        className={ buttonClassName } // NOTE: Overrides ButtonProps.className\n        tabIndex={ -1 }\n      >\n        { buttonLabel }\n      </Button>\n      { resultMessage ?? defaultResultMessage }\n      <input\n        className={ cssClasses.Input }\n        type=\"file\"\n        disabled={ disabled }\n        multiple={ multiple }\n        onChange={ onChange }\n        ref={ input }\n        { ...restInputProps }\n      />\n    </Component>\n  )\n}\n\nexport default FileUpload\n","import { defineMessages } from 'react-intl'\n\nexport default defineMessages({\n  browse: 'Browse…',\n  noFileSelected: 'No file selected.',\n  nFilesSelected: '{ n } files selected.',\n})\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".src-components-FileUpload-classes__FileUpload--zcA60 {\\n  display: inline-block; /* TODO: polyfill */\\n  display: inline flow-root;\\n  cursor: pointer;\\n}\\n\\n.src-components-FileUpload-classes__FileUpload--zcA60.src-components-FileUpload-classes__Safari--xNS3H:focus {\\n  outline: none;\\n}\\n\\n.src-components-FileUpload-classes__Button--_x92h.src-components-FileUpload-classes__Button--_x92h {\\n  text-transform: none;\\n  cursor: unset;\\n}\\n\\n.src-components-FileUpload-classes__Input--HY1r1 {\\n  display: none;\\n}\\n\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/FileUpload/classes.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,qBAAqB,EAAE,mBAAmB;EAC1C,yBAAyB;EACzB,eAAe;AACjB;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,oBAAoB;EACpB,aAAa;AACf;;AAEA;EACE,aAAa;AACf\",\"sourcesContent\":[\".FileUpload {\\n  display: inline-block; /* TODO: polyfill */\\n  display: inline flow-root;\\n  cursor: pointer;\\n}\\n\\n.FileUpload.Safari:focus {\\n  outline: none;\\n}\\n\\n.Button.Button {\\n  text-transform: none;\\n  cursor: unset;\\n}\\n\\n.Input {\\n  display: none;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {\n\t\"FileUpload\": \"src-components-FileUpload-classes__FileUpload--zcA60\",\n\t\"Safari\": \"src-components-FileUpload-classes__Safari--xNS3H\",\n\t\"Button\": \"src-components-FileUpload-classes__Button--_x92h\",\n\t\"Input\": \"src-components-FileUpload-classes__Input--HY1r1\"\n};\nexport default ___CSS_LOADER_EXPORT___;\n"],"names":["dataUrl","setDataUrl","useState","handleChange","useCallback","event","currentTarget","value","Grid","container","spacing","item","xs","sm","TextField","fullWidth","multiline","maxRows","onChange","placeholder","src","defineMessages","noFileSelected","encoding","encodedSuccessfully","charsCharacters","CopiableTextField","restProps","input","useRef","inputRef","InputProps","endAdornment","InputAdornment","position","CopyTextButton","inputFor","files","setFiles","decoded","setDecoded","reader","useMemo","FileReader","handleReaderLoad","target","result","ArrayBuffer","Error","useEffect","addEventListener","removeEventListener","undefined","length","shouldBePresent","file","readAsDataURL","resultMessage","messages","formatMessage","useIntl","resultHelperText","chars","kilobytes","Math","round","FileUpload","accept","helperText","imageDataUrlEnDecoder","encoder","decoder","createPage","Helmet","title","Box","padding","Typography","variant","textCopied","copyText","ContentCopyIcon","style","FilterNone","transform","restStyle","enqueueSnackbar","useSnackbar","handleClick","current","copy","disabled","setDisabled","Tooltip","disableFocusListener","disableHoverListener","disableTouchListener","IconButton","onClick","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","isSafari","Bowser","navigator","userAgent","is","className","multiple","buttonLabel","classes","propClasses","component","Component","FormLabel","ButtonProps","restInputProps","rootClassName","classnames","root","cssClasses","buttonClassName","button","defaultResultMessage","name","values","n","fireInputClick","dispatchEvent","MouseEvent","handleButtonClick","isDefaultPrevented","tabIndex","Button","type","ref","browse","nFilesSelected","___CSS_LOADER_EXPORT___","push","module","id","locals"],"sourceRoot":""}