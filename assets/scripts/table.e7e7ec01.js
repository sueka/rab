(self.webpackChunkrap=self.webpackChunkrap||[]).push([[4986],{55743:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Q}});var a=n(95477),l=n(67294),r=n(64593),s=n(31753),i=n(5840),o=n(35369),u=n(15659),c=n(26353),d=n(41120),m=n(8920),E=n(79895),p=n(82302),v=n(99613),f=n(17196),S=n(56847),g=n(83750),h=n(57394),_=n(77256),b=n(51206),A=n.n(b),y=n(94184),O=n.n(y),N=n(93379),C=n.n(N),w=n(25861),L={insert:"head",singleton:!1},T=(C()(w.Z,L),w.Z.locals||{});function Z(e,t){return e<t?-1:e>t?1:0}const I=A().getParser(navigator.userAgent).is("Mobile"),G=(0,d.Z)({LocalizedCell:{textAlign:({direction:e})=>{if(void 0!==e)switch(e){case"ltr":return"left";case"rtl":return"right"}}}},{flip:!1});var M=({columns:e,rows:t,defaultSortOrder:n="asc",locale:a})=>{const[r,s]=(0,l.useState)([]),i=(0,l.useMemo)((()=>r[0]),[r]),u=(0,l.useCallback)((e=>()=>{if(e===(null==i?void 0:i.by))s((([e,...t])=>[{by:e.by,in:"asc"===e.in?"desc":"asc"},...t]));else{const t=r.findIndex((t=>t.by===e));s(-1===t?t=>[{by:e,in:n},...t]:e=>[e[t],...e.slice(0,t),...e.slice(t+1)])}}),[n,r,i]),c=(0,l.useMemo)((()=>r.reduceRight(((e,t)=>{switch(t.in){case"asc":return e.sortBy((e=>String(e[t.by])),Z);case"desc":return e.sortBy((e=>String(e[t.by])),((e,t)=>-Z(e,t)))}}),(0,o.aV)(t)).toArray()),[r,t]),d=(0,m.Z)(),b=(0,l.useMemo)((()=>{if(void 0!==a)return/^(?:he|iw)\b/.test(a)?"rtl":"ltr"}),[a]),A=G({direction:b}),y=(0,l.useMemo)((()=>O()(A.LocalizedCell,T.NumericCell)),[A.LocalizedCell]);return l.createElement(S.Z,{component:E.Z},l.createElement(p.Z,{size:I?"small":"medium",lang:a},l.createElement(g.Z,null,l.createElement(h.Z,null,e.map((e=>{var t,a,s;return l.createElement(f.Z,{variant:"head",sortDirection:(null==i?void 0:i.by)===e.field?i.in:void 0,className:A.LocalizedCell,style:{minWidth:void 0!==e.width?e.width+2*d.spacing(2):void 0},key:e.field},l.createElement("bdi",null,l.createElement(_.Z,{active:(null==i?void 0:i.by)===e.field,direction:null!==(t=null===(a=r.find((t=>t.by===e.field)))||void 0===a?void 0:a.in)&&void 0!==t?t:n,onClick:u(e.field)},null!==(s=e.label)&&void 0!==s?s:e.field)))})))),l.createElement(v.Z,null,c.map(((t,n)=>l.createElement(h.Z,{hover:!0,key:n},(0,o.zN)(Object.entries(t)).sortBy(((t,n)=>e.findIndex((e=>e.field===n))),((e,t)=>e-t)).map(((e,t)=>{return l.createElement(f.Z,{className:(n=String(e),Number.isNaN(Number(n))||Number.isNaN(parseFloat(n))?A.LocalizedCell:y),key:t},l.createElement("bdi",null,e));var n})).valueSeq().toArray()))))))},j=n(38780),P=n(46121),D=n(37868);function H(e,t){const[n,a]=(0,l.useState)(null),[r,s]=(0,l.useState)(null),[i,o]=(0,l.useState)(null),[u,c]=(0,l.useState)(null);switch((0,l.useEffect)((()=>{a((0,D.ZP)(e,t)),c("pending")}),[e,t]),u){case"pending":throw(0,P.s)(n),n.then((e=>{s(e),c("fulfilled")})).catch((e=>{if(!(e instanceof Error))throw new TypeError("Non-error reason caught.");o(e),c("rejected")}));case null:case"fulfilled":return r;case"rejected":throw i}}var k=n(25818);var R=n(13665);const x=R.vl,z=(0,R.P7)(x),B=(0,R.El)("DIMENSION_UNSPECIFIED","COLUMNS","ROWS"),F=(0,R.su)((e=>({range:(0,R.jt)(R.XC)(e.range),majorDimension:(0,R.jt)(B)(e.majorDimension),values:(0,R.jt)(z)(e.values)}))),K=(0,R.su)((e=>({properties:(0,R.jt)(U)(e.properties),sheets:(0,R.jt)((0,R.P7)(q))(e.sheets)}))),U=(0,R.su)((e=>({locale:(0,R.jt)(R.XC)(e.locale)}))),q=(0,R.su)((e=>({data:(0,R.jt)((0,R.P7)($))(e.data)}))),$=(0,R.su)((e=>({columnMetadata:(0,R.jt)((0,R.P7)(V))(e.columnMetadata)}))),V=(0,R.su)((e=>({pixelSize:(0,R.jt)(R.mH)(e.pixelSize)})));function W(e){switch(typeof e){case"string":case"number":return!0;default:return!1}}var J=()=>{const e=(0,u.useInjection)("EnvVarConfig"),t=H((0,c.Gn)(k.Z`${e.get("SHEETS_API_URL")}/spreadsheets/:spreadsheetId\\?ranges=:sheetName&includeGridData=:includeGridData&fields=:fields&key=:apiKey`,{spreadsheetId:e.get("GOOGLE_SHEETS_FOSS_COMPARISON_TABLE_SHEET_ID"),sheetName:e.get("GOOGLE_SHEETS_FOSS_COMPARISON_TABLE_SHEET_SHEET_NAME"),includeGridData:!0,fields:"properties.locale,sheets.data.columnMetadata",apiKey:e.get("GOOGLE_CLOUD_APIS_GOOGLE_SHEETS_API_KEY")})),n=H((0,c.Gn)(k.Z`${e.get("SHEETS_API_URL")}/spreadsheets/:spreadsheetId/values/:sheetName\\?key=:apiKey`,{spreadsheetId:e.get("GOOGLE_SHEETS_FOSS_COMPARISON_TABLE_SHEET_ID"),sheetName:e.get("GOOGLE_SHEETS_FOSS_COMPARISON_TABLE_SHEET_SHEET_NAME"),apiKey:e.get("GOOGLE_CLOUD_APIS_GOOGLE_SHEETS_API_KEY")})),[a,r]=(0,l.useState)(null),[s,d]=(0,l.useState)(null),[m,E]=(0,l.useState)(null);return(0,l.useEffect)((()=>{(async()=>{var e,a,l;if(null===t||null===n)return;const s=K(await t.json()),o=null===(e=s.properties)||void 0===e?void 0:e.locale,u=null===(a=s.sheets)||void 0===a||null===(l=a[0].data)||void 0===l?void 0:l[0].columnMetadata,c=F(await n.json());if(void 0===o||void 0===u)throw new Error("No both locale and columnMetadata found.");if("ROWS"!==(null==c?void 0:c.majorDimension))throw new Error("Dimension unsupported.");if(void 0===c.values||!c.values.every(Array.isArray))throw new Error("Less than 2 dimensions found.");if(!c.values.every((e=>e.every(W))))throw new Error("Neither string nor number value found.");E((0,i.P)(function(e){var t;const n=null===(t=/(?<language>[a-z]{2,3})(?:_(?<region>[A-Z]{2}))?/i.exec(e))||void 0===t?void 0:t.groups;(0,P.s)(n);const{language:a,region:l}=n;return{language:a,extendedLanguageSubtags:[],script:null,region:null!=l?l:null,variants:[],extensions:[],privateuse:[],irregular:null,regular:null}}(o)));const[m,...p]=c.values,v=m.map(((e,t)=>k.Z`${e}_${t}`));r(Array.from((0,j.Z)(v,(0,j.Z)(m,u))).map((([e,[t,{pixelSize:n}]])=>({field:e,label:t,width:n})))),d(p.map((e=>Object.fromEntries((0,j.Z)(v,e)))))})()}),[t,n]),null===a||null===s?null:l.createElement(M,{columns:(0,o.aV)(a).sortBy((e=>e.field),((e,t)=>e<t?-1:e>t?1:0)).toArray(),rows:s,locale:null!=m?m:void 0})},X=n(13833),Y=(0,n(85315).vU)({table:{id:"src.components.App.TablePage.table",defaultMessage:"Table"}});var Q=(0,X.D)((()=>{const{formatMessage:e}=(0,s.Z)();return l.createElement(l.Fragment,null,l.createElement(r.q,{title:e(Y.table)}),l.createElement(l.Suspense,{fallback:l.createElement(a.Z,null)},l.createElement(J,null)))}))},25861:function(e,t,n){"use strict";var a=n(94015),l=n.n(a),r=n(23645),s=n.n(r)()(l());s.push([e.id,'.src-components-DataTable-classes__NumericCell--27ne1 {\n  text-align: right; /* NOTE: アラビア数字は RtL 言語でも右寄せする。 <q cite="https://material.io/components/data-tables#behavior">Align numbers to the right for improved scannability.</q> */\n}\n',"",{version:3,sources:["webpack://./src/components/DataTable/classes.css"],names:[],mappings:"AAAA;EACE,iBAAiB,EAAE,yJAAyJ;AAC9K",sourcesContent:['.NumericCell {\n  text-align: right; /* NOTE: アラビア数字は RtL 言語でも右寄せする。 <q cite="https://material.io/components/data-tables#behavior">Align numbers to the right for improved scannability.</q> */\n}\n'],sourceRoot:""}]),s.locals={NumericCell:"src-components-DataTable-classes__NumericCell--27ne1"},t.Z=s}}]);
//# sourceMappingURL=table.e7e7ec01.js.map