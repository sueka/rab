{"version":3,"sources":["webpack:///./src/components/Chessboard/classes.css?5965","webpack:///./src/components/Chessboard/classes.css","webpack:///./src/components/Chessboard/Square/classes.css?27c1","webpack:///./src/components/Chessboard/Square/classes.css","webpack:///./src/components/Chessboard/Chessman/classes.css?1f43","webpack:///./src/components/Chessboard/Chessman/classes.css","webpack:///./src/components/Chessboard/Chessman/index.tsx","webpack:///./src/components/Chessboard/Square/index.tsx","webpack:///./src/utils/chess/getColorFromCoordinates.ts","webpack:///./src/components/Chessboard/index.tsx","webpack:///./src/components/App/ChessPage/index.tsx"],"names":["api","content","__esModule","default","module","i","options","exported","locals","exports","___CSS_LOADER_API_IMPORT___","push","Chessman","chessman","coord","useDrag","item","type","collect","monitor","dragging","isDragging","drag","chessmanClassName","useMemo","classnames","classes","Dragging","ref","className","symbol","Square","children","halfMove","useDrop","accept","drop","color","file","rank","getColorFromCoordinates","squareClassName","White","Black","files","ranks","mapDispatchToProps","resetBoard","connect","board","chess","useEffect","ChessboardTable","map","key","Coordinates","chessmen","get","ChessboardTd","undefined","ChessPage"],"mappings":"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","file":"assets/scripts/chess~21833f8f.6d4cbcb7.js","sourcesContent":["var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../node_modules/postcss-loader/src/index.js!./classes.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".src-components-Chessboard-classes__ChessboardTable--1YTjE {\\n  border-collapse: collapse;\\n}\\n\\n.src-components-Chessboard-classes__ChessboardTd--3hHrO {\\n  padding: 0;\\n}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"ChessboardTable\": \"src-components-Chessboard-classes__ChessboardTable--1YTjE\",\n\t\"ChessboardTd\": \"src-components-Chessboard-classes__ChessboardTd--3hHrO\"\n};\nmodule.exports = exports;\n","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../../node_modules/postcss-loader/src/index.js!./classes.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".src-components-Chessboard-Square-classes__Square--3eloU {\\n  height: 32px;\\n  width: 32px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n\\n  --white-square-color: white;\\n  --black-square-color: #c0c0c0;\\n}\\n\\n.src-components-Chessboard-Square-classes__White--7ZYQX {\\n  background-color: var(--white-square-color);\\n}\\n\\n.src-components-Chessboard-Square-classes__Black--3wDR_ {\\n  background-color: var(--black-square-color);\\n}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"Square\": \"src-components-Chessboard-Square-classes__Square--3eloU\",\n\t\"White\": \"src-components-Chessboard-Square-classes__White--7ZYQX\",\n\t\"Black\": \"src-components-Chessboard-Square-classes__Black--3wDR_\"\n};\nmodule.exports = exports;\n","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../../node_modules/postcss-loader/src/index.js!./classes.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\nvar exported = content.locals ? content.locals : {};\n\n\n\nmodule.exports = exported;","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".src-components-Chessboard-Chessman-classes__Chessman--1H9tu {\\n  font: 20px \\\"Apple Symbols\\\", sans-serif;\\n  color: #222;\\n}\\n\\n.src-components-Chessboard-Chessman-classes__Dragging--3Wg1a {\\n  opacity: 0.5;\\n}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"Chessman\": \"src-components-Chessboard-Chessman-classes__Chessman--1H9tu\",\n\t\"Dragging\": \"src-components-Chessboard-Chessman-classes__Dragging--3Wg1a\"\n};\nmodule.exports = exports;\n","import classnames from 'classnames'\nimport React, { useMemo } from 'react'\nimport { DragObjectWithType, useDrag } from 'react-dnd'\n\nimport classes from './classes.css'\n\nexport interface Props {\n  chessman: Chess.Chessman\n  coord: Chess.Coordinates\n}\n\ninterface CollectedProps {\n  dragging: boolean\n}\n\nexport interface DragObject extends DragObjectWithType {\n  chessman: Chess.Chessman\n  coord: Chess.Coordinates\n}\n\nconst Chessman: React.FunctionComponent<Props> = ({ chessman, coord }) => {\n  const [{ dragging }, drag] = useDrag<DragObject, unknown, CollectedProps>({\n    item: {\n      type: 'Chessman',\n      chessman,\n      coord,\n    },\n    collect: (monitor) => ({\n      dragging: monitor.isDragging(),\n    }),\n  })\n\n  const chessmanClassName = useMemo(() => classnames(classes.Chessman, {\n    [classes.Dragging]: dragging,\n  }), [dragging])\n\n  return (\n    <span ref={ drag } className={ chessmanClassName }>\n      { chessman.symbol }\n    </span>\n  )\n}\n\nexport default Chessman\n","import classnames from 'classnames'\nimport React, { useMemo } from 'react'\nimport { useDrop } from 'react-dnd'\n\nimport { DragObject, Props as ChessmanProps } from '~/components/Chessboard/Chessman'\nimport getColorFromCoordinates from '~/utils/chess/getColorFromCoordinates'\nimport classes from './classes.css'\n\ninterface Props extends React.PropsWithChildren<{}> {\n  children?: React.ReactElement<ChessmanProps, React.ComponentType<ChessmanProps>> | false | null\n  coord: Chess.Coordinates\n\n  halfMove(chessman: Chess.Chessman, source: Chess.Coordinates, target: Chess.Coordinates): void\n}\n\nconst Square: React.FunctionComponent<Props> = ({ children, coord, halfMove }: Props) => {\n  const [, drop] = useDrop<DragObject, unknown, unknown>({\n    accept: 'Chessman',\n    drop(item) {\n      halfMove(item.chessman, item.coord, coord)\n    },\n  })\n\n  const color = useMemo(() => getColorFromCoordinates(coord), [coord])\n\n  const squareClassName = useMemo(() => classnames(classes.Square, {\n    [classes.White]: color === 'white',\n    [classes.Black]: color === 'black',\n  }), [])\n\n  return (\n    <div ref={ drop } className={ squareClassName }>\n      { children }\n    </div>\n  )\n}\n\nexport default Square\n","export default function getColorFromCoordinates({ file, rank }: Chess.Coordinates): Chess.Color {\n  return file % 2 === rank % 2 ? 'black' : 'white'\n}\n","import React, { useEffect } from 'react'\nimport { connect } from 'react-redux'\n\nimport Coordinates from '~/domain/vo/Coordinates'\nimport { State } from '~/redux'\nimport { halfMove, resetBoard } from '~/redux/modules/chess'\nimport Chessman from './Chessman'\nimport Square from './Square'\nimport classes from './classes.css'\n\ninterface StateProps {\n  board: Chess.Chessboard\n}\n\ninterface DispatchProps {\n  resetBoard(): void\n  halfMove(chessman: Chess.Chessman, source: Chess.Coordinates, target: Chess.Coordinates): void\n}\n\ntype Props =\n  & StateProps\n  & DispatchProps\n\nconst files: Chess.File[] = [1, 2, 3, 4, 5, 6, 7, 8]\nconst ranks: Chess.Rank[] = [8, 7, 6, 5, 4, 3, 2, 1]\n\nconst Chessboard: React.FunctionComponent<Props> = ({ board, resetBoard, halfMove }) => {\n  useEffect(() => {\n    resetBoard()\n  }, [])\n\n  return (\n    <table className={ classes.ChessboardTable }>\n      <tbody>\n        { ranks.map((rank) => (\n          <tr key={ rank }>\n            { files.map((file) => {\n              const coord = new Coordinates({ file, rank })\n              const chessman = board.chessmen.get(coord)\n\n              return (\n                <td key={ file } className={ classes.ChessboardTd }>\n                  <Square coord={ coord } halfMove={ halfMove }>\n                    { chessman !== undefined && (\n                      <Chessman chessman={ chessman } coord={ coord } />\n                    ) }\n                  </Square>\n                </td>\n              )\n            }) }\n          </tr>\n        )) }\n      </tbody>\n    </table>\n  )\n}\n\n// connect\n\nconst mapStateToProps = ({ chess: { board } }: State): StateProps => ({\n  board,\n})\n\nconst mapDispatchToProps: DispatchProps = {\n  resetBoard,\n  halfMove,\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Chessboard)\n","import React from 'react'\n\nimport Chessboard from '~/components/Chessboard'\n\nconst ChessPage: React.FunctionComponent = () => (\n  <>\n    <Chessboard />\n  </>\n)\n\nexport default ChessPage\n"],"sourceRoot":""}