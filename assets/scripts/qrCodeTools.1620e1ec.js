"use strict";(self.webpackChunkrap=self.webpackChunkrap||[]).push([[1003],{82965:function(e,n,t){t.r(n),t.d(n,{default:function(){return b}});var l=t(28889),a=t(41749),s=t(22318),o=t(67294),r=t(64593),c=t(31753),i=t(97127),d=t(13833),u=t(65616),m=t.n(u),p=t(46121),f=t(45733),A=t(85315),g=(0,A.vU)({noFileSelected:{id:"src.components.QrCodeDecoder.noFileSelected",defaultMessage:"No file selected."},decodingFailed:{id:"src.components.QrCodeDecoder.decodingFailed",defaultMessage:"Decoding failed."}});var E=()=>{const e=(0,o.useMemo)((()=>document.createElement("canvas")),[]),n=(0,o.useMemo)((()=>e.getContext("2d")),[e]),[t,l]=(0,o.useState)(),[a,s]=(0,o.useState)(),r=(0,o.useCallback)((t=>{let{currentTarget:l}=t;(0,p.s)(n);const a=l.height,o=l.width;e.height=a,e.width=o,n.drawImage(l,0,0);const r=n.getImageData(0,0,o,a),c=m()(r.data,o,a,{inversionAttempts:"dontInvert"});s((()=>null==c?void 0:c.data))}),[e,n]),c=(0,o.useCallback)((e=>{var n;if(l(null!==(n=e.target.files)&&void 0!==n?n:void 0),null===e.target.files||0===e.target.files.length)return;(0,p.s)(e.target.files[0]);const t=e.target.files[0],a=URL.createObjectURL(t),s=new Image;s.onload=r,s.src=a,URL.revokeObjectURL(a)}),[r]),d=(0,o.useMemo)((()=>void 0===t||0===t.length?o.createElement(i.Z,g.noFileSelected):void 0===a?o.createElement(i.Z,g.decodingFailed):a),[t,a]);return o.createElement(f.Z,{accept:"image/*",resultMessage:d,onChange:c})},v=t(67154),C=t.n(v),Z=t(8286),F=t(92592);var U=e=>{let{...n}=e;const t=(0,o.useRef)(null),l=(0,o.useRef)(null),s=(0,o.useCallback)((e=>{""!==e.currentTarget.value&&F.toCanvas(l.current,e.currentTarget.value)}),[l]);return(0,o.useEffect)((()=>{var e;null!==(e=t.current)&&void 0!==e&&e.value&&F.toCanvas(l.current,t.current.value)}),[t,l]),o.createElement(a.Z,{container:!0,spacing:2},o.createElement(a.Z,{item:!0,xs:12,sm:5},o.createElement(Z.Z,C()({inputRef:t,onChange:s},n))),o.createElement(a.Z,{item:!0,xs:12,sm:7},o.createElement("canvas",{ref:l})))},h=(0,A.vU)({qrCodeTools:{id:"src.components.App.QrCodeToolsPage.qrCodeTools",defaultMessage:"QR code tools"},encoder:{id:"src.components.App.QrCodeToolsPage.encoder",defaultMessage:"Encoder"},decoder:{id:"src.components.App.QrCodeToolsPage.decoder",defaultMessage:"Decoder"}});var b=(0,d.D)((()=>{const{formatMessage:e}=(0,c.Z)();return o.createElement(o.Fragment,null,o.createElement(r.Z,{title:e(h.qrCodeTools)}),o.createElement(l.Z,null,o.createElement(l.Z,{padding:2},o.createElement(a.Z,{container:!0,spacing:2},o.createElement(a.Z,{item:!0,xs:12},o.createElement(s.Z,{variant:"h3"},o.createElement(i.Z,h.encoder))),o.createElement(a.Z,{item:!0,xs:12},o.createElement(U,{defaultValue:"https://sueka.me"})))),o.createElement(l.Z,{padding:2},o.createElement(a.Z,{container:!0,spacing:2},o.createElement(a.Z,{item:!0,xs:12},o.createElement(s.Z,{variant:"h3"},o.createElement(i.Z,h.decoder))),o.createElement(a.Z,{item:!0,xs:12},o.createElement(E,null))))))}))},45733:function(e,n,t){t.d(n,{Z:function(){return w}});var l=t(67154),a=t.n(l),s=t(282),o=t(96019),r=t(51206),c=t.n(r),i=t(94184),d=t.n(i),u=t(67294),m=t(97127),p=t(46121),f=t(93379),A=t.n(f),g=t(7795),E=t.n(g),v=t(90569),C=t.n(v),Z=t(3565),F=t.n(Z),U=t(19216),h=t.n(U),b=t(44589),_=t.n(b),B=t(58995),S={};S.styleTagTransform=_(),S.setAttributes=F(),S.insert=C().bind(null,"head"),S.domAPI=E(),S.insertStyleElement=h();A()(B.Z,S);var M=B.Z&&B.Z.locals?B.Z.locals:void 0,k=t(44140);const x=c().getParser(navigator.userAgent).is("Safari");var w=e=>{var n,t;let{className:l,disabled:r,multiple:c,onClick:i,onChange:f,buttonLabel:A=u.createElement(m.Z,k.Z.browse),resultMessage:g,classes:E,component:v=o.Z,ButtonProps:C,...Z}=e;const F=(0,u.useMemo)((()=>d()(l,null==E?void 0:E.root,M.FileUpload,{[M.Safari]:x})),[l,null==E?void 0:E.root]),U=(0,u.useMemo)((()=>d()(null==E?void 0:E.button,M.Button,null==C?void 0:C.className)),[null==E?void 0:E.button,null==C?void 0:C.className]),h=(0,u.useRef)(null),b=null!==(n=null===(t=h.current)||void 0===t?void 0:t.files)&&void 0!==n?n:null,_=(0,u.useMemo)((()=>{if(null==g)return null===b||0===b.length?u.createElement(m.Z,k.Z.noFileSelected):1===b.length?b[0].name:u.createElement(m.Z,a()({},k.Z.nFilesSelected,{values:{n:b.length}}))}),[g,b]),B=(0,u.useCallback)((()=>{(0,p.s)(h.current),h.current.dispatchEvent(new MouseEvent("click"))}),[h]),S=(0,u.useCallback)((e=>{null==i||i(e),e.isDefaultPrevented()||B(e)}),[i,B]);return u.createElement(v,{className:F,tabIndex:x?-1:0},u.createElement(s.Z,a()({disabled:r,onClick:S},C,{className:U,tabIndex:-1}),A),null!=g?g:_,u.createElement("input",a()({className:M.Input,type:"file",disabled:r,multiple:c,onChange:f,ref:h},Z)))}},44140:function(e,n,t){var l=t(85315);n.Z=(0,l.vU)({browse:{id:"src.components.FileUpload.browse",defaultMessage:"Browseâ€¦"},noFileSelected:{id:"src.components.FileUpload.noFileSelected",defaultMessage:"No file selected."},nFilesSelected:{id:"src.components.FileUpload.nFilesSelected",defaultMessage:"{ n } files selected."}})},58995:function(e,n,t){var l=t(87537),a=t.n(l),s=t(23645),o=t.n(s)()(a());o.push([e.id,".src-components-FileUpload-classes__FileUpload--zcA60 {\n  display: inline-block; /* TODO: polyfill */\n  display: inline flow-root;\n  cursor: pointer;\n}\n\n.src-components-FileUpload-classes__FileUpload--zcA60.src-components-FileUpload-classes__Safari--xNS3H:focus {\n  outline: none;\n}\n\n.src-components-FileUpload-classes__Button--_x92h.src-components-FileUpload-classes__Button--_x92h {\n  text-transform: none;\n  cursor: unset;\n}\n\n.src-components-FileUpload-classes__Input--HY1r1 {\n  display: none;\n}\n","",{version:3,sources:["webpack://./src/components/FileUpload/classes.css"],names:[],mappings:"AAAA;EACE,qBAAqB,EAAE,mBAAmB;EAC1C,yBAAyB;EACzB,eAAe;AACjB;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,oBAAoB;EACpB,aAAa;AACf;;AAEA;EACE,aAAa;AACf",sourcesContent:[".FileUpload {\n  display: inline-block; /* TODO: polyfill */\n  display: inline flow-root;\n  cursor: pointer;\n}\n\n.FileUpload.Safari:focus {\n  outline: none;\n}\n\n.Button.Button {\n  text-transform: none;\n  cursor: unset;\n}\n\n.Input {\n  display: none;\n}\n"],sourceRoot:""}]),o.locals={FileUpload:"src-components-FileUpload-classes__FileUpload--zcA60",Safari:"src-components-FileUpload-classes__Safari--xNS3H",Button:"src-components-FileUpload-classes__Button--_x92h",Input:"src-components-FileUpload-classes__Input--HY1r1"},n.Z=o}}]);
//# sourceMappingURL=qrCodeTools.1620e1ec.js.map