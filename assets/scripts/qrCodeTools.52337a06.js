"use strict";(self.webpackChunkrap=self.webpackChunkrap||[]).push([[1003],{93755:function(e,t,n){n.r(t),n.d(t,{default:function(){return L}});var l=n(28889),a=n(41749),r=n(22318),o=n(67294),s=n(64593),c=n(31753),u=n(97127),i=n(13833),d=n(67154),m=n.n(d),p=n(66283),v=n(8286),f=n(65616),E=n.n(f),g=n(46121),Z=n(45733),C=n(38606),A=n(85315),h=(0,A.vU)({noFileSelected:{id:"src.components.QrCodeDecoder.noFileSelected",defaultMessage:"No file selected."},decoding:{id:"src.components.QrCodeDecoder.decoding",defaultMessage:"Decoding…"},decodedSuccessfully:{id:"src.components.QrCodeDecoder.decodedSuccessfully",defaultMessage:"Decoded successfully."}});const b=e=>{let{value:t,...n}=e;const l=(0,o.useRef)(null);return o.createElement(v.Z,m()({value:t,inputRef:l,InputProps:{endAdornment:o.createElement(p.Z,{position:"end"},o.createElement(C.Z,{inputFor:l}))}},n))};var F=()=>{const e=(0,o.useMemo)((()=>document.createElement("canvas")),[]),t=(0,o.useMemo)((()=>e.getContext("2d")),[e]),[n,l]=(0,o.useState)(),[r,s]=(0,o.useState)(),c=(0,o.useCallback)((n=>{let{currentTarget:l}=n;(0,g.s)(t);const a=l.height,r=l.width;e.height=a,e.width=r,t.drawImage(l,0,0);const o=t.getImageData(0,0,r,a),c=E()(o.data,r,a,{inversionAttempts:"dontInvert"});s((()=>null==c?void 0:c.data))}),[e,t]),i=(0,o.useCallback)((e=>{var t;if(l(null!==(t=e.target.files)&&void 0!==t?t:void 0),null===e.target.files||0===e.target.files.length)return;(0,g.s)(e.target.files[0]);const n=e.target.files[0],a=URL.createObjectURL(n),r=new Image;r.onload=c,r.src=a,URL.revokeObjectURL(a)}),[c]),d=(0,o.useMemo)((()=>void 0===n||0===n.length?o.createElement(u.Z,h.noFileSelected):void 0===r?o.createElement(u.Z,h.decoding):o.createElement(u.Z,h.decodedSuccessfully)),[n,r]);return o.createElement(a.Z,{container:!0,spacing:2},o.createElement(a.Z,{item:!0,xs:12,sm:6},o.createElement(Z.Z,{accept:"image/*",resultMessage:d,onChange:i})),o.createElement(a.Z,{item:!0,xs:12,sm:6},o.createElement(b,{multiline:!0,fullWidth:!0,maxRows:10,value:null!=r?r:""})))},x=n(96394),k=n(110),M=n(92592),U=n(44586),y=n(43587),S=(0,A.vU)({errorCorrectionLevel:{id:"src.components.QrCodeEncoder.errorCorrectionLevel",defaultMessage:"Error correction level"},maskPattern:{id:"src.components.QrCodeEncoder.maskPattern",defaultMessage:"Mask pattern"},default:{id:"src.components.QrCodeEncoder.default",defaultMessage:"Default"}});const B=["L","M","Q","H"],_=[0,1,2,3,4,5,6,7];var w=e=>{let{...t}=e;const n=(0,o.useRef)(null),l=(0,o.useRef)(null),r=(0,o.useMemo)(U.Z,[]),s=(0,o.useMemo)(U.Z,[]),i=(0,o.useRef)(null),{formatMessage:d}=(0,c.Z)(),[p,f]=(0,o.useState)("M"),[E,Z]=(0,o.useState)(),C=(0,o.useCallback)((e=>{""!==e.currentTarget.value&&M.toCanvas(l.current,e.currentTarget.value,{errorCorrectionLevel:p,maskPattern:E})}),[l,p,E]),A=(0,o.useCallback)((e=>{var t,a;if(!(0,y.gB)(...B)(e.target.value))throw new Error;const r=e.target.value;f(r),(0,g.s)(null===(t=n.current)||void 0===t?void 0:t.value),M.toCanvas(l.current,null===(a=n.current)||void 0===a?void 0:a.value,{errorCorrectionLevel:r,maskPattern:E})}),[E]),h=(0,o.useCallback)((e=>{var t,a;if(!(0,y.gB)(..._.map((e=>`${e}`)),"default")(e.target.value))throw new Error;const r="default"!==e.target.value?Number(e.target.value):void 0;Z(r),(0,g.s)(null===(t=n.current)||void 0===t?void 0:t.value),M.toCanvas(l.current,null===(a=n.current)||void 0===a?void 0:a.value,{errorCorrectionLevel:p,maskPattern:r})}),[p]);return(0,o.useEffect)((()=>{var e;null!==(e=n.current)&&void 0!==e&&e.value&&M.toCanvas(l.current,n.current.value)}),[n,l]),o.createElement(a.Z,{container:!0,spacing:2,direction:"row"},o.createElement(a.Z,{item:!0,xs:12,sm:6,container:!0,spacing:2,alignContent:"flex-start"},o.createElement(a.Z,{item:!0,xs:12},o.createElement(v.Z,m()({fullWidth:!0,multiline:!0,inputRef:n,onChange:C},t))),o.createElement(a.Z,{item:!0,xs:6},o.createElement(x.Z,{ref:i,htmlFor:r},o.createElement(u.Z,S.errorCorrectionLevel)),o.createElement(k.Z,{native:!0,onChange:A,id:r,value:p},B.map(((e,t)=>o.createElement("option",{key:t,value:e},e))))),o.createElement(a.Z,{item:!0,xs:6},o.createElement(x.Z,{ref:i,htmlFor:s},o.createElement(u.Z,S.maskPattern)),o.createElement(k.Z,{native:!0,onChange:h,id:s,value:null!=E?E:"default"},o.createElement("option",{value:"default"},d(S.default)),_.map(((e,t)=>o.createElement("option",{key:t,value:e},e)))))),o.createElement(a.Z,{item:!0,xs:12,sm:6},o.createElement("canvas",{ref:l})))},T=(0,A.vU)({qrCodeTools:{id:"src.components.App.QrCodeToolsPage.qrCodeTools",defaultMessage:"QR code tools"},encoder:{id:"src.components.App.QrCodeToolsPage.encoder",defaultMessage:"Encoder"},decoder:{id:"src.components.App.QrCodeToolsPage.decoder",defaultMessage:"Decoder"}});var L=(0,i.D)((()=>{const{formatMessage:e}=(0,c.Z)();return o.createElement(o.Fragment,null,o.createElement(s.Z,{title:e(T.qrCodeTools)}),o.createElement(l.Z,null,o.createElement(l.Z,{padding:2},o.createElement(a.Z,{container:!0,spacing:2},o.createElement(a.Z,{item:!0,xs:12},o.createElement(r.Z,{variant:"h3"},o.createElement(u.Z,T.encoder))),o.createElement(a.Z,{item:!0,xs:12},o.createElement(w,{defaultValue:"https://sueka.me"})))),o.createElement(l.Z,{padding:2},o.createElement(a.Z,{container:!0,spacing:2},o.createElement(a.Z,{item:!0,xs:12},o.createElement(r.Z,{variant:"h3"},o.createElement(u.Z,T.decoder))),o.createElement(a.Z,{item:!0,xs:12},o.createElement(F,null))))))}))},38606:function(e,t,n){n.d(t,{Z:function(){return g}});var l=n(67154),a=n.n(l),r=n(17812),o=n(3380),s=n(92680),c=n(20640),u=n.n(c),i=n(94546),d=n(67294),m=n(31753),p=n(97127),v=n(46121),f=(0,n(85315).vU)({textCopied:{id:"src.components.CopyTextButton.textCopied",defaultMessage:"Text copied."},copyText:{id:"src.components.CopyTextButton.copyText",defaultMessage:"Copy text"}});const E=e=>{let{style:t,...n}=e;if(void 0===t)return d.createElement(s.Z,a()({style:{transform:"scaleY(-1)"}},n));const{transform:l,...r}=t;if(void 0!==l)throw new Error;return d.createElement(s.Z,a()({style:{transform:"scaleY(-1)",...r}},n))};var g=e=>{let{inputFor:t}=e;const{formatMessage:n}=(0,m.Z)(),{enqueueSnackbar:l}=(0,i.Ds)(),a=(0,d.useCallback)((()=>{(0,v.s)(t.current),""!==t.current.value&&(u()(t.current.value),l(d.createElement(p.Z,f.textCopied)))}),[l,t]),[s,c]=(0,d.useState)(!0);return(0,d.useEffect)((()=>{c(null===t.current||""===t.current.value||t.current.disabled)})),d.createElement(o.ZP,{title:n(f.copyText),disableFocusListener:s,disableHoverListener:s,disableTouchListener:s},d.createElement("span",null,d.createElement(r.Z,{onClick:a,disabled:s},d.createElement(E,null))))}},45733:function(e,t,n){n.d(t,{Z:function(){return _}});var l=n(67154),a=n.n(l),r=n(282),o=n(96019),s=n(51206),c=n.n(s),u=n(94184),i=n.n(u),d=n(67294),m=n(97127),p=n(46121),v=n(93379),f=n.n(v),E=n(7795),g=n.n(E),Z=n(90569),C=n.n(Z),A=n(3565),h=n.n(A),b=n(19216),F=n.n(b),x=n(44589),k=n.n(x),M=n(58995),U={};U.styleTagTransform=k(),U.setAttributes=h(),U.insert=C().bind(null,"head"),U.domAPI=g(),U.insertStyleElement=F();f()(M.Z,U);var y=M.Z&&M.Z.locals?M.Z.locals:void 0,S=n(44140);const B=c().getParser(navigator.userAgent).is("Safari");var _=e=>{var t,n;let{className:l,disabled:s,multiple:c,onClick:u,onChange:v,buttonLabel:f=d.createElement(m.Z,S.Z.browse),resultMessage:E,classes:g,component:Z=o.Z,ButtonProps:C,...A}=e;const h=(0,d.useMemo)((()=>i()(l,null==g?void 0:g.root,y.FileUpload,{[y.Safari]:B})),[l,null==g?void 0:g.root]),b=(0,d.useMemo)((()=>i()(null==g?void 0:g.button,y.Button,null==C?void 0:C.className)),[null==g?void 0:g.button,null==C?void 0:C.className]),F=(0,d.useRef)(null),x=null!==(t=null===(n=F.current)||void 0===n?void 0:n.files)&&void 0!==t?t:null,k=(0,d.useMemo)((()=>{if(null==E)return null===x||0===x.length?d.createElement(m.Z,S.Z.noFileSelected):1===x.length?x[0].name:d.createElement(m.Z,a()({},S.Z.nFilesSelected,{values:{n:x.length}}))}),[E,x]),M=(0,d.useCallback)((()=>{(0,p.s)(F.current),F.current.dispatchEvent(new MouseEvent("click"))}),[F]),U=(0,d.useCallback)((e=>{null==u||u(e),e.isDefaultPrevented()||M(e)}),[u,M]);return d.createElement(Z,{className:h,tabIndex:B?-1:0},d.createElement(r.Z,a()({disabled:s,onClick:U},C,{className:b,tabIndex:-1}),f),null!=E?E:k,d.createElement("input",a()({className:y.Input,type:"file",disabled:s,multiple:c,onChange:v,ref:F},A)))}},44140:function(e,t,n){var l=n(85315);t.Z=(0,l.vU)({browse:{id:"src.components.FileUpload.browse",defaultMessage:"Browse…"},noFileSelected:{id:"src.components.FileUpload.noFileSelected",defaultMessage:"No file selected."},nFilesSelected:{id:"src.components.FileUpload.nFilesSelected",defaultMessage:"{ n } files selected."}})},58995:function(e,t,n){var l=n(87537),a=n.n(l),r=n(23645),o=n.n(r)()(a());o.push([e.id,".src-components-FileUpload-classes__FileUpload--zcA60 {\n  display: inline-block; /* TODO: polyfill */\n  display: inline flow-root;\n  cursor: pointer;\n}\n\n.src-components-FileUpload-classes__FileUpload--zcA60.src-components-FileUpload-classes__Safari--xNS3H:focus {\n  outline: none;\n}\n\n.src-components-FileUpload-classes__Button--_x92h.src-components-FileUpload-classes__Button--_x92h {\n  text-transform: none;\n  cursor: unset;\n}\n\n.src-components-FileUpload-classes__Input--HY1r1 {\n  display: none;\n}\n","",{version:3,sources:["webpack://./src/components/FileUpload/classes.css"],names:[],mappings:"AAAA;EACE,qBAAqB,EAAE,mBAAmB;EAC1C,yBAAyB;EACzB,eAAe;AACjB;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,oBAAoB;EACpB,aAAa;AACf;;AAEA;EACE,aAAa;AACf",sourcesContent:[".FileUpload {\n  display: inline-block; /* TODO: polyfill */\n  display: inline flow-root;\n  cursor: pointer;\n}\n\n.FileUpload.Safari:focus {\n  outline: none;\n}\n\n.Button.Button {\n  text-transform: none;\n  cursor: unset;\n}\n\n.Input {\n  display: none;\n}\n"],sourceRoot:""}]),o.locals={FileUpload:"src-components-FileUpload-classes__FileUpload--zcA60",Safari:"src-components-FileUpload-classes__Safari--xNS3H",Button:"src-components-FileUpload-classes__Button--_x92h",Input:"src-components-FileUpload-classes__Input--HY1r1"},t.Z=o}}]);
//# sourceMappingURL=qrCodeTools.52337a06.js.map