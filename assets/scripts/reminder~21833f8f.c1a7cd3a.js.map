{"version":3,"sources":["webpack:///./src/components/Reminder/TaskListItem/classes.css?e0e5","webpack:///./src/components/Reminder/TaskListItem/classes.css","webpack:///./src/lib/curry.ts","webpack:///./src/components/Reminder/AddTaskButton/messages.ts","webpack:///./src/components/Reminder/AddTaskButton/index.tsx","webpack:///./src/components/Reminder/TaskList/index.tsx","webpack:///./src/components/Reminder/TaskListItem/DeleteTaskButton/index.tsx","webpack:///./src/components/Reminder/TaskListItem/messages.ts","webpack:///./src/components/Reminder/TaskListItem/index.tsx","webpack:///./src/components/Reminder/TaskListItemDropTarget/index.tsx","webpack:///./src/components/Reminder/index.tsx","webpack:///./src/components/App/ReminderPage/messages.ts","webpack:///./src/components/App/ReminderPage/index.tsx","webpack:///./src/lib/identity.ts","webpack:///./src/lib/guards/commonGuards.ts","webpack:///./src/components/Nav/classes.css?5ee4","webpack:///./src/components/Nav/classes.css","webpack:///./src/components/LocaleSelect/classes.css?cdf4","webpack:///./src/components/LocaleSelect/classes.css","webpack:///./src/components/DarkSwitch/index.tsx","webpack:///./src/components/LocaleSelect/messages.ts","webpack:///./src/components/LocaleSelect/index.tsx","webpack:///./src/lib/languageNameSolver/index.ts","webpack:///./src/lib/components/Link/index.tsx","webpack:///./src/lib/components/MenuItemLink/index.tsx","webpack:///./src/components/Nav/messages.ts","webpack:///./src/components/Nav/index.tsx","webpack:///./src/lib/components/ErrorBoundary/index.ts","webpack:///./src/templates/PageTemplate/index.tsx","webpack:///./src/lib/asserters/commonAsserters.ts","webpack:///./src/lib/validators/stringValidators.ts"],"names":["api","content","__esModule","default","module","i","options","exports","locals","___CSS_LOADER_API_IMPORT___","push","curry","f","x","xs","defineMessages","add","AddTaskButton","addTask","onClick","variant","color","messages","TaskList","children","DeleteTaskButton","asBoundedLengthStringErrorMessage","TaskListItem","value","index","onChange","onDelete","validate","useDrag","item","type","isDragging","monitor","getItem","isIdenticalTo","collect","dragging","drag","preview","dir","useContext","IntlProviderContext","className","useMemo","classnames","classes","TaskListItemContainer","Ltr","Rtl","Dragging","handleContentChange","useCallback","event","target","handleDoneChange","_checked","done","checked","useIntl","formatMessage","locale","errors","hasError","Object","values","some","error","undefined","helperText","isOneOf","keys","key","text","Case","sentence","Error","ref","container","secondaryAction","ListItemSecondaryAction","fullWidth","disabled","TaskListItemDropTarget","moveTask","div","useRef","useDrop","accept","hover","shouldBePresent","current","clientOffset","getClientOffset","boundingClientRect","getBoundingClientRect","pointerY","y","top","middleY","bottom","drop","asObject","input","leftOnly","named","asBoundedLengthString","upperBound","asBoolean","mapDispatchToProps","getTasks","getTasksAsync","addTaskAsync","changeTaskContent","changeTaskContentAsync","markTaskAsDone","markTaskAsDoneAsync","markTaskAsUndone","markTaskAsUndoneAsync","deleteTask","deleteTaskAsync","connect","tasks","reminder","useEffect","changeTask","taskId","map","task","id","toArray","createPage","title","option","optional","isT","DarkSwitch","ThemeProviderContext","dark","setDark","handleChange","_event","languages","selectLocale","localeSelector","propClasses","FormControlProps","useState","labelWidth","setLabelWidth","inputId","v4","theme","useTheme","props","MuiFormControl","rootClassName","root","labelClassName","label","cssClasses","InputLabel","inputClassName","selectIconClassName","selectIcon","inputUnderlineClassName","inputUnderline","select","inputLabel","node","offsetWidth","selectSelect","querySelector","Select","HTMLDivElement","rect","style","minWidth","width","tag","tagNativeNameMap","availableLocales","htmlFor","icon","inputProps","standard","underline","outlined","filled","availableLocale","isTypographyColor","RouterLinkWithRef","React","forwardRef","innerRef","Link","this","restProps","component","console","warn","typed","Component","MenuItemLink","menuItem","to","button","menuItemProps","LinkWithRef","linkProps","link","home","chess","counter","info","paint","Nav","anchorEl","setAnchorEl","openMenu","currentTarget","closeMenu","position","edge","Spacer","LocaleSelectLabel","LocaleSelectInput","LocaleSelectSelectIcon","LocaleSelectInputUnderline","open","onClose","ErrorBoundary","state","renderError","getDerivedStateFromError","PageTemplate","String","TypeError","Body","it","shouldBeNullable","lowerBound","Infinity","inputAsString","asString","length","ValidationError","asUrl","isUrl"],"mappings":"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","file":"assets/scripts/reminder~21833f8f.c1a7cd3a.js","sourcesContent":["var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../../node_modules/postcss-loader/src/index.js!./classes.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".src-components-Reminder-TaskListItem-classes__TaskListItemContainer--3F5ef.src-components-Reminder-TaskListItem-classes__Dragging--1TtFC {\\n  opacity: 0;\\n}\\n\\n.src-components-Reminder-TaskListItem-classes__ListItemSecondaryAction--3QycB {\\n  -webkit-padding-end: 72px;\\n          padding-inline-end: 72px; /* TODO */\\n}\\n\\n/* TODO: Polyfill and delete the following */\\n.src-components-Reminder-TaskListItem-classes__ListItemSecondaryAction--3QycB.src-components-Reminder-TaskListItem-classes__Ltr--3iC7d {\\n  padding-right: 72px;\\n}\\n\\n.src-components-Reminder-TaskListItem-classes__ListItemSecondaryAction--3QycB.src-components-Reminder-TaskListItem-classes__Rtl--1yl21 {\\n  padding-left: 72px;\\n}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"TaskListItemContainer\": \"src-components-Reminder-TaskListItem-classes__TaskListItemContainer--3F5ef\",\n\t\"Dragging\": \"src-components-Reminder-TaskListItem-classes__Dragging--1TtFC\",\n\t\"ListItemSecondaryAction\": \"src-components-Reminder-TaskListItem-classes__ListItemSecondaryAction--3QycB\",\n\t\"Ltr\": \"src-components-Reminder-TaskListItem-classes__Ltr--3iC7d\",\n\t\"Rtl\": \"src-components-Reminder-TaskListItem-classes__Rtl--1yl21\"\n};\nmodule.exports = exports;\n","const curry = <T0, Ts extends unknown[], U>(f: (x: T0, ...xs: Ts) => U) => (x: T0) => (...xs: Ts): U => f(x, ...xs)\n\nexport default curry\n","import { defineMessages } from 'react-intl'\n\nexport default defineMessages({\n  add: 'add',\n})\n","import React from 'react'\nimport { FormattedMessage } from 'react-intl'\n\nimport Button from '@material-ui/core/Button'\n\nimport messages from './messages'\n\nexport interface Props {\n  addTask(): void\n}\n\nconst AddTaskButton: React.FC<Props> = ({ addTask }) => (\n  <Button onClick={ addTask } variant=\"contained\" color=\"secondary\">\n    <FormattedMessage { ...messages.add } />\n  </Button>\n)\n\nexport default AddTaskButton\n","import React from 'react'\n\nimport List from '@material-ui/core/List'\n\nimport { Props as TaskListItemDropTargetProps } from '~/components/Reminder/TaskListItemDropTarget'\n\nexport interface Props {\n  children?: React.ReactElement<TaskListItemDropTargetProps, React.ComponentType<TaskListItemDropTargetProps>> | Array<React.ReactElement<TaskListItemDropTargetProps, React.ComponentType<TaskListItemDropTargetProps>>>\n}\n\nconst TaskList: React.FC<Props> = ({ children }) => (\n  <List>\n    { children }\n  </List>\n)\n\nexport default TaskList\n","import React from 'react'\n\nimport IconButton from '@material-ui/core/IconButton'\nimport DeleteIcon from '@material-ui/icons/Delete'\n\nexport interface Props {\n  onClick(): void\n}\n\nconst DeleteTaskButton: React.FC<Props> = ({ onClick }) => (\n  <IconButton onClick={ onClick }>\n    <DeleteIcon />\n  </IconButton>\n)\n\nexport default DeleteTaskButton\n","import { defineMessages } from 'react-intl'\n\nexport default defineMessages({\n  asBoundedLengthStringErrorMessage: '{ name } must be 0-{ upperBound } characters.',\n})\n","import Case from 'case'\nimport classnames from 'classnames'\nimport React, { useCallback, useContext, useMemo } from 'react'\nimport { DragObjectWithType, useDrag } from 'react-dnd'\nimport { useIntl } from 'react-intl'\n\nimport Checkbox from '@material-ui/core/Checkbox'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction'\nimport TextField from '@material-ui/core/TextField'\nimport DragHandleIcon from '@material-ui/icons/DragHandle'\n\nimport Task, { TaskParams } from '~/domain/entity/Task'\nimport IntlProviderContext from '~/lib/contexts/IntlProviderContext'\nimport { isOneOf } from '~/lib/guards/commonGuards'\nimport ValidationError from '~/lib/validators/ValidationError'\nimport DeleteTaskButton from './DeleteTaskButton'\nimport classes from './classes.css'\nimport messages from './messages'\n\nexport interface Props {\n  value: Task\n  index: number\n\n  onChange(value: Partial<TaskParams>): void\n  onDelete(): void\n  validate(input: Task): Partial<Record<keyof Task, ValidationError>>\n}\n\ninterface CollectedProps {\n  dragging: boolean\n}\n\nexport interface DragObject extends DragObjectWithType {\n  value: Task\n  index: number\n}\n\nconst TaskListItem: React.FC<Props> = ({ value, index, onChange, onDelete, validate }) => {\n  const [{ dragging }, drag, preview] = useDrag<DragObject, unknown, CollectedProps>({\n    item: {\n      type: 'TaskListItem',\n      value,\n      index,\n    },\n    isDragging: (monitor) => {\n      const item: DragObject = monitor.getItem()\n\n      return value.isIdenticalTo(item.value)\n    },\n    collect: (monitor) => ({\n      dragging: monitor.isDragging(),\n    }),\n  })\n\n  const { dir } = useContext(IntlProviderContext)\n\n  const className = useMemo(() => classnames(classes.TaskListItemContainer, {\n    [classes.Ltr]: dir === 'ltr',\n    [classes.Rtl]: dir === 'rtl',\n    [classes.Dragging]: dragging,\n  }), [dir, dragging])\n\n  const handleContentChange = useCallback<React.ChangeEventHandler<HTMLInputElement>>((event) => {\n    onChange({\n      content: event.target.value,\n    })\n  }, [onChange])\n\n  const handleDoneChange = useCallback((event: React.ChangeEvent<HTMLInputElement>, _checked: boolean) => {\n    onChange({\n      done: event.target.checked,\n    })\n  }, [onChange])\n\n  const { formatMessage, locale } = useIntl()\n\n  const errors = useMemo(() => validate(value), [value, validate])\n  const hasError = useMemo(() => Object.values(errors).some((error) => error !== undefined), [errors])\n\n  const helperText = useMemo(() => {\n    if (errors.content === undefined) {\n      return null\n    }\n\n    if (isOneOf(...Object.keys(messages))(errors.content.key)) {\n      const text = formatMessage(messages[errors.content.key], errors.content.values)\n\n      switch (locale) {\n        case 'en': return Case.sentence(text)\n        case 'ja':\n        case 'he': return text\n        default: throw new Error // TODO\n      }\n    }\n\n    return null // TODO\n  }, [locale, formatMessage, errors.content])\n\n  return (\n    <div ref={ preview }>\n      <ListItem\n        classes={ {\n          container: className,\n          secondaryAction: classes.ListItemSecondaryAction,\n        } }\n      >\n        <ListItemIcon>\n          <div ref={ drag }>\n            <DragHandleIcon />\n          </div>\n        </ListItemIcon>\n        <ListItemIcon>\n          <Checkbox checked={ value.done } onChange={ handleDoneChange } />\n        </ListItemIcon>\n        <TextField\n          fullWidth\n          value={ value.content }\n          onChange={ handleContentChange }\n          disabled={ value.done }\n          error={ hasError }\n          helperText={ helperText }\n        />\n        <ListItemSecondaryAction>\n          <DeleteTaskButton onClick={ onDelete } />\n        </ListItemSecondaryAction>\n      </ListItem>\n    </div>\n  )\n}\n\nexport default TaskListItem\n","import React, { useRef } from 'react'\nimport { useDrop } from 'react-dnd'\n\nimport { DragObject, Props as TaskListItemProps } from '~/components/Reminder/TaskListItem'\nimport { shouldBePresent } from '~/lib/asserters/commonAsserters'\n\nexport interface Props {\n  children?: React.ReactElement<TaskListItemProps, React.ComponentType<TaskListItemProps>>\n  index: number\n\n  moveTask(sourceIndex: number, targetIndex: number): void\n}\n\nconst TaskListItemDropTarget: React.FC<Props> = ({ children, index, moveTask }) => {\n  const div = useRef<HTMLDivElement>(null)\n\n  const [, drop] = useDrop<DragObject, unknown, unknown>({\n    accept: 'TaskListItem',\n    hover(item, monitor) {\n      shouldBePresent(div.current)\n\n      if (item.index === index) {\n        return\n      }\n\n      const clientOffset = monitor.getClientOffset()\n\n      shouldBePresent(clientOffset)\n\n      const boundingClientRect = div.current.getBoundingClientRect()\n      const pointerY = clientOffset.y - boundingClientRect.top\n      const middleY = (boundingClientRect.bottom - boundingClientRect.top) / 2\n\n      // downwards\n      if (item.index < index && pointerY < middleY) {\n        return\n      }\n\n      // upwards\n      if (item.index > index && pointerY > middleY) {\n        return\n      }\n\n      moveTask(item.index, index)\n\n      // tslint:disable-next-line:no-object-mutation\n      item.index = index\n    },\n  })\n\n  drop(div)\n\n  return (\n    <div ref={ div }>\n      { children }\n    </div>\n  )\n}\n\nexport default TaskListItemDropTarget\n","import { List } from 'immutable'\nimport React, { useCallback, useEffect } from 'react'\nimport { connect } from 'react-redux'\n\nimport Task, { TaskParams } from '~/domain/entity/Task'\nimport TaskId from '~/domain/vo/TaskId'\nimport curry from '~/lib/curry'\nimport { asBoolean, asObject, leftOnly, named } from '~/lib/validators/commonValidators'\nimport { asBoundedLengthString } from '~/lib/validators/stringValidators'\nimport { State } from '~/redux'\nimport { addTaskAsync, changeTaskContentAsync, deleteTaskAsync, getTasksAsync, markTaskAsDoneAsync, markTaskAsUndoneAsync, moveTask } from '~/redux/modules/reminder'\nimport AddTaskButton from './AddTaskButton'\nimport TaskList from './TaskList'\nimport TaskListItem from './TaskListItem'\nimport TaskListItemDropTarget from './TaskListItemDropTarget'\n\ninterface StateProps {\n  tasks: List<Task>\n}\n\ninterface DispatchProps {\n  getTasks(): void\n  addTask(): void\n  changeTaskContent(taskId: TaskId, content: string): void\n  markTaskAsDone(taskId: TaskId): void\n  markTaskAsUndone(taskId: TaskId): void\n  deleteTask(taskId: TaskId): void\n  moveTask(source: number, dest: number): void\n}\n\ntype Props =\n  & StateProps\n  & DispatchProps\n\nconst validate = asObject('a Task for presentation', (input) => ({\n  content: leftOnly(named('content', asBoundedLengthString({\n    upperBound: 140,\n  })))(input.content),\n  done: leftOnly(asBoolean)(input.done),\n}))\n\nconst Reminder: React.FC<Props> = ({ tasks, getTasks, addTask, changeTaskContent, markTaskAsDone, markTaskAsUndone, deleteTask, moveTask }) => {\n  useEffect(() => {\n    getTasks()\n  }, [getTasks])\n\n  const changeTask = useCallback((taskId: TaskId, { content, done }: Partial<Alt.Omit<TaskParams, 'id'>>) => {\n    if (content !== undefined) {\n      changeTaskContent(taskId, content)\n    }\n\n    if (done !== undefined) {\n      if (done) {\n        markTaskAsDone(taskId)\n      } else {\n        markTaskAsUndone(taskId)\n      }\n    }\n  }, [changeTaskContent, markTaskAsDone, markTaskAsUndone])\n\n  return (\n    <>\n      <TaskList>\n        {\n          tasks.map((task, index) => (\n            <TaskListItemDropTarget\n              key={ index }\n              index={ index }\n              moveTask={ moveTask }\n            >\n              <TaskListItem\n                key={ task.id.value }\n                value={ task }\n                index={ index }\n                onChange={ curry(changeTask)(task.id) }\n                onDelete={ curry(deleteTask)(task.id) }\n                validate={ validate }\n              />\n            </TaskListItemDropTarget>\n          )).toArray()\n        }\n      </TaskList>\n      <AddTaskButton addTask={ addTask } />\n    </>\n  )\n}\n\n// connect\n\nconst mapStateToProps = ({ reminder: { tasks } }: State): StateProps => ({\n  tasks,\n})\n\nconst mapDispatchToProps: DispatchProps = {\n  getTasks: getTasksAsync,\n  addTask: addTaskAsync,\n  changeTaskContent: changeTaskContentAsync,\n  markTaskAsDone: markTaskAsDoneAsync,\n  markTaskAsUndone: markTaskAsUndoneAsync,\n  deleteTask: deleteTaskAsync,\n  moveTask,\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Reminder)\n","import { defineMessages } from 'react-intl'\n\nexport default defineMessages({\n  reminder: 'reminder',\n})\n","import React from 'react'\nimport Helmet from 'react-helmet'\nimport { useIntl } from 'react-intl'\n\nimport Reminder from '~/components/Reminder'\nimport { createPage } from '~/templates/PageTemplate'\nimport messages from './messages'\n\nconst ReminderPage: React.FC = () => {\n  const { formatMessage } = useIntl()\n\n  return (\n    <>\n      <Helmet title={ formatMessage(messages.reminder) } />\n      <Reminder />\n    </>\n  )\n}\n\nexport default createPage(ReminderPage)\n","const identity = <T extends U, U>(it: T): U => it\n\nexport default identity\n","import identity from '~/lib/identity'\n\nexport const isOneOf = <T extends readonly Json[]>(...options: T) => (input: unknown): input is T[number] => options.some((option) => option === input)\n\nexport const optional = <A extends unknown, T extends A>(isT: (input: A) => input is T) => (input: A | undefined): input is T | undefined => {\n  if (input === undefined) {\n    return true\n  }\n\n  return isT(input)\n}\n\nexport const isObject = <A extends B, T extends A, B = A>(isT: (input: B) => Record<keyof A, boolean>) => (input: A): input is T => {\n  return Object.values<boolean>(isT(input)).every(identity)\n}\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../node_modules/postcss-loader/src/index.js!./classes.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".src-components-Nav-classes__Spacer--36ovl {\\n  flex-grow: 1;\\n}\\n\\n.src-components-Nav-classes__LocaleSelectLabel--3h3DV.src-components-Nav-classes__LocaleSelectLabel--3h3DV {\\n  color: currentColor\\n}\\n\\n.src-components-Nav-classes__LocaleSelectLabel--3h3DV.src-components-Nav-classes__LocaleSelectLabel--3h3DV.Mui-focused {\\n    opacity: 0.618;\\n    color: currentColor;\\n  }\\n\\n.src-components-Nav-classes__LocaleSelectInput--3oNu1.src-components-Nav-classes__LocaleSelectInput--3oNu1 {\\n  color: currentColor;\\n}\\n\\n.src-components-Nav-classes__LocaleSelectSelectIcon--2AyFk.src-components-Nav-classes__LocaleSelectSelectIcon--2AyFk {\\n  color: currentColor;\\n}\\n\\n.src-components-Nav-classes__LocaleSelectInputUnderline--2WFrx.src-components-Nav-classes__LocaleSelectInputUnderline--2WFrx::before,\\n  .src-components-Nav-classes__LocaleSelectInputUnderline--2WFrx.src-components-Nav-classes__LocaleSelectInputUnderline--2WFrx:hover:not(.Mui-disabled)::before,\\n  .src-components-Nav-classes__LocaleSelectInputUnderline--2WFrx.src-components-Nav-classes__LocaleSelectInputUnderline--2WFrx::after {\\n    border-bottom-color: currentColor;\\n  }\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"Spacer\": \"src-components-Nav-classes__Spacer--36ovl\",\n\t\"LocaleSelectLabel\": \"src-components-Nav-classes__LocaleSelectLabel--3h3DV\",\n\t\"LocaleSelectInput\": \"src-components-Nav-classes__LocaleSelectInput--3oNu1\",\n\t\"LocaleSelectSelectIcon\": \"src-components-Nav-classes__LocaleSelectSelectIcon--2AyFk\",\n\t\"LocaleSelectInputUnderline\": \"src-components-Nav-classes__LocaleSelectInputUnderline--2WFrx\"\n};\nmodule.exports = exports;\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../node_modules/postcss-loader/src/index.js!./classes.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".src-components-LocaleSelect-classes__InputLabel--3FfW9 {\\n  white-space: nowrap;\\n}\\n\\n.src-components-LocaleSelect-classes__Select--3gHqK {\\n  /* Silence is golden. */\\n}\\n\", \"\"]);\n// Exports\nexports.locals = {\n\t\"InputLabel\": \"src-components-LocaleSelect-classes__InputLabel--3FfW9\",\n\t\"Select\": \"src-components-LocaleSelect-classes__Select--3gHqK\"\n};\nmodule.exports = exports;\n","import React, { useCallback, useContext } from 'react'\n\nimport Switch from '@material-ui/core/Switch'\n\nimport ThemeProviderContext from '~/contexts/ThemeProviderContext'\n\nconst DarkSwitch = () => {\n  const { dark, setDark } = useContext(ThemeProviderContext)\n\n  if (dark == null || setDark == null) {\n    throw new Error //\n  }\n\n  const handleChange = useCallback((_event, checked) => {\n    setDark(checked)\n  }, [setDark])\n\n  return (\n    <Switch checked={ dark } onChange={ handleChange } />\n  )\n}\n\nexport default DarkSwitch\n","import { defineMessages } from 'react-intl'\n\nexport default defineMessages({\n  languages: 'Languages',\n})\n","import classnames from 'classnames'\nimport React, { useCallback, useContext, useMemo, useRef, useState } from 'react'\nimport { FormattedMessage } from 'react-intl'\nimport { connect } from 'react-redux'\nimport { v4 } from 'uuid'\n\nimport FilledInput from '@material-ui/core/FilledInput'\nimport FormControl, { FormControlProps } from '@material-ui/core/FormControl'\nimport Input from '@material-ui/core/Input'\nimport InputLabel from '@material-ui/core/InputLabel'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport OutlinedInput from '@material-ui/core/OutlinedInput'\nimport Select, { SelectProps } from '@material-ui/core/Select'\nimport { useTheme } from '@material-ui/core/styles'\n\nimport IntlProviderContext from '~/lib/contexts/IntlProviderContext'\nimport { Tag, getNativeNameByTag, isTag } from '~/lib/languageNameSolver'\nimport { State } from '~/redux'\nimport { selectLocale } from '~/redux/modules/localeSelector'\nimport cssClasses from './classes.css'\nimport messages from './messages'\n\ninterface OwnProps {\n  classes?: {\n    root?: string\n    label?: string\n    input?: string\n    selectIcon?: string\n    inputUnderline?: string\n  } | null\n  FormControlProps?: FormControlProps | null\n}\n\ninterface StateProps {\n  locale: Tag\n}\n\ninterface DispatchProps {\n  selectLocale(locale: Tag): void\n}\n\ntype Props =\n  & OwnProps\n  & StateProps\n  & DispatchProps\n\nexport /* for testing */ const LocaleSelect: React.FC<Props> = ({ classes: propClasses, FormControlProps, locale, selectLocale }) => {\n  const [labelWidth, setLabelWidth] = useState<number>(0)\n  const inputId = useMemo(v4, [])\n  const theme = useTheme()\n\n  // NOTE: Fortunately, FormControl is nothing but FormControl.\n  const variant = useMemo(() => FormControlProps?.variant ?? theme?.props?.MuiFormControl?.variant ?? 'standard', [FormControlProps?.variant, theme?.props?.MuiFormControl?.variant])\n\n  const rootClassName = useMemo(() => classnames(propClasses?.root,  FormControlProps?.className), [propClasses?.root, FormControlProps?.className])\n  const labelClassName = useMemo(() => classnames(propClasses?.label, cssClasses.InputLabel), [propClasses?.label])\n  const inputClassName = useMemo(() => classnames(propClasses?.input), [propClasses?.input])\n  const selectIconClassName = useMemo(() => classnames(propClasses?.selectIcon), [propClasses?.selectIcon])\n  const inputUnderlineClassName = useMemo(() => classnames(propClasses?.inputUnderline), [propClasses?.inputUnderline])\n\n  const select = useRef<HTMLDivElement>(null)\n\n  const inputLabel = useCallback((node: HTMLLabelElement | null) => { // TODO: Type\n    if (node !== null) {\n      setLabelWidth(node.offsetWidth)\n\n      if (select.current === null) {\n        return\n      }\n\n      const selectSelect = select.current.querySelector(`:scope > .${ cssClasses.Select }`)\n\n      if (selectSelect === null || !(selectSelect instanceof HTMLDivElement)) {\n        return\n      }\n\n      const rect = node.getBoundingClientRect()\n\n      // tslint:disable-next-line:no-object-mutation\n      selectSelect.style.minWidth = `${ rect.width }px` // FIXME: style を操作しないようにする\n    }\n  }, [select.current]) // eslint-disable-line react-hooks/exhaustive-deps\n\n  const handleChange = useCallback<NonNullable<SelectProps['onChange']>>((event) => {\n    if (isTag(event.target.value)) {\n      selectLocale(event.target.value)\n    }\n  }, [selectLocale])\n\n  const { availableLocales } = useContext(IntlProviderContext)\n\n  return (\n    <FormControl\n      { ...FormControlProps }\n      className={ rootClassName } // NOTE: Overrides FormControlProps.className\n    >\n      <InputLabel className={ labelClassName } ref={ inputLabel } htmlFor={ inputId }>\n        <FormattedMessage { ...messages.languages } />\n      </InputLabel>\n      <Select\n        classes={ {\n          select: cssClasses.Select,\n          icon: selectIconClassName,\n        } }\n        ref={ select }\n        labelWidth={ labelWidth }\n        value={ locale }\n        onChange={ handleChange }\n        id={ inputId }\n        inputProps={ { 'data-testid': 'localeSelect' } }\n        input={ {\n          standard: (\n            <Input\n              className={ inputClassName }\n              classes={ {\n                underline: inputUnderlineClassName,\n              } }\n            />\n          ),\n          outlined: <OutlinedInput className={ inputClassName } labelWidth={ labelWidth } />,\n          filled: <FilledInput className={ inputClassName } />,\n        }[variant] }\n      >\n        { availableLocales?.map((availableLocale, i) => (\n          <MenuItem key={ i } value={ availableLocale }>{ getNativeNameByTag(availableLocale) }</MenuItem>\n        )) }\n      </Select>\n    </FormControl>\n  )\n}\n\n// connect\n\nconst mapStateToProps = ({ localeSelector: { locale } }: State): StateProps => ({\n  locale,\n})\n\nconst mapDispatchToProps: DispatchProps = {\n  selectLocale,\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LocaleSelect)\n","import tagNativeNameMap from './__data__/tagNativeNameMap.json'\n\nexport type Tag = keyof typeof tagNativeNameMap\n\nexport function isTag(tag: unknown): tag is Tag {\n  return typeof tag === 'string' && tag in tagNativeNameMap\n}\n\nexport function getNativeNameByTag(tag: Tag) {\n  return tagNativeNameMap[tag]\n}\n","import React from 'react'\nimport { Link as RouterLink, LinkProps as RouterLinkProps } from 'react-router-dom'\n\nimport MuiLink, { LinkProps as MuiLinkProps } from '@material-ui/core/Link'\n\nimport { isOneOf, optional } from '~/lib/guards/commonGuards'\nimport typed from '~/lib/typed'\n\nexport type Props =\n  & RouterLinkProps\n  & Alt.Omit<MuiLinkProps, 'color' | 'ref'>\n\nconst isTypographyColor = optional(isOneOf('initial', 'inherit', 'primary', 'secondary', 'textPrimary', 'textSecondary', 'error'))\n\n// TODO: Delete; See also https://material-ui.com/guides/composition/#link\nconst RouterLinkWithRef = React.forwardRef<HTMLAnchorElement, RouterLinkProps>((props, ref) => (\n  <RouterLink innerRef={ ref } { ...props } />\n))\n\nexport default class Link extends React.Component<Props> {\n  public render() {\n    const { color, ...restProps } = this.props\n\n    if (!isTypographyColor(color)) {\n      console.warn(typed<[string]>`${ color } is not a Material-UI Typography color.`) // tslint:disable-line:no-console\n\n      return (\n        <MuiLink component={ RouterLinkWithRef } { ...restProps } />\n      )\n    }\n\n    return (\n      <MuiLink component={ RouterLinkWithRef } color={ color } { ...restProps } />\n    )\n  }\n}\n","import * as React from 'react'\n\nimport MenuItem, { MenuItemProps } from '@material-ui/core/MenuItem'\n\nimport Link, { Props as LinkProps } from '~/lib/components/Link'\n\ntype Props = MenuItemProps<typeof Link, { button?: true }>\n\nconst MenuItemLink: React.FC<Props> = React.forwardRef<Link, React.PropsWithoutRef<Props>>(({ to, button, innerRef, ...menuItemProps }, menuItem) => {\n  // See https://material-ui.com/guides/composition/#link\n  const LinkWithRef = React.forwardRef<Link, LinkProps>((linkProps, link) => (\n    <Link ref={ link } innerRef={ innerRef } color=\"inherit\" underline=\"none\" { ...linkProps } />\n  ))\n\n  return (\n    <MenuItem button component={ LinkWithRef } to={ to } ref={ menuItem } { ...menuItemProps } />\n  )\n})\n\nexport default MenuItemLink\n","import { defineMessages } from 'react-intl'\n\nexport default defineMessages({\n  home: 'home',\n  chess: 'chess',\n  counter: 'counter',\n  info: 'info',\n  paint: 'paint',\n  reminder: 'reminder',\n})\n","import React, { useCallback, useState } from 'react'\nimport { FormattedMessage } from 'react-intl'\n\nimport AppBar from '@material-ui/core/AppBar'\nimport IconButton from '@material-ui/core/IconButton'\nimport Menu from '@material-ui/core/Menu'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport MenuIcon from '@material-ui/icons/Menu'\n\nimport DarkSwitch from '~/components/DarkSwitch'\nimport LocaleSelect from '~/components/LocaleSelect' // TODO\nimport MenuItemLink from '~/lib/components/MenuItemLink'\nimport classes from './classes.css'\nimport messages from './messages'\n\nconst Nav: React.FC = () => {\n  const [anchorEl, setAnchorEl] = useState<HTMLButtonElement | null>(null)\n\n  const openMenu = useCallback<React.MouseEventHandler<HTMLButtonElement>>((event) => {\n    setAnchorEl(event.currentTarget)\n  }, [])\n\n  const closeMenu = useCallback(() => {\n    setAnchorEl(null)\n  }, [])\n\n  return (\n    <>\n      <AppBar position=\"sticky\">\n        <Toolbar>\n          <IconButton edge=\"start\" color=\"inherit\" onClick={ openMenu }>\n            <MenuIcon />\n          </IconButton>\n          <div className={ classes.Spacer } />\n          <DarkSwitch />\n          <LocaleSelect\n            classes={ {\n              label: classes.LocaleSelectLabel,\n              input: classes.LocaleSelectInput,\n              selectIcon: classes.LocaleSelectSelectIcon,\n              inputUnderline: classes.LocaleSelectInputUnderline,\n            } }\n            FormControlProps={ {\n              variant: 'filled',\n            } }\n          />\n        </Toolbar>\n      </AppBar>\n      <Menu open={ anchorEl !== null } anchorEl={ anchorEl } onClose={ closeMenu }>\n        <MenuItemLink to=\"/\" onClick={ closeMenu }>\n          <FormattedMessage { ...messages.home } />\n        </MenuItemLink>\n        <MenuItemLink to=\"/chess\" onClick={ closeMenu }>\n          <FormattedMessage { ...messages.chess } />\n        </MenuItemLink>\n        <MenuItemLink to=\"/counter\" onClick={ closeMenu }>\n          <FormattedMessage { ...messages.counter } />\n        </MenuItemLink>\n        <MenuItemLink to=\"/info\" onClick={ closeMenu }>\n          <FormattedMessage { ...messages.info } />\n        </MenuItemLink>\n        <MenuItemLink to=\"/paint\" onClick={ closeMenu }>\n          <FormattedMessage { ...messages.paint } />\n        </MenuItemLink>\n        <MenuItemLink to=\"/reminder\" onClick={ closeMenu }>\n          <FormattedMessage { ...messages.reminder } />\n        </MenuItemLink>\n      </Menu>\n    </>\n  )\n}\n\nexport default Nav\n","import React from 'react'\n\ninterface Props {\n  /**\n   * @param children that throws {error}\n   */\n  renderError(error: unknown, children: React.ReactNode): React.ReactNode\n}\n\ninterface State {\n  hasError: boolean\n  error?: unknown\n}\n\nclass ErrorBoundary extends React.Component<Props, State> {\n\n  // NOTE: https://github.com/DefinitelyTyped/DefinitelyTyped/blob/826ce0f1ce1d1887d199986283630d6f63075ad5/types/react/index.d.ts#L419 にも関わらず、初期化されていない state は null であるため、初期化を強制するためにプロパティ宣言を行う。\n  public state: Readonly<State> = {\n    hasError: false,\n  }\n\n  public static getDerivedStateFromError = (error: unknown) => ({\n    hasError: true,\n    error,\n  })\n\n  public render() {\n    const { renderError, children } = this.props\n    const { hasError, error } = this.state\n\n    if (hasError) {\n      return renderError(error, children)\n    }\n\n    return children\n  }\n}\n\nexport default ErrorBoundary\n","import React, { useCallback } from 'react'\nimport { RouteComponentProps } from 'react-router-dom'\n\nimport Nav from '~/components/Nav'\nimport ErrorBoundary from '~/lib/components/ErrorBoundary'\nimport typed from '~/lib/typed'\n\ninterface PageTemplateProps {\n  children: React.ReactElement<BodyProps, React.ComponentType<BodyProps>>\n}\n\ntype BodyProps = PageProps\n\ntype PageProps =\n  & RouteComponentProps\n\nconst PageTemplate: React.FC<PageTemplateProps> = ({ children }) => {\n  const renderError = useCallback((error: unknown) => {\n    if (error instanceof Error) {\n      return typed<[string]>`${ String(error) }`\n    }\n\n    throw new TypeError(typed<[string]>`${ String(error) } is not an error.`)\n  }, [])\n\n  return (\n    <>\n      <Nav />\n      <ErrorBoundary renderError={ renderError }>\n        { children }\n      </ErrorBoundary>\n    </>\n  )\n}\n\nexport const createPage: (Body: React.FC<BodyProps>) => React.FC<PageProps> = (Body) => (props) => (\n  <PageTemplate>\n    <Body { ...props } />\n  </PageTemplate>\n)\n\nexport default PageTemplate\n","export function shouldBePresent<T>(it: T | null | undefined): asserts it is T {\n  if (it == null) {\n    throw new Error //\n  }\n}\n\nexport function shouldBeNullable<T>(it: T | null | undefined): asserts it is null | undefined {\n  if (it != null) {\n    throw new Error //\n  }\n}\n","import assert from 'assert'\n\nimport { isUrl } from '~/lib/guards/stringGuards'\nimport typed from '~/lib/typed'\nimport ValidationError from './ValidationError'\nimport { asString } from './commonValidators'\n\nexport const asBoundedLengthString = ({\n  lowerBound = -Infinity,\n  upperBound = Infinity,\n}: {\n  lowerBound?: number\n  upperBound?: number\n}) => (input: unknown) => {\n  assert(lowerBound <= upperBound)\n\n  const inputAsString = asString(input)\n\n  if (lowerBound <= inputAsString.length && inputAsString.length <= upperBound) {\n    return inputAsString\n  }\n\n  throw new ValidationError(\n    typed<[string, number, number]>`${ inputAsString } is not between ${ lowerBound } and ${ upperBound } characters.`,\n    'asBoundedLengthStringErrorMessage',\n    {\n      input: inputAsString.length,\n      lowerBound,\n      upperBound,\n    }\n  )\n}\n\nexport function asUrl(input: unknown): string.Url {\n  const inputAsString = asString(input)\n\n  if (!isUrl(inputAsString)) {\n    throw new ValidationError(typed<[string]>`${ inputAsString } is not a URL.`)\n  }\n\n  return inputAsString\n}\n"],"sourceRoot":""}