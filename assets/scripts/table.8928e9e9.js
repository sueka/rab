(self.webpackChunkrap=self.webpackChunkrap||[]).push([[4986],{56363:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return X}});var r=a(95477),n=a(67294),o=a(64593),l=a(31753),i=a(35369),s=a(15659),c=a(26353),d=a(79895),u=a(81253),p=a(22122),m=(a(45697),a(86010)),f=a(14670);var g=n.createContext(),v="table",h=n.forwardRef((function(e,t){var a=e.classes,r=e.className,o=e.component,l=void 0===o?v:o,i=e.padding,s=void 0===i?"default":i,c=e.size,d=void 0===c?"medium":c,f=e.stickyHeader,h=void 0!==f&&f,y=(0,u.Z)(e,["classes","className","component","padding","size","stickyHeader"]),E=n.useMemo((function(){return{padding:s,size:d,stickyHeader:h}}),[s,d,h]);return n.createElement(g.Provider,{value:E},n.createElement(l,(0,p.Z)({role:l===v?null:"table",ref:t,className:(0,m.Z)(a.root,r,h&&a.stickyHeader)},y)))})),y=(0,f.Z)((function(e){return{root:{display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":(0,p.Z)({},e.typography.body2,{padding:e.spacing(2),color:e.palette.text.secondary,textAlign:"left",captionSide:"bottom"})},stickyHeader:{borderCollapse:"separate"}}}),{name:"MuiTable"})(h);var E=n.createContext(),b={variant:"body"},Z="tbody",w=n.forwardRef((function(e,t){var a=e.classes,r=e.className,o=e.component,l=void 0===o?Z:o,i=(0,u.Z)(e,["classes","className","component"]);return n.createElement(E.Provider,{value:b},n.createElement(l,(0,p.Z)({className:(0,m.Z)(a.root,r),ref:t,role:l===Z?null:"rowgroup"},i)))})),S=(0,f.Z)({root:{display:"table-row-group"}},{name:"MuiTableBody"})(w),x=a(93871),N=a(59693),k=n.forwardRef((function(e,t){var a,r,o=e.align,l=void 0===o?"inherit":o,i=e.classes,s=e.className,c=e.component,d=e.padding,f=e.scope,v=e.size,h=e.sortDirection,y=e.variant,b=(0,u.Z)(e,["align","classes","className","component","padding","scope","size","sortDirection","variant"]),Z=n.useContext(g),w=n.useContext(E),S=w&&"head"===w.variant;c?(r=c,a=S?"columnheader":"cell"):r=S?"th":"td";var N=f;!N&&S&&(N="col");var k=d||(Z&&Z.padding?Z.padding:"default"),C=v||(Z&&Z.size?Z.size:"medium"),_=y||w&&w.variant,A=null;return h&&(A="asc"===h?"ascending":"descending"),n.createElement(r,(0,p.Z)({ref:t,className:(0,m.Z)(i.root,i[_],s,"inherit"!==l&&i["align".concat((0,x.Z)(l))],"default"!==k&&i["padding".concat((0,x.Z)(k))],"medium"!==C&&i["size".concat((0,x.Z)(C))],"head"===_&&Z&&Z.stickyHeader&&i.stickyHeader),"aria-sort":A,role:a,scope:N},b))})),C=(0,f.Z)((function(e){return{root:(0,p.Z)({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:"1px solid\n    ".concat("light"===e.palette.type?(0,N.$n)((0,N.U1)(e.palette.divider,1),.88):(0,N._j)((0,N.U1)(e.palette.divider,1),.68)),textAlign:"left",padding:16}),head:{color:e.palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},body:{color:e.palette.text.primary},footer:{color:e.palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},sizeSmall:{padding:"6px 24px 6px 16px","&:last-child":{paddingRight:16},"&$paddingCheckbox":{width:24,padding:"0 12px 0 16px","&:last-child":{paddingLeft:12,paddingRight:16},"& > *":{padding:0}}},paddingCheckbox:{width:48,padding:"0 0 0 4px","&:last-child":{paddingLeft:0,paddingRight:4}},paddingNone:{padding:0,"&:last-child":{padding:0}},alignLeft:{textAlign:"left"},alignCenter:{textAlign:"center"},alignRight:{textAlign:"right",flexDirection:"row-reverse"},alignJustify:{textAlign:"justify"},stickyHeader:{position:"sticky",top:0,left:0,zIndex:2,backgroundColor:e.palette.background.default}}}),{name:"MuiTableCell"})(k),_=n.forwardRef((function(e,t){var a=e.classes,r=e.className,o=e.component,l=void 0===o?"div":o,i=(0,u.Z)(e,["classes","className","component"]);return n.createElement(l,(0,p.Z)({ref:t,className:(0,m.Z)(a.root,r)},i))})),A=(0,f.Z)({root:{width:"100%",overflowX:"auto"}},{name:"MuiTableContainer"})(_),O={variant:"head"},T="thead",R=n.forwardRef((function(e,t){var a=e.classes,r=e.className,o=e.component,l=void 0===o?T:o,i=(0,u.Z)(e,["classes","className","component"]);return n.createElement(E.Provider,{value:O},n.createElement(l,(0,p.Z)({className:(0,m.Z)(a.root,r),ref:t,role:l===T?null:"rowgroup"},i)))})),H=(0,f.Z)({root:{display:"table-header-group"}},{name:"MuiTableHead"})(R),I=n.forwardRef((function(e,t){var a=e.classes,r=e.className,o=e.component,l=void 0===o?"tr":o,i=e.hover,s=void 0!==i&&i,c=e.selected,d=void 0!==c&&c,f=(0,u.Z)(e,["classes","className","component","hover","selected"]),g=n.useContext(E);return n.createElement(l,(0,p.Z)({ref:t,className:(0,m.Z)(a.root,r,g&&{head:a.head,footer:a.footer}[g.variant],s&&a.hover,d&&a.selected),role:"tr"===l?null:"row"},f))})),M=(0,f.Z)((function(e){return{root:{color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,"&$hover:hover":{backgroundColor:e.palette.action.hover},"&$selected, &$selected:hover":{backgroundColor:(0,N.U1)(e.palette.secondary.main,e.palette.action.selectedOpacity)}},selected:{},hover:{},head:{},footer:{}}}),{name:"MuiTableRow"})(I);var L=({columns:e,rows:t})=>n.createElement(A,{component:d.Z},n.createElement(y,null,n.createElement(H,null,n.createElement(M,null,e.map((e=>{var t;return n.createElement(C,{key:e.field},null!==(t=e.label)&&void 0!==t?t:e.field)})))),n.createElement(S,null,t.map(((t,a)=>n.createElement(M,{hover:!0,key:a},(0,i.zN)(Object.entries(t)).sortBy(((t,a)=>e.findIndex((e=>e.field===a))),((e,t)=>e-t)).map(((e,t)=>n.createElement(C,{key:t},e))).valueSeq().toArray())))))),j=a(38780),z=a(46121),D=a(37868);var P=a(25818),G=a(13665);const U=G.vl,$=(0,G.P7)(U),B=(0,G.El)("DIMENSION_UNSPECIFIED","COLUMNS","ROWS"),F=(0,G.jt)((0,G.su)((e=>({range:(0,G.XC)(e.range),majorDimension:B(e.majorDimension),values:$(e.values)}))));function W(e){switch(typeof e){case"string":case"number":return!0;default:return!1}}var K=()=>{const e=(0,s.useInjection)("EnvVarConfig"),t=function(e,t){const[a,r]=(0,n.useState)(null),[o,l]=(0,n.useState)(null),[i,s]=(0,n.useState)(null),[c,d]=(0,n.useState)(null);switch((0,n.useEffect)((()=>{r((0,D.ZP)(e,t)),d("pending")}),[e,t]),c){case"pending":throw(0,z.s)(a),a.then((e=>{l(e),d("fulfilled")})).catch((e=>{if(!(e instanceof Error))throw new TypeError("Non-error reason caught.");s(e),d("rejected")}));case null:case"fulfilled":return o;case"rejected":throw i}}((0,c.Gn)(P.Z`${e.get("SHEETS_API_URL")}/spreadsheets/:spreadsheetId/values/:sheetName\\?key=:apiKey`,{spreadsheetId:e.get("GOOGLE_SHEETS_FOSS_COMPARISON_TABLE_SHEET_ID"),sheetName:e.get("GOOGLE_SHEETS_FOSS_COMPARISON_TABLE_SHEET_SHEET_NAME"),apiKey:e.get("GOOGLE_CLOUD_APIS_GOOGLE_SHEETS_API_KEY")})),[a,r]=(0,n.useState)(null),[o,l]=(0,n.useState)(null);return(0,n.useEffect)((()=>{(async()=>{const e=F(await(null==t?void 0:t.json()));if(void 0===e)return;if("ROWS"!==(null==e?void 0:e.majorDimension))throw new Error("Dimension unsupported.");if(!e.values.every(Array.isArray))throw new Error("Less than 2 dimensions found.");if(!e.values.every((e=>e.every(W))))throw new Error("Neither string nor number value found.");const[a,...n]=e.values,o=a.map(((e,t)=>P.Z`${e}_${t}`));r(Array.from((0,j.Z)(o,a)).map((([e,t])=>({field:e,label:t})))),l(n.map((e=>Object.fromEntries((0,j.Z)(o,e)))))})()}),[t]),null===a||null===o?null:n.createElement(L,{columns:(0,i.aV)(a).sortBy((e=>e.field),((e,t)=>e<t?-1:e>t?1:0)).toArray(),rows:o})},q=a(13833),V=(0,a(85315).vU)({table:{id:"src.components.App.TablePage.table",defaultMessage:"Table"}});var X=(0,q.D)((()=>{const{formatMessage:e}=(0,l.Z)();return n.createElement(n.Fragment,null,n.createElement(o.q,{title:e(V.table)}),n.createElement(n.Suspense,{fallback:n.createElement(r.Z,null)},n.createElement(K,null)))}))}}]);
//# sourceMappingURL=table.8928e9e9.js.map